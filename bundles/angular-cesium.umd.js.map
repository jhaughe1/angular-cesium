{"version":3,"file":"angular-cesium.umd.js","sources":["../src/angular-cesium/services/viewer-factory/viewer-factory.service.js","../src/angular-cesium/services/viewer-configuration/viewer-configuration.service.js","../src/angular-cesium/services/cesium/cesium.service.js","../src/angular-cesium/services/geo-utils/geo-utils.service.js","../src/heatmap/cesium-heatmap-material-creator.js","../src/angular-cesium/services/drawers/basic-drawer/basic-drawer.service.js","../src/angular-cesium/services/drawers/entities-drawer/enums/graphics-type.enum.js","../src/angular-cesium/services/drawers/entities-drawer/optimized-entity-collection.js","../src/angular-cesium/services/drawers/entities-drawer/entities-drawer.service.js","../src/angular-cesium/services/drawers/billboard-drawer/billboard-drawer.service.js","../src/angular-cesium/services/map-events-mananger/consts/cesium-event.enum.js","../src/angular-cesium/services/map-events-mananger/event-observers/cesium-pure-event-observer.js","../src/angular-cesium/services/map-events-mananger/event-observers/cesium-long-press-observer.js","../src/angular-cesium/services/map-events-mananger/cesium-event-builder.js","../src/angular-cesium/services/map-events-mananger/consts/pickOptions.enum.js","../src/angular-cesium/services/plonter/plonter.service.js","../src/angular-cesium/utils/utils.service.js","../src/angular-cesium/services/map-events-mananger/event-observers/cesium-drag-drop-helper.js","../src/angular-cesium/services/map-events-mananger/map-events-manager.js","../src/angular-cesium/services/drawers/label-drawer/label-drawer.service.js","../src/angular-cesium/services/drawers/polyline-drawer/polyline-drawer.service.js","../src/angular-cesium/services/drawers/primitives-drawer/primitives-drawer.service.js","../src/angular-cesium/services/drawers/point-drawer/point-drawer.service.js","../src/angular-cesium/services/drawers/arc-drawer/arc-drawer.service.js","../src/angular-cesium/services/maps-manager/maps-manager.service.js","../src/angular-cesium/services/drawers/ellipse-drawer/ellipse-drawer.service.js","../src/angular-cesium/services/drawers/polygon-drawer/polygon-drawer.service.js","../src/angular-cesium/models/ac-keyboard-action.enum.js","../src/angular-cesium/services/keyboard-control/predefined-actions.js","../src/angular-cesium/services/keyboard-control/keyboard-control.service.js","../src/angular-cesium/models/scene-mode.enum.js","../src/angular-cesium/services/camera/camera.service.js","../src/angular-cesium/services/map-layers/map-layers.service.js","../src/angular-cesium/cesium-enhancements/StaticGeometryColorBatch.js","../src/angular-cesium/cesium-enhancements/ConfigurationService.js","../src/angular-cesium/services/screenshot/screenshot.service.js","../src/angular-cesium/services/context-menu/context-menu.service.js","../src/angular-cesium/services/coordinate-converter/coordinate-converter.service.js","../src/angular-cesium/services/drawers/polyline-primitive-drawer/polyline-primitive-drawer.service.js","../src/angular-cesium/components/ac-map/ac-map.component.js","../src/angular-cesium/services/layer-service/layer-service.service.js","../src/angular-cesium/models/action-type.enum.js","../src/angular-cesium/services/computation-cache/computation-cache.service.js","../src/angular-cesium/utils/checker.js","../src/angular-cesium/services/drawers/static-dynamic/ellipse-drawer/dynamic-ellipse-drawer.service.js","../src/angular-cesium/services/drawers/static-dynamic/dynamic-polyline-drawer/dynamic-polyline-drawer.service.js","../src/angular-cesium/services/drawers/static-dynamic/static-primitive-drawer/static-primitive-drawer.service.js","../src/angular-cesium/services/drawers/static-dynamic/static-circle-drawer/static-circle-drawer.service.js","../src/angular-cesium/services/drawers/static-dynamic/static-polyline-drawer/static-polyline-drawer.service.js","../src/angular-cesium/services/drawers/static-dynamic/static-polygon-drawer/polygon-drawer.service.js","../src/angular-cesium/services/drawers/static-dynamic/ellipse-drawer/ellipse-drawer.service.js","../src/angular-cesium/services/drawers/model-drawer/model-drawer.service.js","../src/angular-cesium/services/drawers/box-dawer/box-drawer.service.js","../src/angular-cesium/services/drawers/corridor-dawer/corridor-drawer.service.js","../src/angular-cesium/services/drawers/cylinder-dawer/cylinder-drawer.service.js","../src/angular-cesium/services/drawers/ellipoid-drawer/ellipsoid-drawer.service.js","../src/angular-cesium/services/drawers/polyline-volume-dawer/polyline-volume-drawer.service.js","../src/angular-cesium/services/drawers/wall-dawer/wall-drawer.service.js","../src/angular-cesium/services/drawers/rectangle-dawer/rectangle-drawer.service.js","../src/angular-cesium/services/drawers/label-primitive-drawer/label-primitive-drawer.service.js","../src/angular-cesium/services/drawers/billboard-primitive-drawer/billboard-primitive-drawer.service.js","../src/angular-cesium/services/drawers/point-primitive-drawer/point-primitive-drawer.service.js","../src/angular-cesium/services/drawers/html-drawer/html-drawer.service.js","../src/angular-cesium/components/ac-layer/ac-layer.component.js","../src/angular-cesium/services/entity-on-map/entity-on-map.component.js","../src/angular-cesium/components/ac-billboard/ac-billboard.component.js","../src/angular-cesium/services/basic-desc/basic-desc.service.js","../src/angular-cesium/services/json-mapper/json-mapper.service.js","../src/angular-cesium/services/smart-assigner/smart-assigner.service.js","../src/angular-cesium/services/cesium-properties/cesium-properties.service.js","../src/angular-cesium/components/ac-billborad-desc/ac-billborad-desc.component.js","../src/angular-cesium/components/ac-ellipse-desc/ac-ellipse-desc.component.js","../src/angular-cesium/components/ac-polyline-desc/ac-polyline-desc.component.js","../src/angular-cesium/pipes/pixel-offset/pixel-offset.pipe.js","../src/angular-cesium/pipes/radians-to-degrees/radians-to-degrees.pipe.js","../src/angular-cesium/components/ac-label-desc/ac-label-desc.component.js","../src/angular-cesium/utils/utils.module.js","../src/angular-cesium/components/ac-circle-desc/ac-circle-desc.component.js","../src/angular-cesium/components/ac-arc-desc/ac-arc-desc.component.js","../src/angular-cesium/models/ac-entity.js","../src/angular-cesium/models/ac-notification.js","../src/angular-cesium/models/map-layer-provider-options.enum.js","../src/angular-cesium/components/ac-map-layer-provider/ac-map-layer-provider.component.js","../src/angular-cesium/components/ac-point-desc/ac-point-desc.component.js","../src/angular-cesium/components/ac-label/ac-label.component.js","../src/angular-cesium/components/ac-polyline/ac-polyline.component.js","../src/angular-cesium/components/ac-ellipse/ac-ellipse.component.js","../src/angular-cesium/components/ac-point/ac-point.component.js","../src/angular-cesium/components/ac-html/ac-html.component.js","../src/angular-cesium/components/ac-circle/ac-circle.component.js","../src/angular-cesium/components/ac-arc/ac-arc.component.js","../src/angular-cesium/components/ac-polygon-desc/ac-polygon-desc.component.js","../src/angular-cesium/components/ac-default-plonter/ac-default-plonter.component.js","../src/angular-cesium/components/ac-polygon/ac-polygon.component.js","../src/angular-cesium/services/basic-primitive-desc/basic-static-primitive-desc.service.js","../src/angular-cesium/components/static-dynamic/ac-static-ellipse-desc/ac-static-ellipse-desc.component.js","../src/angular-cesium/components/static-dynamic/ac-dynamic-ellipse-desc/ac-dynamic-ellipse-desc.component.js","../src/angular-cesium/components/static-dynamic/ac-dynamic-polyline-desc/ac-dynamic-polyline-desc.component.js","../src/angular-cesium/components/static-dynamic/ac-static-polygon-desc/ac-static-polygon-desc.component.js","../src/angular-cesium/components/static-dynamic/ac-static-circle-desc/ac-static-circle-desc.component.js","../src/angular-cesium/components/static-dynamic/ac-dynamic-circle-desc/ac-dynamic-circle-desc.component.js","../src/angular-cesium/components/static-dynamic/ac-static-polyline-desc/ac-static-polyline-desc.component.js","../src/angular-cesium/components/ac-model-desc/ac-model-desc.component.js","../src/angular-cesium/components/ac-3d-tileset/ac-tileset-3d.component.js","../src/angular-cesium/components/ac-box-desc/ac-box-desc.component.js","../src/angular-cesium/components/ac-cylinder-desc/ac-cylinder-desc.component.js","../src/angular-cesium/components/ac-corridor-desc/ac-corridor-desc.component.js","../src/angular-cesium/components/ac-ellipsoid-desc/ac-ellipsoid-desc.component.js","../src/angular-cesium/components/ac-polyline-volume-desc/ac-polyline-volume-desc.component.js","../src/angular-cesium/components/ac-wall-desc/ac-wall-desc.component.js","../src/angular-cesium/components/ac-rectangle-desc/ac-rectangle-desc.component.js","../src/angular-cesium/components/ac-billboard-primitive-desc/ac-billboard-primitive-desc.component.js","../src/angular-cesium/components/ac-label-primitive-desc/ac-label-primitive-desc.component.js","../src/angular-cesium/components/ac-polyline-primitive-desc/ac-polyline-primitive-desc.component.js","../src/cesium-extender/primitives/html.js","../src/cesium-extender/collections/html.js","../src/cesium-extender/extender.js","../src/angular-cesium/services/ac-html-manager/ac-html-manager.service.js","../src/angular-cesium/directives/ac-html/ac-html.directive.js","../src/angular-cesium/components/ac-html-desc/ac-html-desc.component.js","../src/angular-cesium/directives/ac-html-container/ac-html-container.directive.js","../src/angular-cesium/components/ac-context-menu-wrapper/ac-context-menu-wrapper.component.js","../src/angular-cesium/components/ac-array-desc/ac-array-desc.component.js","../src/angular-cesium/components/ac-point-primitive-desc/ac-point-primitive-desc.component.js","../src/angular-cesium/components/ac-primitive-polyline/ac-primitive-polyline.component.js","../src/angular-cesium/angular-cesium.module.js","../src/angular-cesium/services/map-events-mananger/disposable-observable.js","../src/angular-cesium/services/map-events-mananger/consts/cesium-event-modifier.enum.js","../src/angular-cesium/services/selection-manager/selection-manager.service.js","../src/angular-cesium-widgets/models/edit-mode.enum.js","../src/angular-cesium-widgets/models/edit-actions.enum.js","../src/angular-cesium-widgets/models/edit-point.js","../src/angular-cesium-widgets/models/edit-polyline.js","../src/angular-cesium-widgets/models/label-props.js","../src/angular-cesium-widgets/models/editable-polygon.js","../src/angular-cesium-widgets/services/entity-editors/polygons-editor/polygons-manager.service.js","../src/angular-cesium-widgets/services/entity-editors/polygons-editor/polygons-editor.service.js","../src/angular-cesium-widgets/components/polygons-editor/polygons-editor.component.js","../src/angular-cesium-widgets/models/edit-arc.js","../src/angular-cesium-widgets/models/editable-circle.js","../src/angular-cesium-widgets/services/entity-editors/circles-editor/circles-manager.service.js","../src/angular-cesium-widgets/services/entity-editors/circles-editor/circles-editor.service.js","../src/angular-cesium-widgets/components/circles-editor/circles-editor.component.js","../src/angular-cesium-widgets/models/editable-polyline.js","../src/angular-cesium-widgets/models/editor-observable.js","../src/angular-cesium-widgets/models/polygon-editor-observable.js","../src/angular-cesium-widgets/models/circle-editor-observable.js","../src/angular-cesium-widgets/services/entity-editors/polyline-editor/polylines-editor.service.js","../src/angular-cesium-widgets/services/entity-editors/polyline-editor/polylines-manager.service.js","../src/angular-cesium-widgets/components/polylines-editor/polylines-editor.component.js","../src/angular-cesium-widgets/models/editable-hippodrome.js","../src/angular-cesium-widgets/services/entity-editors/hippodrome-editor/hippodrome-manager.service.js","../src/angular-cesium-widgets/services/entity-editors/hippodrome-editor/hippodrome-editor.service.js","../src/angular-cesium-widgets/components/hippodrome-editor/hippodrome-editor.component.js","../src/angular-cesium-widgets/services/draggable-to-map.service.js","../src/angular-cesium-widgets/directives/draggable-to-map.directive.js","../src/angular-cesium-widgets/components/toolbar/ac-toolbar/ac-toolbar.component.js","../src/angular-cesium-widgets/components/toolbar/ac-toolbar/drag-icon.component.js","../src/angular-cesium-widgets/components/toolbar/ac-toolbar-button/ac-toolbar-button.component.js","../src/angular-cesium-widgets/angular-cesium-widgets.module.js"],"sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { Injectable } from '@angular/core';\r\nvar ViewerFactory = (function () {\r\n    function ViewerFactory() {\r\n        this.cesium = Cesium;\r\n    }\r\n    ViewerFactory.prototype.createViewer = function (mapContainer, options) {\r\n        if (!window['CESIUM_BASE_URL']) {\r\n            window['CESIUM_BASE_URL'] = '/node_modules/cesium/Build/Cesium';\r\n        }\r\n        var viewer = null;\r\n        if (options) {\r\n            viewer = new this.cesium.Viewer(mapContainer, __assign({ contextOptions: {\r\n                    webgl: { preserveDrawingBuffer: true }\r\n                } }, options));\r\n        }\r\n        else {\r\n            viewer = new this.cesium.Viewer(mapContainer, {\r\n                imageryProvider: Cesium.createTileMapServiceImageryProvider({\r\n                    url: Cesium.buildModuleUrl('Assets/Textures/NaturalEarthII')\r\n                }),\r\n                baseLayerPicker: false,\r\n                geocoder: false,\r\n                contextOptions: {\r\n                    webgl: { preserveDrawingBuffer: true }\r\n                },\r\n            });\r\n        }\r\n        return viewer;\r\n    };\r\n    ViewerFactory.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ViewerFactory.ctorParameters = function () { return []; };\r\n    return ViewerFactory;\r\n}());\r\nexport { ViewerFactory };\r\n//# sourceMappingURL=viewer-factory.service.js.map","import { Injectable } from '@angular/core';\r\nvar ViewerConfiguration = (function () {\r\n    function ViewerConfiguration() {\r\n    }\r\n    Object.defineProperty(ViewerConfiguration.prototype, \"viewerOptions\", {\r\n        get: function () {\r\n            return this._viewerOptions;\r\n        },\r\n        set: function (value) {\r\n            this._viewerOptions = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewerConfiguration.prototype, \"viewerModifier\", {\r\n        get: function () {\r\n            return this._viewerModifier;\r\n        },\r\n        set: function (value) {\r\n            this._viewerModifier = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewerConfiguration.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ViewerConfiguration.ctorParameters = function () { return []; };\r\n    return ViewerConfiguration;\r\n}());\r\nexport { ViewerConfiguration };\r\n//# sourceMappingURL=viewer-configuration.service.js.map","import { Injectable, NgZone, Optional } from '@angular/core';\r\nimport { ViewerFactory } from '../viewer-factory/viewer-factory.service';\r\nimport { ViewerConfiguration } from '../viewer-configuration/viewer-configuration.service';\r\nvar CesiumService = (function () {\r\n    function CesiumService(ngZone, viewerFactory, viewerConfiguration) {\r\n        this.ngZone = ngZone;\r\n        this.viewerFactory = viewerFactory;\r\n        this.viewerConfiguration = viewerConfiguration;\r\n    }\r\n    CesiumService.prototype.init = function (mapContainer) {\r\n        var _this = this;\r\n        this.ngZone.runOutsideAngular(function () {\r\n            var options = _this.viewerConfiguration ? _this.viewerConfiguration.viewerOptions : undefined;\r\n            _this.cesiumViewer = _this.viewerFactory.createViewer(mapContainer, options);\r\n            if (_this.viewerConfiguration && _this.viewerConfiguration.viewerModifier &&\r\n                typeof _this.viewerConfiguration.viewerModifier === 'function') {\r\n                _this.viewerConfiguration.viewerModifier(_this.cesiumViewer);\r\n            }\r\n        });\r\n    };\r\n    CesiumService.prototype.getViewer = function () {\r\n        return this.cesiumViewer;\r\n    };\r\n    CesiumService.prototype.getScene = function () {\r\n        return this.cesiumViewer.scene;\r\n    };\r\n    CesiumService.prototype.getCanvas = function () {\r\n        return this.cesiumViewer.canvas;\r\n    };\r\n    CesiumService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CesiumService.ctorParameters = function () { return [\r\n        { type: NgZone, },\r\n        { type: ViewerFactory, },\r\n        { type: ViewerConfiguration, decorators: [{ type: Optional },] },\r\n    ]; };\r\n    return CesiumService;\r\n}());\r\nexport { CesiumService };\r\n//# sourceMappingURL=cesium.service.js.map","import { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../cesium/cesium.service';\r\nvar GeoUtilsService = (function () {\r\n    function GeoUtilsService(cesiumService) {\r\n        this.cesiumService = cesiumService;\r\n    }\r\n    GeoUtilsService.pointByLocationDistanceAndAzimuth = function (currentLocation, meterDistance, radianAzimuth, isInputCartesian) {\r\n        if (isInputCartesian === void 0) { isInputCartesian = false; }\r\n        var distance = meterDistance / Cesium.Ellipsoid.WGS84.maximumRadius;\r\n        var curLat = isInputCartesian ? Cesium.Cartographic.fromCartesian(currentLocation).latitude : currentLocation.latitude;\r\n        var curLon = isInputCartesian ? Cesium.Cartographic.fromCartesian(currentLocation).longitude : currentLocation.longitude;\r\n        var destinationLat = Math.asin(Math.sin(curLat) * Math.cos(distance) +\r\n            Math.cos(curLat) * Math.sin(distance) * Math.cos(radianAzimuth));\r\n        var destinationLon = curLon + Math.atan2(Math.sin(radianAzimuth) * Math.sin(distance) * Math.cos(curLat), Math.cos(distance) - Math.sin(curLat) * Math.sin(destinationLat));\r\n        destinationLon = (destinationLon + 3 * Math.PI) % (2 * Math.PI) - Math.PI;\r\n        return Cesium.Cartesian3.fromRadians(destinationLon, destinationLat);\r\n    };\r\n    GeoUtilsService.distance = function (pos0, pos1) {\r\n        return Cesium.Cartesian3.distance(pos0, pos1);\r\n    };\r\n    GeoUtilsService.getPositionsDelta = function (position0, position1) {\r\n        return {\r\n            x: position1.x - position0.x,\r\n            y: position1.y - position0.y,\r\n            z: position1.z - position0.z,\r\n        };\r\n    };\r\n    GeoUtilsService.addDeltaToPosition = function (position, delta, keepReference) {\r\n        if (keepReference === void 0) { keepReference = false; }\r\n        if (keepReference) {\r\n            position.x += delta.x;\r\n            position.y += delta.y;\r\n            position.z += delta.z;\r\n            var cartographic = Cesium.Cartographic.fromCartesian(position);\r\n            cartographic.height = 0;\r\n            var cartesian = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude, cartographic.height);\r\n            position.x = cartesian.x;\r\n            position.y = cartesian.y;\r\n            position.z = cartesian.z;\r\n            return position;\r\n        }\r\n        else {\r\n            var cartesian = new Cesium.Cartesian3(position.x + delta.x, position.y + delta.y, position.z + delta.z);\r\n            var cartographic = Cesium.Cartographic.fromCartesian(cartesian);\r\n            cartographic.height = 0;\r\n            return Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude, cartographic.height);\r\n        }\r\n    };\r\n    GeoUtilsService.middleCartesian3Point = function (position0, position1) {\r\n        return new Cesium.Cartesian3(position1.x - position0.x / 2, position1.y - position0.y / 2, position1.z - position0.z / 2);\r\n    };\r\n    GeoUtilsService.prototype.screenPositionToCartesian3 = function (screenPos) {\r\n        var camera = this.cesiumService.getViewer().camera;\r\n        return camera.pickEllipsoid(screenPos);\r\n    };\r\n    GeoUtilsService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    GeoUtilsService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return GeoUtilsService;\r\n}());\r\nexport { GeoUtilsService };\r\n//# sourceMappingURL=geo-utils.service.js.map","import { GeoUtilsService } from '../angular-cesium/services/geo-utils/geo-utils.service';\r\nimport * as h337 from 'heatmap.js/build/heatmap.js';\r\nimport { Injectable } from '@angular/core';\r\nif (!h337) {\r\n    throw new Error('must install heatmap.js. please do npm -i heatmap.js ');\r\n}\r\nvar CesiumHeatMapMaterialCreator = (function () {\r\n    function CesiumHeatMapMaterialCreator() {\r\n        this.heatmapOptionsDefaults = {\r\n            minCanvasSize: 700,\r\n            maxCanvasSize: 2000,\r\n            radiusFactor: 60,\r\n            spacingFactor: 1,\r\n            maxOpacity: 0.8,\r\n            minOpacity: 0.1,\r\n            blur: 0.85,\r\n            gradient: {\r\n                '.3': 'blue',\r\n                '.65': 'yellow',\r\n                '.8': 'orange',\r\n                '.95': 'red'\r\n            },\r\n        };\r\n        this.WMP = new Cesium.WebMercatorProjection();\r\n        this.wgs84PointToHeatmapPoint = function (p) {\r\n            return this.mercatorPointToHeatmapPoint(this.wgs84ToMercator(p));\r\n        };\r\n        this.rad2deg = function (r) {\r\n            var d = r / (Math.PI / 180.0);\r\n            return d;\r\n        };\r\n    }\r\n    CesiumHeatMapMaterialCreator.calcCircleContainingRect = function (center, radius) {\r\n        return CesiumHeatMapMaterialCreator.calcEllipseContainingRect(center, radius, radius);\r\n    };\r\n    CesiumHeatMapMaterialCreator.calcEllipseContainingRect = function (center, semiMajorAxis, semiMinorAxis) {\r\n        var top = GeoUtilsService.pointByLocationDistanceAndAzimuth(center, semiMinorAxis, 0, true);\r\n        var right = GeoUtilsService.pointByLocationDistanceAndAzimuth(center, semiMajorAxis, Math.PI / 2, true);\r\n        var bottom = GeoUtilsService.pointByLocationDistanceAndAzimuth(center, semiMajorAxis, Math.PI, true);\r\n        var left = GeoUtilsService.pointByLocationDistanceAndAzimuth(center, semiMajorAxis, Math.PI * 1.5, true);\r\n        var ellipsePoints = [top, right, bottom, left];\r\n        return Cesium.Rectangle.fromCartesianArray(ellipsePoints);\r\n    };\r\n    CesiumHeatMapMaterialCreator.calculateContainingRectFromPoints = function (points) {\r\n        return Cesium.Rectangle.fromCartesianArray(points);\r\n    };\r\n    CesiumHeatMapMaterialCreator.prototype.setData = function (min, max, data) {\r\n        if (data && data.length > 0 && min !== null && min !== false && max !== null && max !== false) {\r\n            this.heatmap.setData({\r\n                min: min,\r\n                max: max,\r\n                data: data\r\n            });\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ;\r\n    CesiumHeatMapMaterialCreator.prototype.setWGS84Data = function (min, max, data) {\r\n        if (data && data.length > 0 && min !== null && min !== false && max !== null && max !== false) {\r\n            var convdata = [];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var gp = data[i];\r\n                var hp = this.wgs84PointToHeatmapPoint(gp);\r\n                if (gp.value || gp.value === 0) {\r\n                    hp.value = gp.value;\r\n                }\r\n                convdata.push(hp);\r\n            }\r\n            return this.setData(min, max, convdata);\r\n        }\r\n        return false;\r\n    };\r\n    ;\r\n    CesiumHeatMapMaterialCreator.prototype.mercatorPointToHeatmapPoint = function (p) {\r\n        var pn = {};\r\n        pn.x = Math.round((p.x - this._xoffset) / this._factor + this._spacing);\r\n        pn.y = Math.round((p.y - this._yoffset) / this._factor + this._spacing);\r\n        pn.y = this.height - pn.y;\r\n        return pn;\r\n    };\r\n    ;\r\n    CesiumHeatMapMaterialCreator.prototype.createContainer = function (height, width) {\r\n        var id = 'heatmap' + CesiumHeatMapMaterialCreator.containerCanvasCounter++;\r\n        var container = document.createElement('div');\r\n        container.setAttribute('id', id);\r\n        container.setAttribute('style', 'width: ' + width + 'px; height: ' + height + 'px; margin: 0px; display: none;');\r\n        document.body.appendChild(container);\r\n        return { container: container, id: id };\r\n    };\r\n    CesiumHeatMapMaterialCreator.prototype.wgs84ToMercator = function (p) {\r\n        var mp = this.WMP.project(Cesium.Cartographic.fromDegrees(p.x, p.y));\r\n        return {\r\n            x: mp.x,\r\n            y: mp.y\r\n        };\r\n    };\r\n    ;\r\n    CesiumHeatMapMaterialCreator.prototype.wgs84ToMercatorBB = function (bb) {\r\n        var sw = this.WMP.project(Cesium.Cartographic.fromRadians(bb.west, bb.south));\r\n        var ne = this.WMP.project(Cesium.Cartographic.fromRadians(bb.east, bb.north));\r\n        return {\r\n            north: ne.y,\r\n            east: ne.x,\r\n            south: sw.y,\r\n            west: sw.x\r\n        };\r\n    };\r\n    ;\r\n    CesiumHeatMapMaterialCreator.prototype.mercatorToWgs84BB = function (bb) {\r\n        var sw = this.WMP.unproject(new Cesium.Cartesian3(bb.west, bb.south));\r\n        var ne = this.WMP.unproject(new Cesium.Cartesian3(bb.east, bb.north));\r\n        return {\r\n            north: this.rad2deg(ne.latitude),\r\n            east: this.rad2deg(ne.longitude),\r\n            south: this.rad2deg(sw.latitude),\r\n            west: this.rad2deg(sw.longitude)\r\n        };\r\n    };\r\n    ;\r\n    CesiumHeatMapMaterialCreator.prototype.setWidthAndHeight = function (mbb) {\r\n        this.width = ((mbb.east > 0 && mbb.west < 0) ? mbb.east + Math.abs(mbb.west) : Math.abs(mbb.east - mbb.west));\r\n        this.height = ((mbb.north > 0 && mbb.south < 0) ? mbb.north + Math.abs(mbb.south) : Math.abs(mbb.north - mbb.south));\r\n        this._factor = 1;\r\n        if (this.width > this.height && this.width > this.heatmapOptionsDefaults.maxCanvasSize) {\r\n            this._factor = this.width / this.heatmapOptionsDefaults.maxCanvasSize;\r\n            if (this.height / this._factor < this.heatmapOptionsDefaults.minCanvasSize) {\r\n                this._factor = this.height / this.heatmapOptionsDefaults.minCanvasSize;\r\n            }\r\n        }\r\n        else if (this.height > this.width && this.height > this.heatmapOptionsDefaults.maxCanvasSize) {\r\n            this._factor = this.height / this.heatmapOptionsDefaults.maxCanvasSize;\r\n            if (this.width / this._factor < this.heatmapOptionsDefaults.minCanvasSize) {\r\n                this._factor = this.width / this.heatmapOptionsDefaults.minCanvasSize;\r\n            }\r\n        }\r\n        else if (this.width < this.height && this.width < this.heatmapOptionsDefaults.minCanvasSize) {\r\n            this._factor = this.width / this.heatmapOptionsDefaults.minCanvasSize;\r\n            if (this.height / this._factor > this.heatmapOptionsDefaults.maxCanvasSize) {\r\n                this._factor = this.height / this.heatmapOptionsDefaults.maxCanvasSize;\r\n            }\r\n        }\r\n        else if (this.height < this.width && this.height < this.heatmapOptionsDefaults.minCanvasSize) {\r\n            this._factor = this.height / this.heatmapOptionsDefaults.minCanvasSize;\r\n            if (this.width / this._factor > this.heatmapOptionsDefaults.maxCanvasSize) {\r\n                this._factor = this.width / this.heatmapOptionsDefaults.maxCanvasSize;\r\n            }\r\n        }\r\n        this.width = this.width / this._factor;\r\n        this.height = this.height / this._factor;\r\n    };\r\n    ;\r\n    CesiumHeatMapMaterialCreator.prototype.create = function (containingBoundingRect, heatmapDataSet, heatmapOptions) {\r\n        var userBB = containingBoundingRect;\r\n        var heatPointsData = heatmapDataSet.heatPointsData, _a = heatmapDataSet.min, min = _a === void 0 ? 0 : _a, _b = heatmapDataSet.max, max = _b === void 0 ? 100 : _b;\r\n        var finalHeatmapOptions = Object.assign({}, this.heatmapOptionsDefaults, heatmapOptions);\r\n        this._mbounds = this.wgs84ToMercatorBB(userBB);\r\n        this.setWidthAndHeight(this._mbounds);\r\n        finalHeatmapOptions.radius = Math.round((heatmapOptions.radius) ?\r\n            heatmapOptions.radius : ((this.width > this.height) ?\r\n            this.width / this.heatmapOptionsDefaults.radiusFactor :\r\n            this.height / this.heatmapOptionsDefaults.radiusFactor));\r\n        this._spacing = finalHeatmapOptions.radius * this.heatmapOptionsDefaults.spacingFactor;\r\n        this._xoffset = this._mbounds.west;\r\n        this._yoffset = this._mbounds.south;\r\n        this.width = Math.round(this.width + this._spacing * 2);\r\n        this.height = Math.round(this.height + this._spacing * 2);\r\n        this._mbounds.west -= this._spacing * this._factor;\r\n        this._mbounds.east += this._spacing * this._factor;\r\n        this._mbounds.south -= this._spacing * this._factor;\r\n        this._mbounds.north += this._spacing * this._factor;\r\n        this.bounds = this.mercatorToWgs84BB(this._mbounds);\r\n        this._rectangle = Cesium.Rectangle.fromDegrees(this.bounds.west, this.bounds.south, this.bounds.east, this.bounds.north);\r\n        var _c = this.createContainer(this.height, this.width), container = _c.container, id = _c.id;\r\n        Object.assign(finalHeatmapOptions, { container: container });\r\n        this.heatmap = h337.create(finalHeatmapOptions);\r\n        this.setWGS84Data(0, 100, heatPointsData);\r\n        var heatMapCanvas = this.heatmap._renderer.canvas;\r\n        var heatMapMaterial = new Cesium.ImageMaterialProperty({\r\n            image: heatMapCanvas,\r\n            transparent: true,\r\n        });\r\n        this.setClear(heatMapMaterial, id);\r\n        return heatMapMaterial;\r\n    };\r\n    CesiumHeatMapMaterialCreator.prototype.setClear = function (heatMapMaterial, id) {\r\n        heatMapMaterial.clear = function () {\r\n            var elem = document.getElementById(id);\r\n            return elem.parentNode.removeChild(elem);\r\n        };\r\n    };\r\n    CesiumHeatMapMaterialCreator.containerCanvasCounter = 0;\r\n    CesiumHeatMapMaterialCreator.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CesiumHeatMapMaterialCreator.ctorParameters = function () { return []; };\r\n    return CesiumHeatMapMaterialCreator;\r\n}());\r\nexport { CesiumHeatMapMaterialCreator };\r\n//# sourceMappingURL=cesium-heatmap-material-creator.js.map","var BasicDrawerService = (function () {\r\n    function BasicDrawerService() {\r\n    }\r\n    BasicDrawerService.prototype.setPropsAssigner = function (assigner) {\r\n        this._propsAssigner = assigner;\r\n    };\r\n    return BasicDrawerService;\r\n}());\r\nexport { BasicDrawerService };\r\n//# sourceMappingURL=basic-drawer.service.js.map","export var GraphicsType;\r\n(function (GraphicsType) {\r\n    GraphicsType[GraphicsType[\"ellipse\"] = Cesium.EllipseGraphics] = \"ellipse\";\r\n    GraphicsType[GraphicsType[\"ellipsoid\"] = Cesium.EllipsoidGraphics] = \"ellipsoid\";\r\n    GraphicsType[GraphicsType[\"polygon\"] = Cesium.PolygonGraphics] = \"polygon\";\r\n    GraphicsType[GraphicsType[\"polyline\"] = Cesium.PolylineGraphics] = \"polyline\";\r\n    GraphicsType[GraphicsType[\"polylineVolume\"] = Cesium.PolylineVolumeGraphics] = \"polylineVolume\";\r\n    GraphicsType[GraphicsType[\"box\"] = Cesium.BoxGraphics] = \"box\";\r\n    GraphicsType[GraphicsType[\"corridor\"] = Cesium.CorridorGraphics] = \"corridor\";\r\n    GraphicsType[GraphicsType[\"cylinder\"] = Cesium.CylinderGraphics] = \"cylinder\";\r\n    GraphicsType[GraphicsType[\"label\"] = Cesium.LabelGraphics] = \"label\";\r\n    GraphicsType[GraphicsType[\"billboard\"] = Cesium.BillboardGraphics] = \"billboard\";\r\n    GraphicsType[GraphicsType[\"model\"] = Cesium.ModelGraphics] = \"model\";\r\n    GraphicsType[GraphicsType[\"path\"] = Cesium.PathGraphics] = \"path\";\r\n    GraphicsType[GraphicsType[\"point\"] = Cesium.PointGraphics] = \"point\";\r\n    GraphicsType[GraphicsType[\"rectangle\"] = Cesium.RectangleGraphics] = \"rectangle\";\r\n    GraphicsType[GraphicsType[\"wall\"] = Cesium.WallGraphics] = \"wall\";\r\n})(GraphicsType || (GraphicsType = {}));\r\n//# sourceMappingURL=graphics-type.enum.js.map","var OptimizedEntityCollection = (function () {\r\n    function OptimizedEntityCollection(entityCollection, collectionSize, updateRate) {\r\n        if (collectionSize === void 0) { collectionSize = -1; }\r\n        if (updateRate === void 0) { updateRate = -1; }\r\n        this.entityCollection = entityCollection;\r\n        this._isSuspended = false;\r\n        this._isHardSuspend = false;\r\n        this._updateRate = updateRate;\r\n        this._collectionSize = collectionSize;\r\n    }\r\n    OptimizedEntityCollection.prototype.setShow = function (show) {\r\n        this.entityCollection.show = show;\r\n    };\r\n    Object.defineProperty(OptimizedEntityCollection.prototype, \"isSuspended\", {\r\n        get: function () {\r\n            return this._isSuspended;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptimizedEntityCollection.prototype, \"updateRate\", {\r\n        get: function () {\r\n            return this._updateRate;\r\n        },\r\n        set: function (value) {\r\n            this._updateRate = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptimizedEntityCollection.prototype, \"collectionSize\", {\r\n        get: function () {\r\n            return this._collectionSize;\r\n        },\r\n        set: function (value) {\r\n            this._collectionSize = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OptimizedEntityCollection.prototype.collection = function () {\r\n        return this.entityCollection;\r\n    };\r\n    OptimizedEntityCollection.prototype.isFree = function () {\r\n        return this._collectionSize < 1 || this.entityCollection.values.length < this._collectionSize;\r\n    };\r\n    OptimizedEntityCollection.prototype.add = function (entity) {\r\n        this.suspend();\r\n        return this.entityCollection.add(entity);\r\n    };\r\n    OptimizedEntityCollection.prototype.remove = function (entity) {\r\n        this.suspend();\r\n        return this.entityCollection.remove(entity);\r\n    };\r\n    OptimizedEntityCollection.prototype.removeNoSuspend = function (entity) {\r\n        this.entityCollection.remove(entity);\r\n    };\r\n    OptimizedEntityCollection.prototype.removeAll = function () {\r\n        this.suspend();\r\n        this.entityCollection.removeAll();\r\n    };\r\n    OptimizedEntityCollection.prototype.onEventSuspension = function (callback, once) {\r\n        var _this = this;\r\n        if (once === void 0) { once = false; }\r\n        this._onEventSuspensionCallback = { callback: callback, once: once };\r\n        return function () {\r\n            _this._onEventSuspensionCallback = undefined;\r\n        };\r\n    };\r\n    OptimizedEntityCollection.prototype.onEventResume = function (callback, once) {\r\n        var _this = this;\r\n        if (once === void 0) { once = false; }\r\n        this._onEventResumeCallback = { callback: callback, once: once };\r\n        if (!this._isSuspended) {\r\n            this.triggerEventResume();\r\n        }\r\n        return function () {\r\n            _this._onEventResumeCallback = undefined;\r\n        };\r\n    };\r\n    OptimizedEntityCollection.prototype.triggerEventSuspension = function () {\r\n        if (this._onEventSuspensionCallback !== undefined) {\r\n            var callback = this._onEventSuspensionCallback.callback;\r\n            if (this._onEventSuspensionCallback.once) {\r\n                this._onEventSuspensionCallback = undefined;\r\n            }\r\n            callback();\r\n        }\r\n    };\r\n    OptimizedEntityCollection.prototype.triggerEventResume = function () {\r\n        if (this._onEventResumeCallback !== undefined) {\r\n            var callback = this._onEventResumeCallback.callback;\r\n            if (this._onEventResumeCallback.once) {\r\n                this._onEventResumeCallback = undefined;\r\n            }\r\n            callback();\r\n        }\r\n    };\r\n    OptimizedEntityCollection.prototype.suspend = function () {\r\n        var _this = this;\r\n        if (this._updateRate < 0) {\r\n            return;\r\n        }\r\n        if (this._isHardSuspend) {\r\n            return;\r\n        }\r\n        if (!this._isSuspended) {\r\n            this._isSuspended = true;\r\n            this.entityCollection.suspendEvents();\r\n            this.triggerEventSuspension();\r\n            this._suspensionTimeout = setTimeout(function () {\r\n                _this.entityCollection.resumeEvents();\r\n                _this.triggerEventResume();\r\n                _this._isSuspended = false;\r\n                _this._suspensionTimeout = undefined;\r\n            }, this._updateRate);\r\n        }\r\n    };\r\n    OptimizedEntityCollection.prototype.hardSuspend = function () {\r\n        this.entityCollection.suspendEvents();\r\n        this._isHardSuspend = true;\r\n    };\r\n    OptimizedEntityCollection.prototype.hardResume = function () {\r\n        this.entityCollection.resumeEvents();\r\n        this._isHardSuspend = false;\r\n    };\r\n    return OptimizedEntityCollection;\r\n}());\r\nexport { OptimizedEntityCollection };\r\n//# sourceMappingURL=optimized-entity-collection.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { BasicDrawerService } from '../basic-drawer/basic-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from './enums/graphics-type.enum';\r\nimport { OptimizedEntityCollection } from './optimized-entity-collection';\r\nvar EntitiesDrawerService = (function (_super) {\r\n    __extends(EntitiesDrawerService, _super);\r\n    function EntitiesDrawerService(cesiumService, graphicsType, defaultOptions) {\r\n        if (defaultOptions === void 0) { defaultOptions = {\r\n            collectionMaxSize: -1,\r\n            collectionSuspensionTime: -1,\r\n            collectionsNumber: 1\r\n        }; }\r\n        var _this = _super.call(this) || this;\r\n        _this.cesiumService = cesiumService;\r\n        _this.graphicsType = graphicsType;\r\n        _this.defaultOptions = defaultOptions;\r\n        _this.entityCollections = new Map();\r\n        _this.graphicsTypeName = GraphicsType[_this.graphicsType];\r\n        return _this;\r\n    }\r\n    EntitiesDrawerService.prototype.getFreeEntitiesCollection = function () {\r\n        var freeEntityCollection = null;\r\n        this.entityCollections.forEach(function (entityCollection) {\r\n            if (entityCollection.isFree()) {\r\n                freeEntityCollection = entityCollection;\r\n            }\r\n        });\r\n        return freeEntityCollection;\r\n    };\r\n    EntitiesDrawerService.prototype.init = function (options) {\r\n        var finalOptions = options || this.defaultOptions;\r\n        var dataSources = [];\r\n        for (var i = 0; i < finalOptions.collectionsNumber; i++) {\r\n            var dataSource = new Cesium.CustomDataSource();\r\n            dataSources.push(dataSource);\r\n            this.entityCollections.set(dataSource.entities, new OptimizedEntityCollection(dataSource.entities, finalOptions.collectionMaxSize, finalOptions.collectionSuspensionTime));\r\n        }\r\n        return dataSources;\r\n    };\r\n    EntitiesDrawerService.prototype.add = function (cesiumProps) {\r\n        var optimizedEntityCollection = this.getFreeEntitiesCollection();\r\n        if (optimizedEntityCollection === null) {\r\n            throw new Error('No more free entity collections');\r\n        }\r\n        var graphicsClass = this.graphicsType;\r\n        var entityObject = (_a = {\r\n                position: cesiumProps.position !== undefined ? cesiumProps.position : undefined,\r\n                description: cesiumProps.description !== undefined ? cesiumProps.description : undefined,\r\n                orientation: cesiumProps.orientation !== undefined ? cesiumProps.orientation : undefined,\r\n                viewFrom: cesiumProps.viewFrom !== undefined ? cesiumProps.viewFrom : undefined,\r\n                availability: cesiumProps.availability !== undefined ? cesiumProps.availability : undefined\r\n            },\r\n            _a[this.graphicsTypeName] = cesiumProps,\r\n            _a);\r\n        if (cesiumProps.name !== undefined) {\r\n            entityObject.name = cesiumProps.name;\r\n        }\r\n        return optimizedEntityCollection.add(entityObject);\r\n        var _a;\r\n    };\r\n    EntitiesDrawerService.prototype.update = function (entity, cesiumProps) {\r\n        this.suspendEntityCollection(entity);\r\n        entity.position = cesiumProps.position !== undefined ? cesiumProps.position : undefined;\r\n        entity.name = cesiumProps.name !== undefined ? cesiumProps.name : entity.name;\r\n        entity.description = cesiumProps.description !== undefined ? cesiumProps.description : entity.description;\r\n        entity.orientation = cesiumProps.orientation !== undefined ? cesiumProps.orientation : entity.orientation;\r\n        entity.viewFrom = cesiumProps.viewFrom !== undefined ? cesiumProps.viewFrom : entity.viewFrom;\r\n        entity.availability = cesiumProps.availability !== undefined ? cesiumProps.availability : undefined;\r\n        if (this._propsAssigner) {\r\n            this._propsAssigner(entity[this.graphicsTypeName], cesiumProps);\r\n        }\r\n        else {\r\n            Object.assign(entity[this.graphicsTypeName], cesiumProps);\r\n        }\r\n    };\r\n    EntitiesDrawerService.prototype.remove = function (entity) {\r\n        var optimizedEntityCollection = this.entityCollections.get(entity.entityCollection);\r\n        optimizedEntityCollection.remove(entity);\r\n    };\r\n    EntitiesDrawerService.prototype.removeAll = function () {\r\n        this.entityCollections.forEach(function (entityCollection) {\r\n            entityCollection.removeAll();\r\n        });\r\n    };\r\n    EntitiesDrawerService.prototype.setShow = function (showValue) {\r\n        this.entityCollections.forEach(function (entityCollection) {\r\n            entityCollection.setShow(showValue);\r\n        });\r\n    };\r\n    EntitiesDrawerService.prototype.suspendEntityCollection = function (entity) {\r\n        var id = entity.entityCollection;\r\n        if (!this.entityCollections.has(id)) {\r\n            throw new Error('No EntityCollection for entity.entityCollection');\r\n        }\r\n        var entityCollection = this.entityCollections.get(id);\r\n        entityCollection.suspend();\r\n    };\r\n    EntitiesDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    EntitiesDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n        { type: GraphicsType, },\r\n        null,\r\n    ]; };\r\n    return EntitiesDrawerService;\r\n}(BasicDrawerService));\r\nexport { EntitiesDrawerService };\r\n//# sourceMappingURL=entities-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar BillboardDrawerService = (function (_super) {\r\n    __extends(BillboardDrawerService, _super);\r\n    function BillboardDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.billboard) || this;\r\n    }\r\n    BillboardDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    BillboardDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return BillboardDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { BillboardDrawerService };\r\n//# sourceMappingURL=billboard-drawer.service.js.map",";\r\nexport var CesiumEvent;\r\n(function (CesiumEvent) {\r\n    CesiumEvent[CesiumEvent[\"MOUSE_MOVE\"] = Cesium.ScreenSpaceEventType.MOUSE_MOVE] = \"MOUSE_MOVE\";\r\n    CesiumEvent[CesiumEvent[\"LEFT_CLICK\"] = Cesium.ScreenSpaceEventType.LEFT_CLICK] = \"LEFT_CLICK\";\r\n    CesiumEvent[CesiumEvent[\"LEFT_DOUBLE_CLICK\"] = Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK] = \"LEFT_DOUBLE_CLICK\";\r\n    CesiumEvent[CesiumEvent[\"LEFT_DOWN\"] = Cesium.ScreenSpaceEventType.LEFT_DOWN] = \"LEFT_DOWN\";\r\n    CesiumEvent[CesiumEvent[\"LEFT_UP\"] = Cesium.ScreenSpaceEventType.LEFT_UP] = \"LEFT_UP\";\r\n    CesiumEvent[CesiumEvent[\"MIDDLE_CLICK\"] = Cesium.ScreenSpaceEventType.MIDDLE_CLICK] = \"MIDDLE_CLICK\";\r\n    CesiumEvent[CesiumEvent[\"MIDDLE_DOUBLE_CLICK\"] = Cesium.ScreenSpaceEventType.MIDDLE_DOUBLE_CLICK] = \"MIDDLE_DOUBLE_CLICK\";\r\n    CesiumEvent[CesiumEvent[\"MIDDLE_DOWN\"] = Cesium.ScreenSpaceEventType.MIDDLE_DOWN] = \"MIDDLE_DOWN\";\r\n    CesiumEvent[CesiumEvent[\"MIDDLE_UP\"] = Cesium.ScreenSpaceEventType.MIDDLE_UP] = \"MIDDLE_UP\";\r\n    CesiumEvent[CesiumEvent[\"PINCH_START\"] = Cesium.ScreenSpaceEventType.PINCH_START] = \"PINCH_START\";\r\n    CesiumEvent[CesiumEvent[\"PINCH_END\"] = Cesium.ScreenSpaceEventType.PINCH_END] = \"PINCH_END\";\r\n    CesiumEvent[CesiumEvent[\"PINCH_MOVE\"] = Cesium.ScreenSpaceEventType.PINCH_MOVE] = \"PINCH_MOVE\";\r\n    CesiumEvent[CesiumEvent[\"RIGHT_CLICK\"] = Cesium.ScreenSpaceEventType.RIGHT_CLICK] = \"RIGHT_CLICK\";\r\n    CesiumEvent[CesiumEvent[\"RIGHT_DOUBLE_CLICK\"] = Cesium.ScreenSpaceEventType.RIGHT_DOUBLE_CLICK] = \"RIGHT_DOUBLE_CLICK\";\r\n    CesiumEvent[CesiumEvent[\"RIGHT_DOWN\"] = Cesium.ScreenSpaceEventType.RIGHT_DOWN] = \"RIGHT_DOWN\";\r\n    CesiumEvent[CesiumEvent[\"RIGHT_UP\"] = Cesium.ScreenSpaceEventType.RIGHT_UP] = \"RIGHT_UP\";\r\n    CesiumEvent[CesiumEvent[\"WHEEL\"] = Cesium.ScreenSpaceEventType.WHEEL] = \"WHEEL\";\r\n    CesiumEvent[CesiumEvent[\"LONG_LEFT_PRESS\"] = 110] = \"LONG_LEFT_PRESS\";\r\n    CesiumEvent[CesiumEvent[\"LONG_RIGHT_PRESS\"] = 111] = \"LONG_RIGHT_PRESS\";\r\n    CesiumEvent[CesiumEvent[\"LONG_MIDDLE_PRESS\"] = 112] = \"LONG_MIDDLE_PRESS\";\r\n    CesiumEvent[CesiumEvent[\"LEFT_CLICK_DRAG\"] = 113] = \"LEFT_CLICK_DRAG\";\r\n    CesiumEvent[CesiumEvent[\"RIGHT_CLICK_DRAG\"] = 114] = \"RIGHT_CLICK_DRAG\";\r\n    CesiumEvent[CesiumEvent[\"MIDDLE_CLICK_DRAG\"] = 115] = \"MIDDLE_CLICK_DRAG\";\r\n})(CesiumEvent || (CesiumEvent = {}));\r\n//# sourceMappingURL=cesium-event.enum.js.map","import { Observable } from 'rxjs/Observable';\r\nvar CesiumPureEventObserver = (function () {\r\n    function CesiumPureEventObserver(event, modifier) {\r\n        this.event = event;\r\n        this.modifier = modifier;\r\n    }\r\n    CesiumPureEventObserver.prototype.init = function (eventsHandler) {\r\n        var _this = this;\r\n        this.observer = Observable.create(function (observer) {\r\n            eventsHandler.setInputAction(function (movement) {\r\n                if (movement.position) {\r\n                    movement.startPosition = movement.position;\r\n                    movement.endPosition = movement.position;\r\n                }\r\n                observer.next(movement);\r\n            }, _this.event, _this.modifier);\r\n        });\r\n        return this.observer;\r\n    };\r\n    return CesiumPureEventObserver;\r\n}());\r\nexport { CesiumPureEventObserver };\r\n//# sourceMappingURL=cesium-pure-event-observer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { CesiumPureEventObserver } from './cesium-pure-event-observer';\r\nimport { CesiumEvent } from '../consts/cesium-event.enum';\r\nimport { Observable } from 'rxjs/Observable';\r\nvar CesiumLongPressObserver = (function (_super) {\r\n    __extends(CesiumLongPressObserver, _super);\r\n    function CesiumLongPressObserver(event, modifier, eventFactory) {\r\n        var _this = _super.call(this, event, modifier) || this;\r\n        _this.event = event;\r\n        _this.modifier = modifier;\r\n        _this.eventFactory = eventFactory;\r\n        return _this;\r\n    }\r\n    ;\r\n    CesiumLongPressObserver.prototype.init = function () {\r\n        var startEvent;\r\n        var stopEvent;\r\n        if (this.event === CesiumEvent.LONG_LEFT_PRESS) {\r\n            startEvent = CesiumEvent.LEFT_DOWN;\r\n            stopEvent = CesiumEvent.LEFT_UP;\r\n        }\r\n        else if (this.event === CesiumEvent.LONG_RIGHT_PRESS) {\r\n            startEvent = CesiumEvent.RIGHT_DOWN;\r\n            stopEvent = CesiumEvent.RIGHT_UP;\r\n        }\r\n        else if (this.event === CesiumEvent.LONG_MIDDLE_PRESS) {\r\n            startEvent = CesiumEvent.MIDDLE_DOWN;\r\n            stopEvent = CesiumEvent.MIDDLE_UP;\r\n        }\r\n        var startEventObservable = this.eventFactory.get(startEvent, this.modifier);\r\n        var stopEventObservable = this.eventFactory.get(stopEvent, this.modifier);\r\n        var longPressObservable = startEventObservable\r\n            .flatMap(function (e) { return Observable.of(e).delay(CesiumLongPressObserver.LONG_PRESS_EVENTS_DURATION).takeUntil(stopEventObservable); }).publish();\r\n        return longPressObservable;\r\n    };\r\n    CesiumLongPressObserver.LONG_PRESS_EVENTS_DURATION = 250;\r\n    return CesiumLongPressObserver;\r\n}(CesiumPureEventObserver));\r\nexport { CesiumLongPressObserver };\r\n//# sourceMappingURL=cesium-long-press-observer.js.map","import { CesiumService } from '../cesium/cesium.service';\r\nimport { CesiumEvent } from './consts/cesium-event.enum';\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumPureEventObserver } from './event-observers/cesium-pure-event-observer';\r\nimport { CesiumLongPressObserver } from './event-observers/cesium-long-press-observer';\r\nvar CesiumEventBuilder = (function () {\r\n    function CesiumEventBuilder(cesiumService) {\r\n        this.cesiumService = cesiumService;\r\n        this.cesiumEventsObservables = new Map();\r\n    }\r\n    CesiumEventBuilder.getEventFullName = function (event, modifier) {\r\n        if (modifier) {\r\n            return event + \"_\" + modifier;\r\n        }\r\n        else {\r\n            return event.toString();\r\n        }\r\n    };\r\n    CesiumEventBuilder.prototype.init = function () {\r\n        this.eventsHandler = this.cesiumService.getViewer().screenSpaceEventHandler;\r\n    };\r\n    CesiumEventBuilder.prototype.get = function (event, modifier) {\r\n        if (modifier === void 0) { modifier = undefined; }\r\n        var eventName = CesiumEventBuilder.getEventFullName(event, modifier);\r\n        if (this.cesiumEventsObservables.has(eventName)) {\r\n            return this.cesiumEventsObservables.get(eventName);\r\n        }\r\n        else {\r\n            var eventObserver = this.createCesiumEventObservable(event, modifier);\r\n            this.cesiumEventsObservables.set(eventName, eventObserver);\r\n            return eventObserver;\r\n        }\r\n    };\r\n    CesiumEventBuilder.prototype.createCesiumEventObservable = function (event, modifier) {\r\n        var cesiumEventObservable = undefined;\r\n        if (CesiumEventBuilder.longPressEvents.has(event)) {\r\n            cesiumEventObservable = this.createSpecialCesiumEventObservable(event, modifier);\r\n        }\r\n        else {\r\n            cesiumEventObservable = new CesiumPureEventObserver(event, modifier).init(this.eventsHandler).publish();\r\n        }\r\n        cesiumEventObservable.connect();\r\n        return cesiumEventObservable;\r\n    };\r\n    CesiumEventBuilder.prototype.createSpecialCesiumEventObservable = function (event, modifier) {\r\n        return new CesiumLongPressObserver(event, modifier, this).init();\r\n    };\r\n    CesiumEventBuilder.longPressEvents = new Set([\r\n        CesiumEvent.LONG_LEFT_PRESS,\r\n        CesiumEvent.LONG_RIGHT_PRESS,\r\n        CesiumEvent.LONG_MIDDLE_PRESS\r\n    ]);\r\n    CesiumEventBuilder.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CesiumEventBuilder.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return CesiumEventBuilder;\r\n}());\r\nexport { CesiumEventBuilder };\r\n//# sourceMappingURL=cesium-event-builder.js.map","export var PickOptions;\r\n(function (PickOptions) {\r\n    PickOptions[PickOptions[\"NO_PICK\"] = 0] = \"NO_PICK\";\r\n    PickOptions[PickOptions[\"PICK_FIRST\"] = 1] = \"PICK_FIRST\";\r\n    PickOptions[PickOptions[\"PICK_ONE\"] = 2] = \"PICK_ONE\";\r\n    PickOptions[PickOptions[\"PICK_ALL\"] = 3] = \"PICK_ALL\";\r\n})(PickOptions || (PickOptions = {}));\r\n//# sourceMappingURL=pickOptions.enum.js.map","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nvar PlonterService = (function () {\r\n    function PlonterService() {\r\n        this._entitesToPlonter = [];\r\n        this._plonterChangeNotifier = new EventEmitter();\r\n        this._plonterObserver = new Subject();\r\n    }\r\n    Object.defineProperty(PlonterService.prototype, \"plonterChangeNotifier\", {\r\n        get: function () {\r\n            return this._plonterChangeNotifier;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PlonterService.prototype, \"plonterShown\", {\r\n        get: function () {\r\n            return this._plonterShown;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PlonterService.prototype, \"entitesToPlonter\", {\r\n        get: function () {\r\n            return this._entitesToPlonter;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PlonterService.prototype, \"plonterClickPosition\", {\r\n        get: function () {\r\n            return this._eventResult.movement;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PlonterService.prototype.plonterIt = function (eventResult) {\r\n        this._eventResult = eventResult;\r\n        this._entitesToPlonter = eventResult.entities;\r\n        this._plonterShown = true;\r\n        this._plonterChangeNotifier.emit();\r\n        return this._plonterObserver;\r\n    };\r\n    PlonterService.prototype.resolvePlonter = function (entity) {\r\n        this._plonterShown = false;\r\n        this._eventResult.entities = [entity];\r\n        this._plonterChangeNotifier.emit();\r\n        this._plonterObserver.next(this._eventResult);\r\n    };\r\n    PlonterService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PlonterService.ctorParameters = function () { return []; };\r\n    return PlonterService;\r\n}());\r\nexport { PlonterService };\r\n//# sourceMappingURL=plonter.service.js.map","export var UtilsService = {\r\n    unique: function (array) {\r\n        return array.reduce(function (accumulator, currentValue) {\r\n            if (accumulator.indexOf(currentValue) < 0) {\r\n                accumulator.push(currentValue);\r\n            }\r\n            return accumulator;\r\n        }, []);\r\n    }\r\n};\r\n//# sourceMappingURL=utils.service.js.map","import { CesiumEvent } from '../consts/cesium-event.enum';\r\nvar CesiumDragDropHelper = (function () {\r\n    function CesiumDragDropHelper() {\r\n    }\r\n    CesiumDragDropHelper.getDragEventTypes = function (dragEvent) {\r\n        var mouseDownEvent;\r\n        var mouseUpEvent;\r\n        if (dragEvent === CesiumEvent.LEFT_CLICK_DRAG) {\r\n            mouseDownEvent = CesiumEvent.LEFT_DOWN;\r\n            mouseUpEvent = CesiumEvent.LEFT_UP;\r\n        }\r\n        else if (dragEvent === CesiumEvent.RIGHT_CLICK_DRAG) {\r\n            mouseDownEvent = CesiumEvent.RIGHT_DOWN;\r\n            mouseUpEvent = CesiumEvent.RIGHT_UP;\r\n        }\r\n        else if (dragEvent === CesiumEvent.MIDDLE_CLICK_DRAG) {\r\n            mouseDownEvent = CesiumEvent.MIDDLE_DOWN;\r\n            mouseUpEvent = CesiumEvent.MIDDLE_UP;\r\n        }\r\n        return { mouseDownEvent: mouseDownEvent, mouseUpEvent: mouseUpEvent };\r\n    };\r\n    CesiumDragDropHelper.dragEvents = new Set([\r\n        CesiumEvent.LEFT_CLICK_DRAG,\r\n        CesiumEvent.RIGHT_CLICK_DRAG,\r\n        CesiumEvent.MIDDLE_CLICK_DRAG\r\n    ]);\r\n    return CesiumDragDropHelper;\r\n}());\r\nexport { CesiumDragDropHelper };\r\n//# sourceMappingURL=cesium-drag-drop-helper.js.map","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { CesiumService } from '../cesium/cesium.service';\r\nimport { CesiumEventBuilder } from './cesium-event-builder';\r\nimport { PickOptions } from './consts/pickOptions.enum';\r\nimport { CesiumEvent } from './consts/cesium-event.enum';\r\nimport { PlonterService } from '../plonter/plonter.service';\r\nimport { UtilsService } from '../../utils/utils.service';\r\nimport { CesiumDragDropHelper } from './event-observers/cesium-drag-drop-helper';\r\nvar Registration = (function () {\r\n    function Registration(observable, stopper, priority, isPaused) {\r\n        this.observable = observable;\r\n        this.stopper = stopper;\r\n        this.priority = priority;\r\n        this.isPaused = isPaused;\r\n    }\r\n    return Registration;\r\n}());\r\nvar MapEventsManagerService = (function () {\r\n    function MapEventsManagerService(cesiumService, eventBuilder, plonterService) {\r\n        this.cesiumService = cesiumService;\r\n        this.eventBuilder = eventBuilder;\r\n        this.plonterService = plonterService;\r\n        this.eventRegistrations = new Map();\r\n    }\r\n    MapEventsManagerService.prototype.init = function () {\r\n        this.eventBuilder.init();\r\n        this.scene = this.cesiumService.getScene();\r\n    };\r\n    MapEventsManagerService.prototype.register = function (input) {\r\n        var _this = this;\r\n        if (this.scene === undefined) {\r\n            throw new Error('CesiumService has not been initialized yet - MapEventsManagerService must be injected  under ac-map');\r\n        }\r\n        input.pick = input.pick || PickOptions.NO_PICK;\r\n        input.priority = input.priority || 0;\r\n        if (input.entityType && input.pick === PickOptions.NO_PICK) {\r\n            throw new Error('MapEventsManagerService: can\\'t register an event ' +\r\n                'with entityType and PickOptions.NO_PICK - It doesn\\'t make sense ');\r\n        }\r\n        var eventName = CesiumEventBuilder.getEventFullName(input.event, input.modifier);\r\n        if (!this.eventRegistrations.has(eventName)) {\r\n            this.eventRegistrations.set(eventName, []);\r\n        }\r\n        var eventRegistration = this.createEventRegistration(input.event, input.modifier, input.entityType, input.pick, input.priority);\r\n        var registrationObservable = eventRegistration.observable;\r\n        registrationObservable.dispose = function () { return _this.disposeObservable(eventRegistration, eventName); };\r\n        this.eventRegistrations.get(eventName).push(eventRegistration);\r\n        this.sortRegistrationsByPriority(eventName);\r\n        return registrationObservable;\r\n    };\r\n    MapEventsManagerService.prototype.disposeObservable = function (eventRegistration, eventName) {\r\n        eventRegistration.stopper.next(1);\r\n        var registrations = this.eventRegistrations.get(eventName);\r\n        var index = registrations.indexOf(eventRegistration);\r\n        if (index !== -1) {\r\n            registrations.splice(index, 1);\r\n        }\r\n        this.sortRegistrationsByPriority(eventName);\r\n    };\r\n    MapEventsManagerService.prototype.sortRegistrationsByPriority = function (eventName) {\r\n        var registrations = this.eventRegistrations.get(eventName);\r\n        registrations.sort(function (a, b) { return b.priority - a.priority; });\r\n        if (registrations.length === 0) {\r\n            return;\r\n        }\r\n        var currentPriority = registrations[0].priority;\r\n        registrations.forEach(function (registration) {\r\n            registration.isPaused = registration.priority < currentPriority;\r\n        });\r\n    };\r\n    MapEventsManagerService.prototype.createEventRegistration = function (event, modifier, entityType, pickOption, priority) {\r\n        var _this = this;\r\n        var cesiumEventObservable = this.eventBuilder.get(event, modifier);\r\n        var stopper = new Subject();\r\n        var registration = new Registration(undefined, stopper, priority, false);\r\n        var observable;\r\n        if (!CesiumDragDropHelper.dragEvents.has(event)) {\r\n            observable = cesiumEventObservable\r\n                .filter(function () { return !registration.isPaused; })\r\n                .map(function (movement) { return _this.triggerPick(movement, pickOption); })\r\n                .filter(function (result) { return result.cesiumEntities !== null || entityType === undefined; })\r\n                .map(function (picksAndMovement) { return _this.addEntities(picksAndMovement, entityType, pickOption); })\r\n                .filter(function (result) { return result.entities !== null || entityType === undefined; })\r\n                .switchMap(function (entitiesAndMovement) { return _this.plonter(entitiesAndMovement, pickOption); })\r\n                .takeUntil(stopper);\r\n        }\r\n        else {\r\n            observable = this.createDragEvent(event, modifier, entityType, pickOption, priority).takeUntil(stopper);\r\n        }\r\n        registration.observable = observable;\r\n        return registration;\r\n    };\r\n    MapEventsManagerService.prototype.createDragEvent = function (event, modifier, entityType, pickOption, priority) {\r\n        var _a = CesiumDragDropHelper.getDragEventTypes(event), mouseDownEvent = _a.mouseDownEvent, mouseUpEvent = _a.mouseUpEvent;\r\n        var mouseUpObservable = this.eventBuilder.get(mouseUpEvent);\r\n        var mouseMoveObservable = this.eventBuilder.get(CesiumEvent.MOUSE_MOVE);\r\n        var mouseDownRegistration = this.createEventRegistration(mouseDownEvent, modifier, entityType, pickOption, priority);\r\n        var dropSubject = new Subject();\r\n        var dragObserver = mouseDownRegistration.observable.mergeMap(function (e) {\r\n            var lastMove = null;\r\n            var dragStartPositionX = e.movement.startPosition.x;\r\n            var dragStartPositionY = e.movement.startPosition.y;\r\n            return mouseMoveObservable.map(function (movement) {\r\n                lastMove = {\r\n                    movement: {\r\n                        drop: false,\r\n                        startPosition: {\r\n                            x: dragStartPositionX,\r\n                            y: dragStartPositionY,\r\n                        },\r\n                        endPosition: movement.endPosition,\r\n                    },\r\n                    entities: e.entities,\r\n                    cesiumEntities: e.cesiumEntities\r\n                };\r\n                return lastMove;\r\n            }).takeUntil(mouseUpObservable).do(undefined, undefined, function () {\r\n                if (lastMove) {\r\n                    var dropEvent = Object.assign({}, lastMove);\r\n                    dropEvent.movement.drop = true;\r\n                    dropSubject.next(dropEvent);\r\n                }\r\n            });\r\n        });\r\n        return dragObserver.merge(dropSubject);\r\n    };\r\n    MapEventsManagerService.prototype.triggerPick = function (movement, pickOptions) {\r\n        var picks = [];\r\n        switch (pickOptions) {\r\n            case PickOptions.PICK_ONE:\r\n            case PickOptions.PICK_ALL:\r\n                picks = this.scene.drillPick(movement.endPosition);\r\n                picks = picks.length === 0 ? null : picks;\r\n                break;\r\n            case PickOptions.PICK_FIRST:\r\n                var pick = this.scene.pick(movement.endPosition);\r\n                picks = pick === undefined ? null : [pick];\r\n                break;\r\n            case PickOptions.NO_PICK:\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if (picks) {\r\n            picks = picks.map(function (pick) { return pick.id && pick.id instanceof Cesium.Entity ? pick.id : pick.primitive; });\r\n        }\r\n        return { movement: movement, cesiumEntities: picks };\r\n    };\r\n    MapEventsManagerService.prototype.addEntities = function (picksAndMovement, entityType, pickOption) {\r\n        if (picksAndMovement.cesiumEntities === null) {\r\n            picksAndMovement.entities = null;\r\n            return picksAndMovement;\r\n        }\r\n        var entities = [];\r\n        if (pickOption !== PickOptions.NO_PICK) {\r\n            if (entityType) {\r\n                entities = picksAndMovement.cesiumEntities.map(function (pick) { return pick.acEntity; }).filter(function (acEntity) {\r\n                    return acEntity && acEntity instanceof entityType;\r\n                });\r\n            }\r\n            else {\r\n                entities = picksAndMovement.cesiumEntities.map(function (pick) { return pick.acEntity; });\r\n            }\r\n            entities = UtilsService.unique(entities);\r\n            if (entities.length === 0) {\r\n                entities = null;\r\n            }\r\n        }\r\n        picksAndMovement.entities = entities;\r\n        return picksAndMovement;\r\n    };\r\n    MapEventsManagerService.prototype.plonter = function (entitiesAndMovement, pickOption) {\r\n        if (pickOption === PickOptions.PICK_ONE && entitiesAndMovement.entities !== null && entitiesAndMovement.entities.length > 1) {\r\n            return this.plonterService.plonterIt(entitiesAndMovement);\r\n        }\r\n        else {\r\n            return Observable.of(entitiesAndMovement);\r\n        }\r\n    };\r\n    MapEventsManagerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    MapEventsManagerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n        { type: CesiumEventBuilder, },\r\n        { type: PlonterService, },\r\n    ]; };\r\n    return MapEventsManagerService;\r\n}());\r\nexport { MapEventsManagerService };\r\n//# sourceMappingURL=map-events-manager.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar LabelDrawerService = (function (_super) {\r\n    __extends(LabelDrawerService, _super);\r\n    function LabelDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.label) || this;\r\n    }\r\n    LabelDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    LabelDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return LabelDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { LabelDrawerService };\r\n//# sourceMappingURL=label-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar PolylineDrawerService = (function (_super) {\r\n    __extends(PolylineDrawerService, _super);\r\n    function PolylineDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.polyline) || this;\r\n    }\r\n    PolylineDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolylineDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return PolylineDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { PolylineDrawerService };\r\n//# sourceMappingURL=polyline-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { BasicDrawerService } from '../basic-drawer/basic-drawer.service';\r\nvar PrimitivesDrawerService = (function (_super) {\r\n    __extends(PrimitivesDrawerService, _super);\r\n    function PrimitivesDrawerService(drawerType, cesiumService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.drawerType = drawerType;\r\n        _this.cesiumService = cesiumService;\r\n        _this._show = true;\r\n        return _this;\r\n    }\r\n    PrimitivesDrawerService.prototype.init = function () {\r\n        this._cesiumCollection = new this.drawerType();\r\n        this._primitiveCollectionWrap = new Cesium.PrimitiveCollection();\r\n        this._primitiveCollectionWrap.add(this._cesiumCollection);\r\n        this.cesiumService.getScene().primitives.add(this._primitiveCollectionWrap);\r\n    };\r\n    PrimitivesDrawerService.prototype.add = function (cesiumProps) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        return this._cesiumCollection.add(cesiumProps);\r\n    };\r\n    PrimitivesDrawerService.prototype.update = function (entity, cesiumProps) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (this._propsAssigner) {\r\n            this._propsAssigner(entity, cesiumProps);\r\n        }\r\n        else {\r\n            Object.assign(entity, cesiumProps);\r\n        }\r\n    };\r\n    PrimitivesDrawerService.prototype.remove = function (entity) {\r\n        this._cesiumCollection.remove(entity);\r\n    };\r\n    PrimitivesDrawerService.prototype.removeAll = function () {\r\n        this._cesiumCollection.removeAll();\r\n    };\r\n    PrimitivesDrawerService.prototype.setShow = function (showValue) {\r\n        this._show = showValue;\r\n        this._primitiveCollectionWrap.show = showValue;\r\n    };\r\n    PrimitivesDrawerService.prototype.getShow = function () {\r\n        return this._show;\r\n    };\r\n    return PrimitivesDrawerService;\r\n}(BasicDrawerService));\r\nexport { PrimitivesDrawerService };\r\n//# sourceMappingURL=primitives-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { PrimitivesDrawerService } from '../primitives-drawer/primitives-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nvar PointDrawerService = (function (_super) {\r\n    __extends(PointDrawerService, _super);\r\n    function PointDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PointPrimitiveCollection, cesiumService) || this;\r\n    }\r\n    PointDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PointDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return PointDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { PointDrawerService };\r\n//# sourceMappingURL=point-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { PrimitivesDrawerService } from '../primitives-drawer/primitives-drawer.service';\r\nimport { GeoUtilsService } from '../../geo-utils/geo-utils.service';\r\nvar ArcDrawerService = (function (_super) {\r\n    __extends(ArcDrawerService, _super);\r\n    function ArcDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PolylineCollection, cesiumService) || this;\r\n    }\r\n    ArcDrawerService.prototype._calculateArcPositions = function (cesiumProps) {\r\n        var quality = cesiumProps.quality || 18;\r\n        var delta = (cesiumProps.delta) / quality;\r\n        var pointsArray = [];\r\n        for (var i = 0; i < quality + 1; ++i) {\r\n            var point = GeoUtilsService.pointByLocationDistanceAndAzimuth(cesiumProps.center, cesiumProps.radius, cesiumProps.angle + delta * i, true);\r\n            pointsArray.push(point);\r\n        }\r\n        return pointsArray;\r\n    };\r\n    ArcDrawerService.prototype._calculateTriangle = function (cesiumProps) {\r\n        return [\r\n            cesiumProps.center,\r\n            GeoUtilsService.pointByLocationDistanceAndAzimuth(cesiumProps.center, cesiumProps.radius, cesiumProps.angle, true)\r\n        ];\r\n    };\r\n    ArcDrawerService.prototype._calculateArc = function (cesiumProps) {\r\n        var arcPoints = this._calculateArcPositions(cesiumProps);\r\n        return cesiumProps.drawEdges ? arcPoints.concat(this._calculateTriangle(cesiumProps)) : arcPoints;\r\n    };\r\n    ArcDrawerService.prototype.add = function (cesiumProps) {\r\n        cesiumProps.positions = this._calculateArc(cesiumProps);\r\n        if (cesiumProps.color) {\r\n            var material = Cesium.Material.fromType('Color');\r\n            material.uniforms.color = cesiumProps.color;\r\n            cesiumProps.material = material;\r\n        }\r\n        return this._cesiumCollection.add(cesiumProps);\r\n    };\r\n    ;\r\n    ArcDrawerService.prototype.update = function (primitive, cesiumProps) {\r\n        if (!cesiumProps.constantColor && cesiumProps.color &&\r\n            !primitive.material.uniforms.color.equals(cesiumProps.color)) {\r\n            primitive.material.uniforms.color = cesiumProps.color;\r\n        }\r\n        primitive.width = cesiumProps.width !== undefined ? cesiumProps.width : primitive.width;\r\n        primitive.show = cesiumProps.show !== undefined ? cesiumProps.show : primitive.show;\r\n        primitive.distanceDisplayCondition = cesiumProps.distanceDisplayCondition !== undefined ?\r\n            cesiumProps.distanceDisplayCondition : primitive.distanceDisplayCondition;\r\n        primitive.positions = this._calculateArc(cesiumProps);\r\n        return primitive;\r\n    };\r\n    ArcDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ArcDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return ArcDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { ArcDrawerService };\r\n//# sourceMappingURL=arc-drawer.service.js.map","import { Injectable } from '@angular/core';\r\nvar MapsManagerService = (function () {\r\n    function MapsManagerService() {\r\n        this.defaultIdCounter = 0;\r\n        this._Maps = new Map();\r\n    }\r\n    MapsManagerService.prototype.getMap = function (id) {\r\n        if (!id) {\r\n            return this.firstMap;\r\n        }\r\n        return this._Maps.get(id);\r\n    };\r\n    MapsManagerService.prototype.registerMap = function (id, acMap) {\r\n        if (!this.firstMap) {\r\n            this.firstMap = acMap;\r\n        }\r\n        var mapId = id ? id : this.generateDefaultId();\r\n        this._Maps.set(mapId, acMap);\r\n    };\r\n    MapsManagerService.prototype.generateDefaultId = function () {\r\n        this.defaultIdCounter++;\r\n        return 'default-map-id-' + this.defaultIdCounter;\r\n    };\r\n    MapsManagerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    MapsManagerService.ctorParameters = function () { return []; };\r\n    return MapsManagerService;\r\n}());\r\nexport { MapsManagerService };\r\n//# sourceMappingURL=maps-manager.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar EllipseDrawerService = (function (_super) {\r\n    __extends(EllipseDrawerService, _super);\r\n    function EllipseDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.ellipse, {\r\n            collectionsNumber: 100,\r\n            collectionMaxSize: 100,\r\n            collectionSuspensionTime: 100\r\n        }) || this;\r\n    }\r\n    EllipseDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    EllipseDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return EllipseDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { EllipseDrawerService };\r\n//# sourceMappingURL=ellipse-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar PolygonDrawerService = (function (_super) {\r\n    __extends(PolygonDrawerService, _super);\r\n    function PolygonDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.polygon) || this;\r\n    }\r\n    PolygonDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolygonDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return PolygonDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { PolygonDrawerService };\r\n//# sourceMappingURL=polygon-drawer.service.js.map","export var KeyboardAction;\r\n(function (KeyboardAction) {\r\n    KeyboardAction[KeyboardAction[\"CAMERA_FORWARD\"] = 0] = \"CAMERA_FORWARD\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_BACKWARD\"] = 1] = \"CAMERA_BACKWARD\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_RIGHT\"] = 2] = \"CAMERA_RIGHT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_LEFT\"] = 3] = \"CAMERA_LEFT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_UP\"] = 4] = \"CAMERA_UP\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_DOWN\"] = 5] = \"CAMERA_DOWN\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_LOOK_RIGHT\"] = 6] = \"CAMERA_LOOK_RIGHT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_LOOK_LEFT\"] = 7] = \"CAMERA_LOOK_LEFT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_LOOK_UP\"] = 8] = \"CAMERA_LOOK_UP\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_LOOK_DOWN\"] = 9] = \"CAMERA_LOOK_DOWN\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_TWIST_RIGHT\"] = 10] = \"CAMERA_TWIST_RIGHT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_TWIST_LEFT\"] = 11] = \"CAMERA_TWIST_LEFT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_ROTATE_RIGHT\"] = 12] = \"CAMERA_ROTATE_RIGHT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_ROTATE_LEFT\"] = 13] = \"CAMERA_ROTATE_LEFT\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_ROTATE_UP\"] = 14] = \"CAMERA_ROTATE_UP\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_ROTATE_DOWN\"] = 15] = \"CAMERA_ROTATE_DOWN\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_ZOOM_IN\"] = 16] = \"CAMERA_ZOOM_IN\";\r\n    KeyboardAction[KeyboardAction[\"CAMERA_ZOOM_OUT\"] = 17] = \"CAMERA_ZOOM_OUT\";\r\n})(KeyboardAction || (KeyboardAction = {}));\r\n//# sourceMappingURL=ac-keyboard-action.enum.js.map","import { KeyboardAction } from '../../models/ac-keyboard-action.enum';\r\nvar CAMERA_MOVEMENT_DEFAULT_FACTOR = 100.0;\r\nvar CAMERA_LOOK_DEFAULT_FACTOR = 0.01;\r\nvar CAMERA_TWIST_DEFAULT_FACTOR = 0.01;\r\nvar CAMERA_ROTATE_DEFAULT_FACTOR = 0.01;\r\nexport var PREDEFINED_KEYBOARD_ACTIONS = (_a = {},\r\n    _a[KeyboardAction.CAMERA_FORWARD] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var scene = cesiumService.getScene();\r\n        var cameraHeight = scene.globe.ellipsoid.cartesianToCartographic(camera.position).height;\r\n        var moveRate = cameraHeight / (params.moveRate || CAMERA_MOVEMENT_DEFAULT_FACTOR);\r\n        camera.moveForward(moveRate);\r\n    },\r\n    _a[KeyboardAction.CAMERA_BACKWARD] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var scene = cesiumService.getScene();\r\n        var cameraHeight = scene.globe.ellipsoid.cartesianToCartographic(camera.position).height;\r\n        var moveRate = cameraHeight / (params.moveRate || CAMERA_MOVEMENT_DEFAULT_FACTOR);\r\n        camera.moveBackward(moveRate);\r\n    },\r\n    _a[KeyboardAction.CAMERA_UP] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var scene = cesiumService.getScene();\r\n        var cameraHeight = scene.globe.ellipsoid.cartesianToCartographic(camera.position).height;\r\n        var moveRate = cameraHeight / (params.moveRate || CAMERA_MOVEMENT_DEFAULT_FACTOR);\r\n        camera.moveUp(moveRate);\r\n    },\r\n    _a[KeyboardAction.CAMERA_DOWN] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var scene = cesiumService.getScene();\r\n        var cameraHeight = scene.globe.ellipsoid.cartesianToCartographic(camera.position).height;\r\n        var moveRate = cameraHeight / (params.moveRate || CAMERA_MOVEMENT_DEFAULT_FACTOR);\r\n        camera.moveDown(moveRate);\r\n    },\r\n    _a[KeyboardAction.CAMERA_RIGHT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var scene = cesiumService.getScene();\r\n        var cameraHeight = scene.globe.ellipsoid.cartesianToCartographic(camera.position).height;\r\n        var moveRate = cameraHeight / (params.moveRate || CAMERA_MOVEMENT_DEFAULT_FACTOR);\r\n        camera.moveRight(moveRate);\r\n    },\r\n    _a[KeyboardAction.CAMERA_LEFT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var scene = cesiumService.getScene();\r\n        var cameraHeight = scene.globe.ellipsoid.cartesianToCartographic(camera.position).height;\r\n        var moveRate = cameraHeight / (params.moveRate || CAMERA_MOVEMENT_DEFAULT_FACTOR);\r\n        camera.moveLeft(moveRate);\r\n    },\r\n    _a[KeyboardAction.CAMERA_LOOK_RIGHT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var currentPosition = camera.positionCartographic;\r\n        var lookFactor = params.lookFactor || CAMERA_LOOK_DEFAULT_FACTOR;\r\n        camera.lookRight(currentPosition.latitude * lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_LOOK_LEFT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var currentPosition = camera.positionCartographic;\r\n        var lookFactor = params.lookFactor || CAMERA_LOOK_DEFAULT_FACTOR;\r\n        camera.lookLeft(currentPosition.latitude * lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_LOOK_UP] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var currentPosition = camera.positionCartographic;\r\n        var lookFactor = params.lookFactor || CAMERA_LOOK_DEFAULT_FACTOR;\r\n        camera.lookUp(currentPosition.longitude * (lookFactor * -1));\r\n    },\r\n    _a[KeyboardAction.CAMERA_LOOK_DOWN] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var currentPosition = camera.positionCartographic;\r\n        var lookFactor = params.lookFactor || CAMERA_LOOK_DEFAULT_FACTOR;\r\n        camera.lookDown(currentPosition.longitude * (lookFactor * -1));\r\n    },\r\n    _a[KeyboardAction.CAMERA_TWIST_RIGHT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var lookFactor = params.amount || CAMERA_TWIST_DEFAULT_FACTOR;\r\n        camera.twistRight(lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_TWIST_LEFT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var lookFactor = params.amount || CAMERA_TWIST_DEFAULT_FACTOR;\r\n        camera.twistLeft(lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_ROTATE_RIGHT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var lookFactor = params.angle || CAMERA_ROTATE_DEFAULT_FACTOR;\r\n        camera.rotateRight(lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_ROTATE_LEFT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var lookFactor = params.angle || CAMERA_ROTATE_DEFAULT_FACTOR;\r\n        camera.rotateLeft(lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_ROTATE_UP] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var lookFactor = params.angle || CAMERA_ROTATE_DEFAULT_FACTOR;\r\n        camera.rotateUp(lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_ROTATE_DOWN] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var lookFactor = params.angle || CAMERA_ROTATE_DEFAULT_FACTOR;\r\n        camera.rotateDown(lookFactor);\r\n    },\r\n    _a[KeyboardAction.CAMERA_ZOOM_IN] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var amount = params.amount;\r\n        camera.zoomIn(amount);\r\n    },\r\n    _a[KeyboardAction.CAMERA_ZOOM_OUT] = function (cesiumService, params) {\r\n        var camera = cesiumService.getViewer().camera;\r\n        var amount = params.amount;\r\n        camera.zoomOut(amount);\r\n    },\r\n    _a);\r\nvar _a;\r\n//# sourceMappingURL=predefined-actions.js.map","import { isNumber } from 'util';\r\nimport { Inject, Injectable, NgZone } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CesiumService } from '../cesium/cesium.service';\r\nimport { PREDEFINED_KEYBOARD_ACTIONS } from './predefined-actions';\r\nvar KeyEventState;\r\n(function (KeyEventState) {\r\n    KeyEventState[KeyEventState[\"IGNORED\"] = 0] = \"IGNORED\";\r\n    KeyEventState[KeyEventState[\"NOT_PRESSED\"] = 1] = \"NOT_PRESSED\";\r\n    KeyEventState[KeyEventState[\"PRESSED\"] = 2] = \"PRESSED\";\r\n})(KeyEventState || (KeyEventState = {}));\r\nvar KeyboardControlService = (function () {\r\n    function KeyboardControlService(ngZone, cesiumService, document) {\r\n        this.ngZone = ngZone;\r\n        this.cesiumService = cesiumService;\r\n        this.document = document;\r\n        this._currentDefinitions = null;\r\n        this._activeDefinitions = {};\r\n        this._keyMappingFn = this.defaultKeyMappingFn;\r\n    }\r\n    KeyboardControlService.prototype.init = function () {\r\n        var canvas = this.cesiumService.getCanvas();\r\n        canvas.addEventListener('click', function () {\r\n            canvas.focus();\r\n        });\r\n        this.handleKeydown = this.handleKeydown.bind(this);\r\n        this.handleKeyup = this.handleKeyup.bind(this);\r\n        this.handleTick = this.handleTick.bind(this);\r\n    };\r\n    KeyboardControlService.prototype.setKeyboardControls = function (definitions, keyMappingFn, outsideOfAngularZone) {\r\n        var _this = this;\r\n        if (outsideOfAngularZone === void 0) { outsideOfAngularZone = false; }\r\n        if (!definitions) {\r\n            return this.removeKeyboardControls();\r\n        }\r\n        if (!this._currentDefinitions) {\r\n            this.registerEvents(outsideOfAngularZone);\r\n        }\r\n        this._currentDefinitions = definitions;\r\n        this._keyMappingFn = keyMappingFn || this.defaultKeyMappingFn;\r\n        Object.keys(this._currentDefinitions).forEach(function (key) {\r\n            _this._activeDefinitions[key] = {\r\n                state: KeyEventState.NOT_PRESSED,\r\n                action: null,\r\n                keyboardEvent: null,\r\n            };\r\n        });\r\n    };\r\n    KeyboardControlService.prototype.removeKeyboardControls = function () {\r\n        this.unregisterEvents();\r\n        this._currentDefinitions = null;\r\n    };\r\n    KeyboardControlService.prototype.getAction = function (char) {\r\n        return this._currentDefinitions[char] || null;\r\n    };\r\n    KeyboardControlService.prototype.defaultKeyMappingFn = function (keyEvent) {\r\n        return String.fromCharCode(keyEvent.keyCode);\r\n    };\r\n    KeyboardControlService.prototype.handleKeydown = function (e) {\r\n        var char = this._keyMappingFn(e);\r\n        var action = this.getAction(char);\r\n        if (action) {\r\n            var actionState = this._activeDefinitions[char];\r\n            if (actionState.state !== KeyEventState.IGNORED) {\r\n                var execute = true;\r\n                var params = this.getParams(action.params, e);\r\n                if (action.validation) {\r\n                    execute = action.validation(this.cesiumService, params, e);\r\n                }\r\n                if (execute === true) {\r\n                    this._activeDefinitions[char] = {\r\n                        state: KeyEventState.PRESSED,\r\n                        action: action,\r\n                        keyboardEvent: e,\r\n                    };\r\n                }\r\n            }\r\n        }\r\n    };\r\n    KeyboardControlService.prototype.handleKeyup = function (e) {\r\n        var char = this._keyMappingFn(e);\r\n        var action = this.getAction(char);\r\n        if (action) {\r\n            this._activeDefinitions[char] = {\r\n                state: KeyEventState.NOT_PRESSED,\r\n                action: null,\r\n                keyboardEvent: e,\r\n            };\r\n            if (action.done && typeof action.done === 'function') {\r\n                action.done(this.cesiumService, e);\r\n            }\r\n        }\r\n    };\r\n    KeyboardControlService.prototype.handleTick = function () {\r\n        var _this = this;\r\n        var activeKeys = Object.keys(this._activeDefinitions);\r\n        activeKeys.forEach(function (key) {\r\n            var actionState = _this._activeDefinitions[key];\r\n            if (actionState !== null && actionState.action !== null && actionState.state === KeyEventState.PRESSED) {\r\n                _this.executeAction(actionState.action, key, actionState.keyboardEvent);\r\n            }\r\n        });\r\n    };\r\n    KeyboardControlService.prototype.getParams = function (paramsDef, keyboardEvent) {\r\n        if (!paramsDef) {\r\n            return {};\r\n        }\r\n        if (typeof paramsDef === 'function') {\r\n            return paramsDef(this.cesiumService, keyboardEvent);\r\n        }\r\n        return paramsDef;\r\n    };\r\n    KeyboardControlService.prototype.executeAction = function (execution, key, keyboardEvent) {\r\n        if (!this._currentDefinitions) {\r\n            return;\r\n        }\r\n        var params = this.getParams(execution.params, keyboardEvent);\r\n        if (isNumber(execution.action)) {\r\n            var predefinedAction = PREDEFINED_KEYBOARD_ACTIONS[execution.action];\r\n            if (predefinedAction) {\r\n                predefinedAction(this.cesiumService, params, keyboardEvent);\r\n            }\r\n        }\r\n        else if (typeof execution.action === 'function') {\r\n            var shouldCancelEvent = execution.action(this.cesiumService, params, keyboardEvent);\r\n            if (shouldCancelEvent === false) {\r\n                this._activeDefinitions[key] = {\r\n                    state: KeyEventState.IGNORED,\r\n                    action: null,\r\n                    keyboardEvent: null,\r\n                };\r\n            }\r\n        }\r\n    };\r\n    KeyboardControlService.prototype.registerEvents = function (outsideOfAngularZone) {\r\n        var _this = this;\r\n        var registerToEvents = function () {\r\n            _this.document.addEventListener('keydown', _this.handleKeydown);\r\n            _this.document.addEventListener('keyup', _this.handleKeyup);\r\n            _this.cesiumService.getViewer().clock.onTick.addEventListener(_this.handleTick);\r\n        };\r\n        if (outsideOfAngularZone) {\r\n            this.ngZone.runOutsideAngular(registerToEvents);\r\n        }\r\n        else {\r\n            registerToEvents();\r\n        }\r\n    };\r\n    KeyboardControlService.prototype.unregisterEvents = function () {\r\n        this.document.removeEventListener('keydown', this.handleKeydown);\r\n        this.document.removeEventListener('keyup', this.handleKeyup);\r\n        this.cesiumService.getViewer().clock.onTick.removeEventListener(this.handleTick);\r\n    };\r\n    KeyboardControlService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    KeyboardControlService.ctorParameters = function () { return [\r\n        { type: NgZone, },\r\n        { type: CesiumService, },\r\n        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },\r\n    ]; };\r\n    return KeyboardControlService;\r\n}());\r\nexport { KeyboardControlService };\r\n//# sourceMappingURL=keyboard-control.service.js.map","export var SceneMode;\r\n(function (SceneMode) {\r\n    SceneMode[SceneMode[\"SCENE3D\"] = 0] = \"SCENE3D\";\r\n    SceneMode[SceneMode[\"COLUMBUS_VIEW\"] = 1] = \"COLUMBUS_VIEW\";\r\n    SceneMode[SceneMode[\"SCENE2D\"] = 2] = \"SCENE2D\";\r\n    SceneMode[SceneMode[\"PERFORMANCE_SCENE2D\"] = 3] = \"PERFORMANCE_SCENE2D\";\r\n})(SceneMode || (SceneMode = {}));\r\n//# sourceMappingURL=scene-mode.enum.js.map","import { Injectable } from '@angular/core';\r\nimport { SceneMode } from '../../models/scene-mode.enum';\r\nvar CameraService = (function () {\r\n    function CameraService() {\r\n        this.isSceneModePerformance2D = false;\r\n    }\r\n    CameraService.prototype.init = function (cesiumService) {\r\n        this.viewer = cesiumService.getViewer();\r\n        this.scene = cesiumService.getScene();\r\n        this.screenSpaceCameraController = this.scene.screenSpaceCameraController;\r\n        this.camera = this.scene.camera;\r\n        this.lastRotate = this.screenSpaceCameraController.enableRotate;\r\n        this.lastTilt = this.screenSpaceCameraController.enableTilt;\r\n        this.lastLook = this.screenSpaceCameraController.enableLook;\r\n    };\r\n    CameraService.prototype._listenToSceneModeMorph = function (callback) {\r\n        this.morphListenerCancelFn = this.scene.morphStart.addEventListener(callback);\r\n    };\r\n    CameraService.prototype._revertCameraProperties = function () {\r\n        this.isSceneModePerformance2D = false;\r\n        this.enableTilt(this.lastTilt);\r\n        this.enableRotate(this.lastRotate);\r\n        this.enableLook(this.lastLook);\r\n    };\r\n    CameraService.prototype.getCamera = function () {\r\n        return this.camera;\r\n    };\r\n    CameraService.prototype.getScreenSpaceCameraController = function () {\r\n        return this.screenSpaceCameraController;\r\n    };\r\n    CameraService.prototype.getMinimumZoom = function () {\r\n        return this.screenSpaceCameraController.minimumZoomDistance;\r\n    };\r\n    CameraService.prototype.setMinimumZoom = function (amount) {\r\n        this.screenSpaceCameraController.minimumZoomDistance = amount;\r\n    };\r\n    CameraService.prototype.getMaximumZoom = function () {\r\n        return this.screenSpaceCameraController.maximumZoomDistance;\r\n    };\r\n    CameraService.prototype.setMaximumZoom = function (amount) {\r\n        this.screenSpaceCameraController.maximumZoomDistance = amount;\r\n    };\r\n    CameraService.prototype.enableTilt = function (tilt) {\r\n        this.screenSpaceCameraController.enableTilt = tilt;\r\n    };\r\n    CameraService.prototype.enableRotate = function (rotate) {\r\n        this.screenSpaceCameraController.enableRotate = rotate;\r\n    };\r\n    CameraService.prototype.enableLook = function (lock) {\r\n        this.screenSpaceCameraController.enableLook = lock;\r\n    };\r\n    CameraService.prototype.enableTranslate = function (translate) {\r\n        this.screenSpaceCameraController.enableTranslate = translate;\r\n    };\r\n    CameraService.prototype.enableZoom = function (zoom) {\r\n        this.screenSpaceCameraController.enableZoom = zoom;\r\n    };\r\n    CameraService.prototype.enableInputs = function (inputs) {\r\n        this.screenSpaceCameraController.enableInputs = inputs;\r\n    };\r\n    CameraService.prototype.setSceneMode = function (sceneMode, duration) {\r\n        var _this = this;\r\n        switch (sceneMode) {\r\n            case SceneMode.SCENE3D: {\r\n                if (this.isSceneModePerformance2D) {\r\n                    this._revertCameraProperties();\r\n                }\r\n                this.scene.morphTo3D(duration);\r\n                break;\r\n            }\r\n            case SceneMode.COLUMBUS_VIEW: {\r\n                if (this.isSceneModePerformance2D) {\r\n                    this._revertCameraProperties();\r\n                }\r\n                this.scene.morphToColumbusView(duration);\r\n                break;\r\n            }\r\n            case SceneMode.SCENE2D: {\r\n                if (this.isSceneModePerformance2D) {\r\n                    this._revertCameraProperties();\r\n                }\r\n                this.scene.morphTo2D(duration);\r\n                break;\r\n            }\r\n            case SceneMode.PERFORMANCE_SCENE2D: {\r\n                this.isSceneModePerformance2D = true;\r\n                this.lastLook = this.screenSpaceCameraController.enableLook;\r\n                this.lastTilt = this.screenSpaceCameraController.enableTilt;\r\n                this.lastRotate = this.screenSpaceCameraController.enableRotate;\r\n                this.screenSpaceCameraController.enableTilt = false;\r\n                this.screenSpaceCameraController.enableRotate = false;\r\n                this.screenSpaceCameraController.enableLook = false;\r\n                if (this.morphListenerCancelFn) {\r\n                    this.morphListenerCancelFn();\r\n                }\r\n                this.scene.morphToColumbusView(duration);\r\n                var morphCompleteEventListener_1 = this.scene.morphComplete.addEventListener(function () {\r\n                    _this.camera.setView({\r\n                        destination: Cesium.Cartesian3.fromDegrees(0.0, 0.0, Math.min(CameraService.PERFORMANCE_2D_ALTITUDE, _this.getMaximumZoom())),\r\n                        orientation: {\r\n                            pitch: Cesium.Math.toRadians(-90),\r\n                        }\r\n                    });\r\n                    morphCompleteEventListener_1();\r\n                    _this._listenToSceneModeMorph(_this._revertCameraProperties.bind(_this));\r\n                });\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    CameraService.prototype.cameraFlyTo = function (options) {\r\n        this.camera.flyTo(options);\r\n    };\r\n    CameraService.prototype.flyTo = function (target, options) {\r\n        return this.viewer.flyTo(target, options);\r\n    };\r\n    CameraService.prototype.zoomTo = function (target, offset) {\r\n        return this.viewer.zoomTo(target, offset);\r\n    };\r\n    CameraService.prototype.setView = function (options) {\r\n        this.camera.setView(options);\r\n    };\r\n    CameraService.prototype.trackEntity = function (entity) {\r\n        this.viewer.trackedEntity = entity;\r\n    };\r\n    CameraService.prototype.untrackEntity = function () {\r\n        this.trackEntity();\r\n    };\r\n    CameraService.PERFORMANCE_2D_ALTITUDE = 25000000;\r\n    CameraService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CameraService.ctorParameters = function () { return []; };\r\n    return CameraService;\r\n}());\r\nexport { CameraService };\r\n//# sourceMappingURL=camera.service.js.map","import { CesiumService } from '../cesium/cesium.service';\r\nimport { Injectable } from '@angular/core';\r\nvar MapLayersService = (function () {\r\n    function MapLayersService(cesiumService) {\r\n        this.cesiumService = cesiumService;\r\n        this.layersDataSources = [];\r\n    }\r\n    MapLayersService.prototype.registerLayerDataSources = function (dataSources, zIndex) {\r\n        var _this = this;\r\n        dataSources.forEach(function (ds) {\r\n            ds.zIndex = zIndex;\r\n            _this.layersDataSources.push(ds);\r\n        });\r\n    };\r\n    MapLayersService.prototype.drawAllLayers = function () {\r\n        var _this = this;\r\n        this.layersDataSources.sort(function (a, b) { return a.zIndex - b.zIndex; });\r\n        this.layersDataSources.forEach(function (dataSource) {\r\n            _this.cesiumService.getViewer().dataSources.add(dataSource);\r\n        });\r\n    };\r\n    MapLayersService.prototype.updateAndRefresh = function (dataSources, newZIndex) {\r\n        var _this = this;\r\n        if (dataSources && dataSources.length) {\r\n            dataSources.forEach(function (ds) {\r\n                var index = _this.layersDataSources.indexOf(ds);\r\n                if (index !== -1) {\r\n                    _this.layersDataSources[index].zIndex = newZIndex;\r\n                }\r\n            });\r\n            this.cesiumService.getViewer().dataSources.removeAll();\r\n            this.drawAllLayers();\r\n        }\r\n    };\r\n    MapLayersService.prototype.removeDataSources = function (dataSources) {\r\n        var _this = this;\r\n        dataSources.forEach(function (ds) {\r\n            var index = _this.layersDataSources.indexOf(ds);\r\n            if (index !== -1) {\r\n                _this.layersDataSources.splice(index, 1);\r\n                _this.cesiumService.getViewer().dataSources.remove(ds, true);\r\n            }\r\n        });\r\n    };\r\n    MapLayersService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    MapLayersService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return MapLayersService;\r\n}());\r\nexport { MapLayersService };\r\n//# sourceMappingURL=map-layers.service.js.map","var AssociativeArray = Cesium.AssociativeArray;\r\nvar Color = Cesium.Color;\r\nvar ColorGeometryInstanceAttribute = Cesium.ColorGeometryInstanceAttribute;\r\nvar defined = Cesium.defined;\r\nvar DistanceDisplayCondition = Cesium.DistanceDisplayCondition;\r\nvar DistanceDisplayConditionGeometryInstanceAttribute = Cesium.DistanceDisplayConditionGeometryInstanceAttribute;\r\nvar ShowGeometryInstanceAttribute = Cesium.ShowGeometryInstanceAttribute;\r\nvar Primitive = Cesium.Primitive;\r\nvar ShadowMode = Cesium.ShadowMode;\r\nvar BoundingSphereState = Cesium.BoundingSphereState;\r\nvar ColorMaterialProperty = Cesium.ColorMaterialProperty;\r\nvar MaterialProperty = Cesium.MaterialProperty;\r\nvar Property = Cesium.Property;\r\nvar colorScratch = new Color();\r\nvar distanceDisplayConditionScratch = new DistanceDisplayCondition();\r\nfunction Batch(primitives, translucent, appearanceType, depthFailAppearanceType, depthFailMaterialProperty, closed, shadows) {\r\n    this.translucent = translucent;\r\n    this.appearanceType = appearanceType;\r\n    this.depthFailAppearanceType = depthFailAppearanceType;\r\n    this.depthFailMaterialProperty = depthFailMaterialProperty;\r\n    this.depthFailMaterial = undefined;\r\n    this.closed = closed;\r\n    this.shadows = shadows;\r\n    this.primitives = primitives;\r\n    this.createPrimitive = false;\r\n    this.waitingOnCreate = false;\r\n    this.primitive = undefined;\r\n    this.oldPrimitive = undefined;\r\n    this.geometry = new AssociativeArray();\r\n    this.updaters = new AssociativeArray();\r\n    this.updatersWithAttributes = new AssociativeArray();\r\n    this.attributes = new AssociativeArray();\r\n    this.subscriptions = new AssociativeArray();\r\n    this.showsUpdated = new AssociativeArray();\r\n    this.itemsToRemove = [];\r\n    this.invalidated = false;\r\n    var removeMaterialSubscription;\r\n    if (defined(depthFailMaterialProperty)) {\r\n        removeMaterialSubscription = depthFailMaterialProperty.definitionChanged.addEventListener(Batch.prototype.onMaterialChanged, this);\r\n    }\r\n    this.removeMaterialSubscription = removeMaterialSubscription;\r\n}\r\nBatch.prototype.onMaterialChanged = function () {\r\n    this.invalidated = true;\r\n};\r\nBatch.prototype.isMaterial = function (updater) {\r\n    var material = this.depthFailMaterialProperty;\r\n    var updaterMaterial = updater.depthFailMaterialProperty;\r\n    if (updaterMaterial === material) {\r\n        return true;\r\n    }\r\n    if (defined(material)) {\r\n        return material.equals(updaterMaterial);\r\n    }\r\n    return false;\r\n};\r\nBatch.prototype.add = function (updater, instance) {\r\n    var id = updater.entity.id;\r\n    this.createPrimitive = true;\r\n    this.geometry.set(id, instance);\r\n    this.updaters.set(id, updater);\r\n    if (!updater.hasConstantFill || !updater.fillMaterialProperty.isConstant || !Property.isConstant(updater.distanceDisplayConditionProperty)) {\r\n        this.updatersWithAttributes.set(id, updater);\r\n    }\r\n    else {\r\n        var that = this;\r\n        this.subscriptions.set(id, updater.entity.definitionChanged.addEventListener(function (entity, propertyName, newValue, oldValue) {\r\n            if (propertyName === 'isShowing') {\r\n                that.showsUpdated.set(entity.id, updater);\r\n            }\r\n        }));\r\n    }\r\n};\r\nBatch.prototype.remove = function (updater) {\r\n    var id = updater.entity.id;\r\n    this.createPrimitive = this.geometry.remove(id) || this.createPrimitive;\r\n    if (this.updaters.remove(id)) {\r\n        this.updatersWithAttributes.remove(id);\r\n        var unsubscribe = this.subscriptions.get(id);\r\n        if (defined(unsubscribe)) {\r\n            unsubscribe();\r\n            this.subscriptions.remove(id);\r\n        }\r\n    }\r\n};\r\nBatch.prototype.update = function (time) {\r\n    var isUpdated = true;\r\n    var removedCount = 0;\r\n    var primitive = this.primitive;\r\n    var primitives = this.primitives;\r\n    var attributes;\r\n    var i;\r\n    if (this.createPrimitive) {\r\n        var geometries = this.geometry.values;\r\n        var geometriesLength = geometries.length;\r\n        if (geometriesLength > 0) {\r\n            if (defined(primitive)) {\r\n                if (!defined(this.oldPrimitive)) {\r\n                    this.oldPrimitive = primitive;\r\n                }\r\n                else {\r\n                    primitives.remove(primitive);\r\n                }\r\n            }\r\n            for (i = 0; i < geometriesLength; i++) {\r\n                var geometryItem = geometries[i];\r\n                var originalAttributes = geometryItem.attributes;\r\n                attributes = this.attributes.get(geometryItem.id.id);\r\n                if (defined(attributes)) {\r\n                    if (defined(originalAttributes.show)) {\r\n                        originalAttributes.show.value = attributes.show;\r\n                    }\r\n                    if (defined(originalAttributes.color)) {\r\n                        originalAttributes.color.value = attributes.color;\r\n                    }\r\n                    if (defined(originalAttributes.depthFailColor)) {\r\n                        originalAttributes.depthFailColor.value = attributes.depthFailColor;\r\n                    }\r\n                }\r\n            }\r\n            var depthFailAppearance;\r\n            if (defined(this.depthFailAppearanceType)) {\r\n                if (defined(this.depthFailMaterialProperty)) {\r\n                    this.depthFailMaterial = MaterialProperty.getValue(time, this.depthFailMaterialProperty, this.depthFailMaterial);\r\n                }\r\n                depthFailAppearance = new this.depthFailAppearanceType({\r\n                    material: this.depthFailMaterial,\r\n                    translucent: this.translucent,\r\n                    closed: this.closed\r\n                });\r\n            }\r\n            primitive = new Primitive({\r\n                asynchronous: true,\r\n                geometryInstances: geometries,\r\n                appearance: new this.appearanceType({\r\n                    flat: this.shadows === ShadowMode.DISABLED || this.shadows === ShadowMode.CAST_ONLY,\r\n                    translucent: this.translucent,\r\n                    closed: this.closed\r\n                }),\r\n                depthFailAppearance: depthFailAppearance,\r\n                shadows: this.shadows\r\n            });\r\n            primitives.add(primitive);\r\n            isUpdated = false;\r\n        }\r\n        else {\r\n            if (defined(primitive)) {\r\n                primitives.remove(primitive);\r\n                primitive = undefined;\r\n            }\r\n            var oldPrimitive = this.oldPrimitive;\r\n            if (defined(oldPrimitive)) {\r\n                primitives.remove(oldPrimitive);\r\n                this.oldPrimitive = undefined;\r\n            }\r\n        }\r\n        this.attributes.removeAll();\r\n        this.primitive = primitive;\r\n        this.createPrimitive = false;\r\n        this.waitingOnCreate = true;\r\n    }\r\n    else if (defined(primitive) && primitive.ready) {\r\n        if (defined(this.oldPrimitive)) {\r\n            primitives.remove(this.oldPrimitive);\r\n            this.oldPrimitive = undefined;\r\n        }\r\n        if (defined(this.depthFailAppearanceType) && !(this.depthFailMaterialProperty instanceof ColorMaterialProperty)) {\r\n            this.depthFailMaterial = MaterialProperty.getValue(time, this.depthFailMaterialProperty, this.depthFailMaterial);\r\n            this.primitive.depthFailAppearance.material = this.depthFailMaterial;\r\n        }\r\n        var updatersWithAttributes = this.updatersWithAttributes.values;\r\n        var length = updatersWithAttributes.length;\r\n        var waitingOnCreate = this.waitingOnCreate;\r\n        for (i = 0; i < length; i++) {\r\n            var updater = updatersWithAttributes[i];\r\n            var instance = this.geometry.get(updater.entity.id);\r\n            attributes = this.attributes.get(instance.id.id);\r\n            if (!defined(attributes)) {\r\n                attributes = primitive.getGeometryInstanceAttributes(instance.id);\r\n                this.attributes.set(instance.id.id, attributes);\r\n            }\r\n            if (!updater.fillMaterialProperty.isConstant || waitingOnCreate) {\r\n                var colorProperty = updater.fillMaterialProperty.color;\r\n                colorProperty.getValue(time, colorScratch);\r\n                if (!Color.equals(attributes._lastColor, colorScratch)) {\r\n                    attributes._lastColor = Color.clone(colorScratch, attributes._lastColor);\r\n                    attributes.color = ColorGeometryInstanceAttribute.toValue(colorScratch, attributes.color);\r\n                    if ((this.translucent && attributes.color[3] === 255) || (!this.translucent && attributes.color[3] !== 255)) {\r\n                        this.itemsToRemove[removedCount++] = updater;\r\n                    }\r\n                }\r\n            }\r\n            if (defined(this.depthFailAppearanceType) && this.depthFailAppearanceType instanceof ColorMaterialProperty && (!updater.depthFailMaterialProperty.isConstant || waitingOnCreate)) {\r\n                var depthFailColorProperty = updater.depthFailMaterialProperty.color;\r\n                depthFailColorProperty.getValue(time, colorScratch);\r\n                if (!Color.equals(attributes._lastDepthFailColor, colorScratch)) {\r\n                    attributes._lastDepthFailColor = Color.clone(colorScratch, attributes._lastDepthFailColor);\r\n                    attributes.depthFailColor = ColorGeometryInstanceAttribute.toValue(colorScratch, attributes.depthFailColor);\r\n                }\r\n            }\r\n            var show = updater.entity.isShowing && (updater.hasConstantFill || updater.isFilled(time));\r\n            var currentShow = attributes.show[0] === 1;\r\n            if (show !== currentShow) {\r\n                attributes.show = ShowGeometryInstanceAttribute.toValue(show, attributes.show);\r\n            }\r\n            var distanceDisplayConditionProperty = updater.distanceDisplayConditionProperty;\r\n            if (!Property.isConstant(distanceDisplayConditionProperty)) {\r\n                var distanceDisplayCondition = distanceDisplayConditionProperty.getValue(time, distanceDisplayConditionScratch);\r\n                if (!DistanceDisplayCondition.equals(distanceDisplayCondition, attributes._lastDistanceDisplayCondition)) {\r\n                    attributes._lastDistanceDisplayCondition = DistanceDisplayCondition.clone(distanceDisplayCondition, attributes._lastDistanceDisplayCondition);\r\n                    attributes.distanceDisplayCondition = DistanceDisplayConditionGeometryInstanceAttribute.toValue(distanceDisplayCondition, attributes.distanceDisplayCondition);\r\n                }\r\n            }\r\n        }\r\n        this.updateShows(primitive);\r\n        this.waitingOnCreate = false;\r\n    }\r\n    else if (defined(primitive) && !primitive.ready) {\r\n        isUpdated = false;\r\n    }\r\n    this.itemsToRemove.length = removedCount;\r\n    return isUpdated;\r\n};\r\nBatch.prototype.updateShows = function (primitive) {\r\n    var showsUpdated = this.showsUpdated.values;\r\n    var length = showsUpdated.length;\r\n    for (var i = 0; i < length; i++) {\r\n        var updater = showsUpdated[i];\r\n        var instance = this.geometry.get(updater.entity.id);\r\n        var attributes = this.attributes.get(instance.id.id);\r\n        if (!defined(attributes)) {\r\n            attributes = primitive.getGeometryInstanceAttributes(instance.id);\r\n            this.attributes.set(instance.id.id, attributes);\r\n        }\r\n        var show = updater.entity.isShowing;\r\n        var currentShow = attributes.show[0] === 1;\r\n        if (show !== currentShow) {\r\n            attributes.show = ShowGeometryInstanceAttribute.toValue(show, attributes.show);\r\n        }\r\n    }\r\n    this.showsUpdated.removeAll();\r\n};\r\nBatch.prototype.contains = function (entity) {\r\n    return this.updaters.contains(entity.id);\r\n};\r\nBatch.prototype.getBoundingSphere = function (entity, result) {\r\n    var primitive = this.primitive;\r\n    if (!primitive.ready) {\r\n        return BoundingSphereState.PENDING;\r\n    }\r\n    var attributes = primitive.getGeometryInstanceAttributes(entity);\r\n    if (!defined(attributes) || !defined(attributes.boundingSphere) ||\r\n        (defined(attributes.show) && attributes.show[0] === 0)) {\r\n        return BoundingSphereState.FAILED;\r\n    }\r\n    attributes.boundingSphere.clone(result);\r\n    return BoundingSphereState.DONE;\r\n};\r\nBatch.prototype.removeAllPrimitives = function () {\r\n    var primitives = this.primitives;\r\n    var primitive = this.primitive;\r\n    if (defined(primitive)) {\r\n        primitives.remove(primitive);\r\n        this.primitive = undefined;\r\n        this.geometry.removeAll();\r\n        this.updaters.removeAll();\r\n    }\r\n    var oldPrimitive = this.oldPrimitive;\r\n    if (defined(oldPrimitive)) {\r\n        primitives.remove(oldPrimitive);\r\n        this.oldPrimitive = undefined;\r\n    }\r\n};\r\nBatch.prototype.destroy = function () {\r\n    var primitive = this.primitive;\r\n    var primitives = this.primitives;\r\n    if (defined(primitive)) {\r\n        primitives.remove(primitive);\r\n    }\r\n    var oldPrimitive = this.oldPrimitive;\r\n    if (defined(oldPrimitive)) {\r\n        primitives.remove(oldPrimitive);\r\n    }\r\n    if (defined(this.removeMaterialSubscription)) {\r\n        this.removeMaterialSubscription();\r\n    }\r\n};\r\nvar wasFixed = false;\r\nexport function fixCesiumEntitiesShadows() {\r\n    if (wasFixed) {\r\n        return;\r\n    }\r\n    Cesium.StaticGeometryColorBatch.prototype.add = function (time, updater) {\r\n        var items;\r\n        var translucent;\r\n        var instance = updater.createFillGeometryInstance(time);\r\n        if (instance.attributes.color.value[3] === 255) {\r\n            items = this._solidItems;\r\n            translucent = false;\r\n        }\r\n        else {\r\n            items = this._translucentItems;\r\n            translucent = true;\r\n        }\r\n        var length = items.length;\r\n        for (var i = 0; i < length; i++) {\r\n            var item = items[i];\r\n            if (item.isMaterial(updater)) {\r\n                item.add(updater, instance);\r\n                return;\r\n            }\r\n        }\r\n        var batch = new Batch(this._primitives, translucent, this._appearanceType, this._depthFailAppearanceType, updater.depthFailMaterialProperty, this._closed, this._shadows);\r\n        batch.add(updater, instance);\r\n        items.push(batch);\r\n    };\r\n    wasFixed = true;\r\n}\r\n//# sourceMappingURL=StaticGeometryColorBatch.js.map","import { Inject, Injectable, Optional } from '@angular/core';\r\nimport { fixCesiumEntitiesShadows } from './StaticGeometryColorBatch';\r\nvar ConfigurationService = (function () {\r\n    function ConfigurationService(config) {\r\n        this.config = config;\r\n        var fixEntitiesShadows = config ? config.fixEntitiesShadows : true;\r\n        if (fixEntitiesShadows !== false) {\r\n            fixCesiumEntitiesShadows();\r\n        }\r\n    }\r\n    ConfigurationService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ConfigurationService.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: ['config',] },] },\r\n    ]; };\r\n    return ConfigurationService;\r\n}());\r\nexport { ConfigurationService };\r\n//# sourceMappingURL=ConfigurationService.js.map","import { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../cesium/cesium.service';\r\nvar ScreenshotService = (function () {\r\n    function ScreenshotService(cesiumSerive) {\r\n        this.cesiumSerive = cesiumSerive;\r\n    }\r\n    ScreenshotService.prototype.getMapScreenshotDataUrlBase64 = function () {\r\n        var canvas = this.cesiumSerive.getCanvas();\r\n        return canvas.toDataURL();\r\n    };\r\n    ScreenshotService.prototype.downloadMapScreenshot = function (filename) {\r\n        if (filename === void 0) { filename = 'map.png'; }\r\n        var dataUrl = this.getMapScreenshotDataUrlBase64();\r\n        this.downloadURI(dataUrl, filename);\r\n    };\r\n    ScreenshotService.prototype.downloadURI = function (uri, name) {\r\n        var link = document.createElement('a');\r\n        link.download = name;\r\n        link.href = uri;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n    ScreenshotService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ScreenshotService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return ScreenshotService;\r\n}());\r\nexport { ScreenshotService };\r\n//# sourceMappingURL=screenshot.service.js.map","import { EventEmitter, Injectable } from '@angular/core';\r\nimport { CesiumEvent } from '../map-events-mananger/consts/cesium-event.enum';\r\nimport { PickOptions } from '../map-events-mananger/consts/pickOptions.enum';\r\nvar ContextMenuService = (function () {\r\n    function ContextMenuService() {\r\n        this._showContextMenu = false;\r\n        this._contextMenuChangeNotifier = new EventEmitter();\r\n        this._onOpen = new EventEmitter();\r\n        this._onClose = new EventEmitter();\r\n        this._defaultContextMenuOptions = {\r\n            closeOnLeftCLick: true,\r\n            closeOnLeftClickPriority: 10,\r\n        };\r\n    }\r\n    Object.defineProperty(ContextMenuService.prototype, \"contextMenuChangeNotifier\", {\r\n        get: function () {\r\n            return this._contextMenuChangeNotifier;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextMenuService.prototype, \"showContextMenu\", {\r\n        get: function () {\r\n            return this._showContextMenu;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextMenuService.prototype, \"options\", {\r\n        get: function () {\r\n            return this._options;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextMenuService.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextMenuService.prototype, \"content\", {\r\n        get: function () {\r\n            return this._content;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextMenuService.prototype, \"onOpen\", {\r\n        get: function () {\r\n            return this._onOpen;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ContextMenuService.prototype, \"onClose\", {\r\n        get: function () {\r\n            return this._onClose;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextMenuService.prototype.init = function (mapEventsManager) {\r\n        this.mapEventsManager = mapEventsManager;\r\n    };\r\n    ContextMenuService.prototype.open = function (content, position, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this.close();\r\n        this._content = content;\r\n        this._position = position;\r\n        this._options = Object.assign({}, this._defaultContextMenuOptions, options);\r\n        this._showContextMenu = true;\r\n        if (this.mapEventsManager && this._options.closeOnLeftCLick) {\r\n            this.leftClickRegistration = this.mapEventsManager.register({\r\n                event: CesiumEvent.LEFT_CLICK,\r\n                pick: PickOptions.NO_PICK,\r\n                priority: this._options.closeOnLeftClickPriority,\r\n            });\r\n            this.leftClickSubscription = this.leftClickRegistration.subscribe(function () {\r\n                _this.leftClickSubscription.unsubscribe();\r\n                _this.close();\r\n            });\r\n        }\r\n        this._contextMenuChangeNotifier.emit();\r\n        this._onOpen.emit();\r\n    };\r\n    ContextMenuService.prototype.close = function () {\r\n        this._content = undefined;\r\n        this._position = undefined;\r\n        this._options = undefined;\r\n        this._showContextMenu = false;\r\n        if (this.leftClickRegistration) {\r\n            this.leftClickRegistration.dispose();\r\n            this.leftClickRegistration = undefined;\r\n        }\r\n        if (this.leftClickSubscription) {\r\n            this.leftClickSubscription.unsubscribe();\r\n            this.leftClickSubscription = undefined;\r\n        }\r\n        this._contextMenuChangeNotifier.emit();\r\n        this._onClose.emit();\r\n    };\r\n    ContextMenuService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ContextMenuService.ctorParameters = function () { return []; };\r\n    return ContextMenuService;\r\n}());\r\nexport { ContextMenuService };\r\n//# sourceMappingURL=context-menu.service.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { Injectable, Optional } from '@angular/core';\r\nimport { CesiumService } from '../cesium/cesium.service';\r\nimport * as geodesy from 'geodesy';\r\nimport { LatLonEllipsoidal, Utm } from 'geodesy';\r\nvar LatLonVectors = geodesy['LatLonVectors'];\r\nwindow['geodesy'] = geodesy;\r\nvar CoordinateConverter = (function () {\r\n    function CoordinateConverter(cesiumService) {\r\n        this.cesiumService = cesiumService;\r\n    }\r\n    CoordinateConverter.prototype.screenToCartesian3 = function (screenPos, addMapCanvansBoundsToPos) {\r\n        if (!this.cesiumService) {\r\n            throw new Error('ANGULAR2-CESIUM - Cesium service should be provided in order to do screen position calculations');\r\n        }\r\n        else {\r\n            var screenPosition = __assign({}, screenPos);\r\n            if (addMapCanvansBoundsToPos) {\r\n                var mapBounds = this.cesiumService.getViewer().canvas.getBoundingClientRect();\r\n                screenPosition.x += mapBounds.left;\r\n                screenPosition.y += mapBounds.top;\r\n            }\r\n            var camera = this.cesiumService.getViewer().camera;\r\n            return camera.pickEllipsoid(screenPosition);\r\n        }\r\n    };\r\n    CoordinateConverter.prototype.screenToCartographic = function (screenPos, ellipsoid) {\r\n        return this.cartesian3ToCartographic(this.screenToCartesian3(screenPos), ellipsoid);\r\n    };\r\n    CoordinateConverter.prototype.cartesian3ToCartographic = function (cartesian, ellipsoid) {\r\n        return Cesium.Cartographic.fromCartesian(cartesian, ellipsoid);\r\n    };\r\n    CoordinateConverter.prototype.degreesToCartographic = function (longitude, latitude, height) {\r\n        return Cesium.Cartographic.fromDegrees(longitude, latitude, height);\r\n    };\r\n    CoordinateConverter.prototype.radiansToCartographic = function (longitude, latitude, height) {\r\n        return Cesium.Cartographic.fromRadians(longitude, latitude, height);\r\n    };\r\n    CoordinateConverter.prototype.degreesToUTM = function (longitude, latitude) {\r\n        return new LatLonEllipsoidal(latitude, longitude).toUtm();\r\n    };\r\n    CoordinateConverter.prototype.UTMToDegrees = function (zone, hemisphereType, easting, northing) {\r\n        return this.geodesyToCesiumObject(new Utm(zone, hemisphereType, easting, northing).toLatLonE());\r\n    };\r\n    CoordinateConverter.prototype.geodesyToCesiumObject = function (geodesyRadians) {\r\n        return {\r\n            longitude: geodesyRadians.lon,\r\n            latitude: geodesyRadians.lat,\r\n            height: geodesyRadians['height'] ? geodesyRadians['height'] : 0\r\n        };\r\n    };\r\n    CoordinateConverter.prototype.midPointToCartesian3 = function (first, second) {\r\n        var toDeg = function (rad) { return Cesium.Math.toDegrees(rad); };\r\n        var firstPoint = new LatLonVectors(toDeg(first.latitude), toDeg(first.longitude));\r\n        var secondPoint = new LatLonVectors(toDeg(second.latitude), toDeg(second.longitude));\r\n        var middlePoint = firstPoint.midpointTo(secondPoint);\r\n        return Cesium.Cartesian3.fromDegrees(middlePoint.lon, middlePoint.lat);\r\n    };\r\n    CoordinateConverter.prototype.middlePointByScreen = function (position0, position1) {\r\n        var scene = this.cesiumService.getScene();\r\n        var screenPosition1 = Cesium.SceneTransforms.wgs84ToWindowCoordinates(scene, position0);\r\n        var screenPosition2 = Cesium.SceneTransforms.wgs84ToWindowCoordinates(scene, position1);\r\n        var middleScreenPoint = new Cesium.Cartesian2((screenPosition2.x + screenPosition1.x) / 2.0, (screenPosition2.y + screenPosition1.y) / 2.0);\r\n        return scene.pickPosition(middleScreenPoint);\r\n    };\r\n    CoordinateConverter.prototype.bearingTo = function (first, second) {\r\n        var toDeg = function (rad) { return Cesium.Math.toDegrees(rad); };\r\n        var firstPoint = new LatLonVectors(toDeg(first.latitude), toDeg(first.longitude));\r\n        var secondPoint = new LatLonVectors(toDeg(second.latitude), toDeg(second.longitude));\r\n        var bearing = firstPoint.bearingTo(secondPoint);\r\n        return bearing;\r\n    };\r\n    CoordinateConverter.prototype.bearingToCartesian = function (firstCartesian3, secondCartesian3) {\r\n        var firstCart = Cesium.Cartographic.fromCartesian(firstCartesian3);\r\n        var secondCart = Cesium.Cartographic.fromCartesian(secondCartesian3);\r\n        return this.bearingTo(firstCart, secondCart);\r\n    };\r\n    CoordinateConverter.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CoordinateConverter.ctorParameters = function () { return [\r\n        { type: CesiumService, decorators: [{ type: Optional },] },\r\n    ]; };\r\n    return CoordinateConverter;\r\n}());\r\nexport { CoordinateConverter };\r\n//# sourceMappingURL=coordinate-converter.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { PrimitivesDrawerService } from '../primitives-drawer/primitives-drawer.service';\r\nvar PolylinePrimitiveDrawerService = (function (_super) {\r\n    __extends(PolylinePrimitiveDrawerService, _super);\r\n    function PolylinePrimitiveDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PolylineCollection, cesiumService) || this;\r\n    }\r\n    PolylinePrimitiveDrawerService.prototype.add = function (cesiumProps) {\r\n        return this._cesiumCollection.add(this.withColorMaterial(cesiumProps));\r\n    };\r\n    PolylinePrimitiveDrawerService.prototype.update = function (cesiumObject, cesiumProps) {\r\n        if (cesiumProps.material instanceof Cesium.Color) {\r\n            if (cesiumObject.material && cesiumObject.material.uniforms &&\r\n                cesiumObject.material.uniforms.color instanceof Cesium.Color) {\r\n                this.withColorMaterial(cesiumProps);\r\n            }\r\n            else if (!cesiumObject.material.uniforms.color.equals(cesiumProps.material)) {\r\n                cesiumObject.material.uniforms.color = cesiumProps.material;\r\n            }\r\n        }\r\n        _super.prototype.update.call(this, cesiumObject, cesiumProps);\r\n    };\r\n    PolylinePrimitiveDrawerService.prototype.withColorMaterial = function (cesiumProps) {\r\n        if (cesiumProps.material instanceof Cesium.Color) {\r\n            var material = Cesium.Material.fromType('Color');\r\n            material.uniforms.color = cesiumProps.material;\r\n            cesiumProps.material = material;\r\n        }\r\n        return cesiumProps;\r\n    };\r\n    PolylinePrimitiveDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolylinePrimitiveDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return PolylinePrimitiveDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { PolylinePrimitiveDrawerService };\r\n//# sourceMappingURL=polyline-primitive-drawer.service.js.map","import { Component, ElementRef, Inject, Input } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CesiumService } from '../../services/cesium/cesium.service';\r\nimport { BillboardDrawerService } from '../../services/drawers/billboard-drawer/billboard-drawer.service';\r\nimport { MapEventsManagerService } from '../../services/map-events-mananger/map-events-manager';\r\nimport { CesiumEventBuilder } from '../../services/map-events-mananger/cesium-event-builder';\r\nimport { PlonterService } from '../../services/plonter/plonter.service';\r\nimport { LabelDrawerService } from '../../services/drawers/label-drawer/label-drawer.service';\r\nimport { PolylineDrawerService } from '../../services/drawers/polyline-drawer/polyline-drawer.service';\r\nimport { PointDrawerService } from '../../services/drawers/point-drawer/point-drawer.service';\r\nimport { ArcDrawerService } from '../../services/drawers/arc-drawer/arc-drawer.service';\r\nimport { MapsManagerService } from '../../services/maps-manager/maps-manager.service';\r\nimport { EllipseDrawerService } from '../../services/drawers/ellipse-drawer/ellipse-drawer.service';\r\nimport { PolygonDrawerService } from '../../services/drawers/polygon-drawer/polygon-drawer.service';\r\nimport { KeyboardControlService } from '../../services/keyboard-control/keyboard-control.service';\r\nimport { CameraService } from '../../services/camera/camera.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nimport { ConfigurationService } from '../../cesium-enhancements/ConfigurationService';\r\nimport { ScreenshotService } from '../../services/screenshot/screenshot.service';\r\nimport { ContextMenuService } from '../../services/context-menu/context-menu.service';\r\nimport { CoordinateConverter } from '../../services/coordinate-converter/coordinate-converter.service';\r\nimport { PolylinePrimitiveDrawerService } from '../../services/drawers/polyline-primitive-drawer/polyline-primitive-drawer.service';\r\nvar AcMapComponent = (function () {\r\n    function AcMapComponent(_cesiumService, _cameraService, _elemRef, document, mapsManagerService, billboardDrawerService, labelDrawerService, ellipseDrawerService, polylineDrawerService, polygonDrawerService, arcDrawerService, pointDrawerService, mapEventsManager, keyboardControlService, mapLayersService, configurationService, screenshotService, contextMenuService, coordinateConverter) {\r\n        this._cesiumService = _cesiumService;\r\n        this._cameraService = _cameraService;\r\n        this._elemRef = _elemRef;\r\n        this.document = document;\r\n        this.mapsManagerService = mapsManagerService;\r\n        this.billboardDrawerService = billboardDrawerService;\r\n        this.labelDrawerService = labelDrawerService;\r\n        this.ellipseDrawerService = ellipseDrawerService;\r\n        this.polylineDrawerService = polylineDrawerService;\r\n        this.polygonDrawerService = polygonDrawerService;\r\n        this.arcDrawerService = arcDrawerService;\r\n        this.pointDrawerService = pointDrawerService;\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.keyboardControlService = keyboardControlService;\r\n        this.mapLayersService = mapLayersService;\r\n        this.configurationService = configurationService;\r\n        this.screenshotService = screenshotService;\r\n        this.contextMenuService = contextMenuService;\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.disableDefaultPlonter = false;\r\n        this.mapContainer = this.document.createElement('div');\r\n        this.mapContainer.className = 'map-container';\r\n        this._elemRef.nativeElement.appendChild(this.mapContainer);\r\n        this._cesiumService.init(this.mapContainer);\r\n        this._cameraService.init(this._cesiumService);\r\n        this.mapEventsManager.init();\r\n        this.billboardDrawerService.init();\r\n        this.labelDrawerService.init();\r\n        this.ellipseDrawerService.init();\r\n        this.polylineDrawerService.init();\r\n        this.polygonDrawerService.init();\r\n        this.arcDrawerService.init();\r\n        this.pointDrawerService.init();\r\n        this.keyboardControlService.init();\r\n        this.contextMenuService.init(this.mapEventsManager);\r\n    }\r\n    AcMapComponent.prototype.ngOnInit = function () {\r\n        this.mapsManagerService.registerMap(this.id, this);\r\n    };\r\n    AcMapComponent.prototype.ngOnChanges = function (changes) {\r\n        if (changes['sceneMode']) {\r\n            this._cameraService.setSceneMode(changes['sceneMode'].currentValue);\r\n        }\r\n        if (changes['flyTo']) {\r\n            this._cameraService.cameraFlyTo(changes['flyTo'].currentValue);\r\n        }\r\n    };\r\n    AcMapComponent.prototype.ngAfterViewInit = function () {\r\n        this.mapLayersService.drawAllLayers();\r\n    };\r\n    AcMapComponent.prototype.getCesiumSerivce = function () {\r\n        return this._cesiumService;\r\n    };\r\n    AcMapComponent.prototype.getCesiumViewer = function () {\r\n        return this._cesiumService.getViewer();\r\n    };\r\n    AcMapComponent.prototype.getCameraService = function () {\r\n        return this._cameraService;\r\n    };\r\n    AcMapComponent.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    AcMapComponent.prototype.getMapEventsManager = function () {\r\n        return this.mapEventsManager;\r\n    };\r\n    AcMapComponent.prototype.getContextMenuService = function () {\r\n        return this.contextMenuService;\r\n    };\r\n    AcMapComponent.prototype.getScreenshotService = function () {\r\n        return this.screenshotService;\r\n    };\r\n    AcMapComponent.prototype.getKeyboardControlService = function () {\r\n        return this.keyboardControlService;\r\n    };\r\n    AcMapComponent.prototype.getCoordinateConverter = function () {\r\n        return this.coordinateConverter;\r\n    };\r\n    AcMapComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-map',\r\n                    template: \"\\n      <ac-default-plonter *ngIf=\\\"!disableDefaultPlonter\\\"></ac-default-plonter>\\n      <ac-context-menu-wrapper></ac-context-menu-wrapper>\\n      <ng-content></ng-content>\",\r\n                    providers: [\r\n                        CesiumService,\r\n                        BillboardDrawerService,\r\n                        CesiumEventBuilder,\r\n                        KeyboardControlService,\r\n                        MapEventsManagerService,\r\n                        PlonterService,\r\n                        LabelDrawerService,\r\n                        PolylineDrawerService,\r\n                        PolylinePrimitiveDrawerService,\r\n                        EllipseDrawerService,\r\n                        PointDrawerService,\r\n                        ArcDrawerService,\r\n                        PolygonDrawerService,\r\n                        MapLayersService,\r\n                        CameraService,\r\n                        ScreenshotService,\r\n                        ContextMenuService,\r\n                        CoordinateConverter,\r\n                    ]\r\n                },] },\r\n    ];\r\n    AcMapComponent.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n        { type: CameraService, },\r\n        { type: ElementRef, },\r\n        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },\r\n        { type: MapsManagerService, },\r\n        { type: BillboardDrawerService, },\r\n        { type: LabelDrawerService, },\r\n        { type: EllipseDrawerService, },\r\n        { type: PolylineDrawerService, },\r\n        { type: PolygonDrawerService, },\r\n        { type: ArcDrawerService, },\r\n        { type: PointDrawerService, },\r\n        { type: MapEventsManagerService, },\r\n        { type: KeyboardControlService, },\r\n        { type: MapLayersService, },\r\n        { type: ConfigurationService, },\r\n        { type: ScreenshotService, },\r\n        { type: ContextMenuService, },\r\n        { type: CoordinateConverter, },\r\n    ]; };\r\n    AcMapComponent.propDecorators = {\r\n        'disableDefaultPlonter': [{ type: Input },],\r\n        'id': [{ type: Input },],\r\n        'flyTo': [{ type: Input },],\r\n        'sceneMode': [{ type: Input },],\r\n    };\r\n    return AcMapComponent;\r\n}());\r\nexport { AcMapComponent };\r\n//# sourceMappingURL=ac-map.component.js.map","import { EventEmitter, Injectable } from '@angular/core';\r\nvar LayerService = (function () {\r\n    function LayerService() {\r\n        this._cache = true;\r\n        this.descriptions = [];\r\n        this.layerUpdate = new EventEmitter();\r\n    }\r\n    Object.defineProperty(LayerService.prototype, \"cache\", {\r\n        get: function () {\r\n            return this._cache;\r\n        },\r\n        set: function (value) {\r\n            this._cache = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerService.prototype, \"zIndex\", {\r\n        get: function () {\r\n            return this._zIndex;\r\n        },\r\n        set: function (value) {\r\n            if (value !== this._zIndex) {\r\n                this.layerUpdate.emit();\r\n            }\r\n            this._zIndex = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerService.prototype, \"show\", {\r\n        get: function () {\r\n            return this._show;\r\n        },\r\n        set: function (value) {\r\n            if (value !== this._show) {\r\n                this.layerUpdate.emit();\r\n            }\r\n            this._show = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerService.prototype, \"options\", {\r\n        get: function () {\r\n            return this._options;\r\n        },\r\n        set: function (value) {\r\n            this._options = value;\r\n            this.layerUpdate.emit();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LayerService.prototype, \"context\", {\r\n        get: function () {\r\n            return this._context;\r\n        },\r\n        set: function (context) {\r\n            this._context = context;\r\n            this.layerUpdate.emit();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LayerService.prototype.setEntityName = function (name) {\r\n        this._entityName = name;\r\n    };\r\n    LayerService.prototype.getEntityName = function () {\r\n        return this._entityName;\r\n    };\r\n    LayerService.prototype.registerDescription = function (descriptionComponent) {\r\n        if (this.descriptions.indexOf(descriptionComponent) < 0) {\r\n            this.descriptions.push(descriptionComponent);\r\n        }\r\n    };\r\n    LayerService.prototype.unregisterDescription = function (descriptionComponent) {\r\n        var index = this.descriptions.indexOf(descriptionComponent);\r\n        if (index > -1) {\r\n            this.descriptions.splice(index, 1);\r\n        }\r\n    };\r\n    LayerService.prototype.getDescriptions = function () {\r\n        return this.descriptions;\r\n    };\r\n    LayerService.prototype.layerUpdates = function () {\r\n        return this.layerUpdate;\r\n    };\r\n    LayerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    LayerService.ctorParameters = function () { return []; };\r\n    return LayerService;\r\n}());\r\nexport { LayerService };\r\n//# sourceMappingURL=layer-service.service.js.map","export var ActionType;\r\n(function (ActionType) {\r\n    ActionType[ActionType[\"ADD_UPDATE\"] = 0] = \"ADD_UPDATE\";\r\n    ActionType[ActionType[\"DELETE\"] = 1] = \"DELETE\";\r\n})(ActionType || (ActionType = {}));\r\n//# sourceMappingURL=action-type.enum.js.map","import { Injectable } from '@angular/core';\r\nvar ComputationCache = (function () {\r\n    function ComputationCache() {\r\n        this._cache = new Map();\r\n    }\r\n    ComputationCache.prototype.get = function (expression, insertFn) {\r\n        if (this._cache.has(expression)) {\r\n            return this._cache.get(expression);\r\n        }\r\n        var value = insertFn();\r\n        this._cache.set(expression, value);\r\n        return value;\r\n    };\r\n    ComputationCache.prototype.clear = function () {\r\n        this._cache.clear();\r\n    };\r\n    ComputationCache.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ComputationCache.ctorParameters = function () { return []; };\r\n    return ComputationCache;\r\n}());\r\nexport { ComputationCache };\r\n//# sourceMappingURL=computation-cache.service.js.map","var Checker = (function () {\r\n    function Checker() {\r\n    }\r\n    Checker.throwIfAnyNotPresent = function (values, propertyNames) {\r\n        propertyNames.forEach(function (propertyName) { return Checker.throwIfNotPresent(values, propertyName); });\r\n    };\r\n    Checker.throwIfNotPresent = function (value, name) {\r\n        if (!Checker.present(value[name])) {\r\n            throw new Error(\"Error: \" + name + \" was not given.\");\r\n        }\r\n    };\r\n    Checker.present = function (value) {\r\n        return value !== undefined && value !== null;\r\n    };\r\n    return Checker;\r\n}());\r\nexport { Checker };\r\n//# sourceMappingURL=checker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../../cesium/cesium.service';\r\nimport { Checker } from '../../../../utils/checker';\r\nimport { EllipsePrimitive } from 'primitive-primitives';\r\nimport { PrimitivesDrawerService } from '../../primitives-drawer/primitives-drawer.service';\r\nvar DynamicEllipseDrawerService = (function (_super) {\r\n    __extends(DynamicEllipseDrawerService, _super);\r\n    function DynamicEllipseDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PrimitiveCollection, cesiumService) || this;\r\n    }\r\n    DynamicEllipseDrawerService.prototype.add = function (cesiumProps) {\r\n        Checker.throwIfAnyNotPresent(cesiumProps, ['center', 'semiMajorAxis', 'semiMinorAxis']);\r\n        return _super.prototype.add.call(this, new EllipsePrimitive(cesiumProps));\r\n    };\r\n    DynamicEllipseDrawerService.prototype.update = function (ellipse, cesiumProps) {\r\n        ellipse.updateLocationData(cesiumProps);\r\n        return ellipse;\r\n    };\r\n    DynamicEllipseDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    DynamicEllipseDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return DynamicEllipseDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { DynamicEllipseDrawerService };\r\n//# sourceMappingURL=dynamic-ellipse-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../../cesium/cesium.service';\r\nimport { PrimitivesDrawerService } from '../../primitives-drawer/primitives-drawer.service';\r\nvar DynamicPolylineDrawerService = (function (_super) {\r\n    __extends(DynamicPolylineDrawerService, _super);\r\n    function DynamicPolylineDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PolylineCollection, cesiumService) || this;\r\n    }\r\n    DynamicPolylineDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    DynamicPolylineDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return DynamicPolylineDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { DynamicPolylineDrawerService };\r\n//# sourceMappingURL=dynamic-polyline-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { PrimitivesDrawerService } from '../../primitives-drawer/primitives-drawer.service';\r\nvar StaticPrimitiveDrawer = (function (_super) {\r\n    __extends(StaticPrimitiveDrawer, _super);\r\n    function StaticPrimitiveDrawer(geometryType, cesiumService) {\r\n        var _this = _super.call(this, Cesium.PrimitiveCollection, cesiumService) || this;\r\n        _this.geometryType = geometryType;\r\n        return _this;\r\n    }\r\n    StaticPrimitiveDrawer.prototype.add = function (geometryProps, instanceProps, primitiveProps) {\r\n        instanceProps.geometry = new this.geometryType(geometryProps);\r\n        primitiveProps.geometryInstances = new Cesium.GeometryInstance(instanceProps);\r\n        primitiveProps.asynchronous = false;\r\n        var primitive = new Cesium.Primitive(primitiveProps);\r\n        return _super.prototype.add.call(this, primitive);\r\n    };\r\n    StaticPrimitiveDrawer.prototype.update = function (primitive, geometryProps, instanceProps, primitiveProps) {\r\n        instanceProps.geometry = new this.geometryType(geometryProps);\r\n        primitiveProps.geometryInstances = new Cesium.GeometryInstance(instanceProps);\r\n        this._cesiumCollection.remove(primitive);\r\n        return _super.prototype.add.call(this, new Cesium.Primitive(primitiveProps));\r\n    };\r\n    return StaticPrimitiveDrawer;\r\n}(PrimitivesDrawerService));\r\nexport { StaticPrimitiveDrawer };\r\n//# sourceMappingURL=static-primitive-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../../cesium/cesium.service';\r\nimport { StaticPrimitiveDrawer } from '../static-primitive-drawer/static-primitive-drawer.service';\r\nvar StaticCircleDrawerService = (function (_super) {\r\n    __extends(StaticCircleDrawerService, _super);\r\n    function StaticCircleDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.CircleGeometry, cesiumService) || this;\r\n    }\r\n    StaticCircleDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    StaticCircleDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return StaticCircleDrawerService;\r\n}(StaticPrimitiveDrawer));\r\nexport { StaticCircleDrawerService };\r\n//# sourceMappingURL=static-circle-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../../cesium/cesium.service';\r\nimport { StaticPrimitiveDrawer } from '../static-primitive-drawer/static-primitive-drawer.service';\r\nvar StaticPolylineDrawerService = (function (_super) {\r\n    __extends(StaticPolylineDrawerService, _super);\r\n    function StaticPolylineDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PolylineGeometry, cesiumService) || this;\r\n    }\r\n    StaticPolylineDrawerService.prototype.update = function (primitive, geometryProps, instanceProps, primitiveProps) {\r\n        var color = instanceProps.attributes.color.value;\r\n        if (primitive.ready) {\r\n            primitive.getGeometryInstanceAttributes().color = color;\r\n        }\r\n        else {\r\n            Cesium.when(primitive.readyPromise).then(function (readyPrimitive) {\r\n                readyPrimitive.getGeometryInstanceAttributes().color.value = color;\r\n            });\r\n        }\r\n        return primitive;\r\n    };\r\n    StaticPolylineDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    StaticPolylineDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return StaticPolylineDrawerService;\r\n}(StaticPrimitiveDrawer));\r\nexport { StaticPolylineDrawerService };\r\n//# sourceMappingURL=static-polyline-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { StaticPrimitiveDrawer } from '../static-primitive-drawer/static-primitive-drawer.service';\r\nimport { CesiumService } from '../../../cesium/cesium.service';\r\nvar StaticPolygonDrawerService = (function (_super) {\r\n    __extends(StaticPolygonDrawerService, _super);\r\n    function StaticPolygonDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PolygonGeometry, cesiumService) || this;\r\n    }\r\n    StaticPolygonDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    StaticPolygonDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return StaticPolygonDrawerService;\r\n}(StaticPrimitiveDrawer));\r\nexport { StaticPolygonDrawerService };\r\n//# sourceMappingURL=polygon-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { CesiumService } from '../../../cesium/cesium.service';\r\n;\r\nimport { Injectable } from '@angular/core';\r\nimport { StaticPrimitiveDrawer } from '../static-primitive-drawer/static-primitive-drawer.service';\r\nvar StaticEllipseDrawerService = (function (_super) {\r\n    __extends(StaticEllipseDrawerService, _super);\r\n    function StaticEllipseDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.EllipseGeometry, cesiumService) || this;\r\n    }\r\n    StaticEllipseDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    StaticEllipseDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return StaticEllipseDrawerService;\r\n}(StaticPrimitiveDrawer));\r\nexport { StaticEllipseDrawerService };\r\n//# sourceMappingURL=ellipse-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar ModelDrawerService = (function (_super) {\r\n    __extends(ModelDrawerService, _super);\r\n    function ModelDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.model) || this;\r\n    }\r\n    ModelDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    ModelDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return ModelDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { ModelDrawerService };\r\n//# sourceMappingURL=model-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar BoxDrawerService = (function (_super) {\r\n    __extends(BoxDrawerService, _super);\r\n    function BoxDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.box) || this;\r\n    }\r\n    BoxDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    BoxDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return BoxDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { BoxDrawerService };\r\n//# sourceMappingURL=box-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar CorridorDrawerService = (function (_super) {\r\n    __extends(CorridorDrawerService, _super);\r\n    function CorridorDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.corridor) || this;\r\n    }\r\n    CorridorDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CorridorDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return CorridorDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { CorridorDrawerService };\r\n//# sourceMappingURL=corridor-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar CylinderDrawerService = (function (_super) {\r\n    __extends(CylinderDrawerService, _super);\r\n    function CylinderDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.cylinder) || this;\r\n    }\r\n    CylinderDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CylinderDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return CylinderDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { CylinderDrawerService };\r\n//# sourceMappingURL=cylinder-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar EllipsoidDrawerService = (function (_super) {\r\n    __extends(EllipsoidDrawerService, _super);\r\n    function EllipsoidDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.ellipsoid) || this;\r\n    }\r\n    EllipsoidDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    EllipsoidDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return EllipsoidDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { EllipsoidDrawerService };\r\n//# sourceMappingURL=ellipsoid-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar PolylineVolumeDrawerService = (function (_super) {\r\n    __extends(PolylineVolumeDrawerService, _super);\r\n    function PolylineVolumeDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.polylineVolume) || this;\r\n    }\r\n    PolylineVolumeDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolylineVolumeDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return PolylineVolumeDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { PolylineVolumeDrawerService };\r\n//# sourceMappingURL=polyline-volume-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar WallDrawerService = (function (_super) {\r\n    __extends(WallDrawerService, _super);\r\n    function WallDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.wall) || this;\r\n    }\r\n    WallDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    WallDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return WallDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { WallDrawerService };\r\n//# sourceMappingURL=wall-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { EntitiesDrawerService } from '../entities-drawer/entities-drawer.service';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { GraphicsType } from '../entities-drawer/enums/graphics-type.enum';\r\nvar RectangleDrawerService = (function (_super) {\r\n    __extends(RectangleDrawerService, _super);\r\n    function RectangleDrawerService(cesiumService) {\r\n        return _super.call(this, cesiumService, GraphicsType.rectangle) || this;\r\n    }\r\n    RectangleDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    RectangleDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return RectangleDrawerService;\r\n}(EntitiesDrawerService));\r\nexport { RectangleDrawerService };\r\n//# sourceMappingURL=rectangle-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { PrimitivesDrawerService } from '../primitives-drawer/primitives-drawer.service';\r\nvar LabelPrimitiveDrawerService = (function (_super) {\r\n    __extends(LabelPrimitiveDrawerService, _super);\r\n    function LabelPrimitiveDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.LabelCollection, cesiumService) || this;\r\n    }\r\n    LabelPrimitiveDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    LabelPrimitiveDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return LabelPrimitiveDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { LabelPrimitiveDrawerService };\r\n//# sourceMappingURL=label-primitive-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { PrimitivesDrawerService } from '../primitives-drawer/primitives-drawer.service';\r\nvar BillboardPrimitiveDrawerService = (function (_super) {\r\n    __extends(BillboardPrimitiveDrawerService, _super);\r\n    function BillboardPrimitiveDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.BillboardCollection, cesiumService) || this;\r\n    }\r\n    BillboardPrimitiveDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    BillboardPrimitiveDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return BillboardPrimitiveDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { BillboardPrimitiveDrawerService };\r\n//# sourceMappingURL=billboard-primitive-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { PrimitivesDrawerService } from '../primitives-drawer/primitives-drawer.service';\r\nvar PointPrimitiveDrawerService = (function (_super) {\r\n    __extends(PointPrimitiveDrawerService, _super);\r\n    function PointPrimitiveDrawerService(cesiumService) {\r\n        return _super.call(this, Cesium.PointPrimitiveCollection, cesiumService) || this;\r\n    }\r\n    PointPrimitiveDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PointPrimitiveDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return PointPrimitiveDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { PointPrimitiveDrawerService };\r\n//# sourceMappingURL=point-primitive-drawer.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from '@angular/core';\r\nimport { CesiumService } from '../../cesium/cesium.service';\r\nimport { PrimitivesDrawerService } from '../primitives-drawer/primitives-drawer.service';\r\nvar HtmlDrawerService = (function (_super) {\r\n    __extends(HtmlDrawerService, _super);\r\n    function HtmlDrawerService(_cesiumService) {\r\n        var _this = _super.call(this, Cesium.HtmlCollection, _cesiumService) || this;\r\n        _this._cesiumService = _cesiumService;\r\n        return _this;\r\n    }\r\n    HtmlDrawerService.prototype.add = function (cesiumProps) {\r\n        cesiumProps.scene = this._cesiumService.getScene();\r\n        return _super.prototype.add.call(this, cesiumProps);\r\n    };\r\n    HtmlDrawerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    HtmlDrawerService.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    return HtmlDrawerService;\r\n}(PrimitivesDrawerService));\r\nexport { HtmlDrawerService };\r\n//# sourceMappingURL=html-drawer.service.js.map","import { BillboardDrawerService } from '../../services/drawers/billboard-drawer/billboard-drawer.service';\r\nimport { Component, Input } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ActionType } from '../../models/action-type.enum';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { LabelDrawerService } from '../../services/drawers/label-drawer/label-drawer.service';\r\nimport { EllipseDrawerService } from '../../services/drawers/ellipse-drawer/ellipse-drawer.service';\r\nimport { PolylineDrawerService } from '../../services/drawers/polyline-drawer/polyline-drawer.service';\r\nimport { ArcDrawerService } from '../../services/drawers/arc-drawer/arc-drawer.service';\r\nimport { PointDrawerService } from '../../services/drawers/point-drawer/point-drawer.service';\r\nimport { PolygonDrawerService } from '../../services/drawers/polygon-drawer/polygon-drawer.service';\r\nimport { DynamicEllipseDrawerService } from '../../services/drawers/static-dynamic/ellipse-drawer/dynamic-ellipse-drawer.service';\r\nimport { DynamicPolylineDrawerService } from '../../services/drawers/static-dynamic/dynamic-polyline-drawer/dynamic-polyline-drawer.service';\r\nimport { StaticCircleDrawerService } from '../../services/drawers/static-dynamic/static-circle-drawer/static-circle-drawer.service';\r\nimport { StaticPolylineDrawerService } from '../../services/drawers/static-dynamic/static-polyline-drawer/static-polyline-drawer.service';\r\nimport { StaticPolygonDrawerService } from '../../services/drawers/static-dynamic/static-polygon-drawer/polygon-drawer.service';\r\nimport { StaticEllipseDrawerService } from '../../services/drawers/static-dynamic/ellipse-drawer/ellipse-drawer.service';\r\nimport { ModelDrawerService } from '../../services/drawers/model-drawer/model-drawer.service';\r\nimport { BoxDrawerService } from '../../services/drawers/box-dawer/box-drawer.service';\r\nimport { CorridorDrawerService } from '../../services/drawers/corridor-dawer/corridor-drawer.service';\r\nimport { CylinderDrawerService } from '../../services/drawers/cylinder-dawer/cylinder-drawer.service';\r\nimport { EllipsoidDrawerService } from '../../services/drawers/ellipoid-drawer/ellipsoid-drawer.service';\r\nimport { PolylineVolumeDrawerService } from '../../services/drawers/polyline-volume-dawer/polyline-volume-drawer.service';\r\nimport { WallDrawerService } from '../../services/drawers/wall-dawer/wall-drawer.service';\r\nimport { RectangleDrawerService } from '../../services/drawers/rectangle-dawer/rectangle-drawer.service';\r\nimport { PolylinePrimitiveDrawerService } from '../../services/drawers/polyline-primitive-drawer/polyline-primitive-drawer.service';\r\nimport { LabelPrimitiveDrawerService } from '../../services/drawers/label-primitive-drawer/label-primitive-drawer.service';\r\nimport { BillboardPrimitiveDrawerService } from '../../services/drawers/billboard-primitive-drawer/billboard-primitive-drawer.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nimport { PointPrimitiveDrawerService } from '../../services/drawers/point-primitive-drawer/point-primitive-drawer.service';\r\nimport { HtmlDrawerService } from '../../services/drawers/html-drawer/html-drawer.service';\r\nvar AcLayerComponent = (function () {\r\n    function AcLayerComponent(layerService, _computationCache, mapLayersService, billboardDrawerService, labelDrawerService, ellipseDrawerService, polylineDrawerService, polygonDrawerService, arcDrawerService, pointDrawerService, modelDrawerService, boxDrawerService, corridorDrawerService, cylinderDrawerService, ellipsoidDrawerSerice, polylineVolumeDrawerService, wallDrawerService, rectangleDrawerService, dynamicEllipseDrawerService, dynamicPolylineDrawerService, staticCircleDrawerService, staticPolylineDrawerService, staticPolygonDrawerService, staticEllipseDrawerService, polylinePrimitiveDrawerService, labelPrimitiveDrawerService, billboardPrimitiveDrawerService, pointPrimitiveDrawerService, htmlDrawerService) {\r\n        this.layerService = layerService;\r\n        this._computationCache = _computationCache;\r\n        this.mapLayersService = mapLayersService;\r\n        this.show = true;\r\n        this.store = false;\r\n        this.zIndex = 0;\r\n        this.acForRgx = /^let\\s+.+\\s+of\\s+.+$/;\r\n        this.stopObservable = new Subject();\r\n        this._updateStream = new Subject();\r\n        this.entitiesStore = new Map();\r\n        this.layerDrawerDataSources = [];\r\n        this._drawerList = new Map([\r\n            ['billboard', billboardDrawerService],\r\n            ['label', labelDrawerService],\r\n            ['ellipse', ellipseDrawerService],\r\n            ['polyline', polylineDrawerService],\r\n            ['polygon', polygonDrawerService],\r\n            ['arc', arcDrawerService],\r\n            ['point', pointDrawerService],\r\n            ['model', modelDrawerService],\r\n            ['box', boxDrawerService],\r\n            ['corridor', corridorDrawerService],\r\n            ['cylinder', cylinderDrawerService],\r\n            ['ellipsoid', ellipsoidDrawerSerice],\r\n            ['polylineVolume', polylineVolumeDrawerService],\r\n            ['rectangle', rectangleDrawerService],\r\n            ['wall', wallDrawerService],\r\n            ['polylinePrimitive', polylinePrimitiveDrawerService],\r\n            ['labelPrimitive', labelPrimitiveDrawerService],\r\n            ['billboardPrimitive', billboardPrimitiveDrawerService],\r\n            ['pointPrimitive', pointPrimitiveDrawerService],\r\n            ['html', htmlDrawerService],\r\n            ['dynamicEllipse', dynamicEllipseDrawerService],\r\n            ['dynamicPolyline', dynamicPolylineDrawerService],\r\n            ['staticCircle', staticCircleDrawerService],\r\n            ['staticPolyline', staticPolylineDrawerService],\r\n            ['staticPolygon', staticPolygonDrawerService],\r\n            ['staticEllipse', staticEllipseDrawerService],\r\n        ]);\r\n    }\r\n    AcLayerComponent.prototype.init = function () {\r\n        var _this = this;\r\n        this.initValidParams();\r\n        Observable.merge(this._updateStream, this.observable).takeUntil(this.stopObservable).subscribe(function (notification) {\r\n            _this._computationCache.clear();\r\n            var contextEntity = notification.entity;\r\n            if (_this.store) {\r\n                contextEntity = _this.updateStore(notification);\r\n            }\r\n            _this.context[_this.entityName] = contextEntity;\r\n            _this.layerService.getDescriptions().forEach(function (descriptionComponent) {\r\n                switch (notification.actionType) {\r\n                    case ActionType.ADD_UPDATE:\r\n                        descriptionComponent.draw(_this.context, notification.id, contextEntity);\r\n                        break;\r\n                    case ActionType.DELETE:\r\n                        descriptionComponent.remove(notification.id);\r\n                        break;\r\n                    default:\r\n                        console.error('[ac-layer] unknown AcNotification.actionType for notification: ' + notification);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    AcLayerComponent.prototype.updateStore = function (notification) {\r\n        if (notification.actionType === ActionType.DELETE) {\r\n            this.entitiesStore.delete(notification.id);\r\n            return undefined;\r\n        }\r\n        else {\r\n            if (this.entitiesStore.has(notification.id)) {\r\n                var entity = this.entitiesStore.get(notification.id);\r\n                Object.assign(entity, notification.entity);\r\n                return entity;\r\n            }\r\n            else {\r\n                this.entitiesStore.set(notification.id, notification.entity);\r\n                return notification.entity;\r\n            }\r\n        }\r\n    };\r\n    AcLayerComponent.prototype.initValidParams = function () {\r\n        if (!this.context) {\r\n            throw new Error('ac-layer: must initialize [context] ');\r\n        }\r\n        if (!this.acForRgx.test(this.acFor)) {\r\n            throw new Error(\"ac-layer: Invalid [acFor] syntax. Expected: [acFor]=\\\"let item of observable\\\" .Instead received: \" + this.acFor);\r\n        }\r\n        var acForArr = this.acFor.split(' ');\r\n        this.observable = this.context[acForArr[3]];\r\n        this.entityName = acForArr[1];\r\n        if (!this.observable || !(this.observable instanceof Observable)) {\r\n            throw new Error('ac-layer: must initailize [acFor] with rx observable, instead received: ' + this.observable);\r\n        }\r\n        this.layerService.context = this.context;\r\n        this.layerService.setEntityName(this.entityName);\r\n    };\r\n    AcLayerComponent.prototype.ngAfterContentInit = function () {\r\n        this.init();\r\n    };\r\n    AcLayerComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.layerService.context = this.context;\r\n        this.layerService.options = this.options;\r\n        this.layerService.show = this.show;\r\n        this.layerService.zIndex = this.zIndex;\r\n        this._drawerList.forEach(function (drawer, drawerName) {\r\n            var initOptions = _this.options ? _this.options[drawerName] : undefined;\r\n            var drawerDataSources = drawer.init(initOptions);\r\n            if (drawerDataSources) {\r\n                _this.mapLayersService.registerLayerDataSources(drawerDataSources, _this.zIndex);\r\n                (_a = _this.layerDrawerDataSources).push.apply(_a, drawerDataSources);\r\n            }\r\n            drawer.setShow(_this.show);\r\n            var _a;\r\n        });\r\n    };\r\n    AcLayerComponent.prototype.ngOnChanges = function (changes) {\r\n        if (changes.show && !changes.show.firstChange) {\r\n            var showValue_1 = changes['show'].currentValue;\r\n            this.layerService.show = showValue_1;\r\n            this._drawerList.forEach(function (drawer) { return drawer.setShow(showValue_1); });\r\n        }\r\n        if (changes.zIndex && !changes.zIndex.firstChange) {\r\n            var zIndexValue = changes['zIndex'].currentValue;\r\n            this.layerService.zIndex = zIndexValue;\r\n            this.mapLayersService.updateAndRefresh(this.layerDrawerDataSources, zIndexValue);\r\n        }\r\n    };\r\n    AcLayerComponent.prototype.ngOnDestroy = function () {\r\n        this.mapLayersService.removeDataSources(this.layerDrawerDataSources);\r\n        this.stopObservable.next(true);\r\n        this.removeAll();\r\n    };\r\n    AcLayerComponent.prototype.getLayerService = function () {\r\n        return this.layerService;\r\n    };\r\n    AcLayerComponent.prototype.getStore = function () {\r\n        return this.entitiesStore;\r\n    };\r\n    ;\r\n    AcLayerComponent.prototype.removeAll = function () {\r\n        this.layerService.getDescriptions().forEach(function (description) { return description.removeAll(); });\r\n        this.entitiesStore.clear();\r\n    };\r\n    AcLayerComponent.prototype.remove = function (entityId) {\r\n        this._updateStream.next({ id: entityId, actionType: ActionType.DELETE });\r\n        this.entitiesStore.delete(entityId);\r\n    };\r\n    AcLayerComponent.prototype.updateNotification = function (notification) {\r\n        this._updateStream.next(notification);\r\n    };\r\n    AcLayerComponent.prototype.update = function (entity, id) {\r\n        this._updateStream.next({ entity: entity, id: id, actionType: ActionType.ADD_UPDATE });\r\n    };\r\n    AcLayerComponent.prototype.refreshAll = function (collection) {\r\n        var _this = this;\r\n        Observable.from(collection).subscribe(function (entity) { return _this._updateStream.next(entity); });\r\n    };\r\n    AcLayerComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-layer',\r\n                    template: '<ng-content></ng-content>',\r\n                    providers: [\r\n                        LayerService,\r\n                        ComputationCache,\r\n                        BillboardDrawerService,\r\n                        LabelDrawerService,\r\n                        EllipseDrawerService,\r\n                        PolylineDrawerService,\r\n                        ArcDrawerService,\r\n                        PointDrawerService,\r\n                        PolygonDrawerService,\r\n                        ModelDrawerService,\r\n                        BoxDrawerService,\r\n                        CorridorDrawerService,\r\n                        CylinderDrawerService,\r\n                        EllipsoidDrawerService,\r\n                        PolylineVolumeDrawerService,\r\n                        WallDrawerService,\r\n                        RectangleDrawerService,\r\n                        PolylinePrimitiveDrawerService,\r\n                        LabelPrimitiveDrawerService,\r\n                        BillboardPrimitiveDrawerService,\r\n                        PointPrimitiveDrawerService,\r\n                        HtmlDrawerService,\r\n                        DynamicEllipseDrawerService,\r\n                        DynamicPolylineDrawerService,\r\n                        StaticCircleDrawerService,\r\n                        StaticPolylineDrawerService,\r\n                        StaticPolygonDrawerService,\r\n                        StaticEllipseDrawerService,\r\n                    ]\r\n                },] },\r\n    ];\r\n    AcLayerComponent.ctorParameters = function () { return [\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: MapLayersService, },\r\n        { type: BillboardDrawerService, },\r\n        { type: LabelDrawerService, },\r\n        { type: EllipseDrawerService, },\r\n        { type: PolylineDrawerService, },\r\n        { type: PolygonDrawerService, },\r\n        { type: ArcDrawerService, },\r\n        { type: PointDrawerService, },\r\n        { type: ModelDrawerService, },\r\n        { type: BoxDrawerService, },\r\n        { type: CorridorDrawerService, },\r\n        { type: CylinderDrawerService, },\r\n        { type: EllipsoidDrawerService, },\r\n        { type: PolylineVolumeDrawerService, },\r\n        { type: WallDrawerService, },\r\n        { type: RectangleDrawerService, },\r\n        { type: DynamicEllipseDrawerService, },\r\n        { type: DynamicPolylineDrawerService, },\r\n        { type: StaticCircleDrawerService, },\r\n        { type: StaticPolylineDrawerService, },\r\n        { type: StaticPolygonDrawerService, },\r\n        { type: StaticEllipseDrawerService, },\r\n        { type: PolylinePrimitiveDrawerService, },\r\n        { type: LabelPrimitiveDrawerService, },\r\n        { type: BillboardPrimitiveDrawerService, },\r\n        { type: PointPrimitiveDrawerService, },\r\n        { type: HtmlDrawerService, },\r\n    ]; };\r\n    AcLayerComponent.propDecorators = {\r\n        'show': [{ type: Input },],\r\n        'acFor': [{ type: Input },],\r\n        'context': [{ type: Input },],\r\n        'store': [{ type: Input },],\r\n        'options': [{ type: Input },],\r\n        'zIndex': [{ type: Input },],\r\n    };\r\n    return AcLayerComponent;\r\n}());\r\nexport { AcLayerComponent };\r\n//# sourceMappingURL=ac-layer.component.js.map","import { Input } from '@angular/core';\r\nvar EntityOnMapComponent = (function () {\r\n    function EntityOnMapComponent(_drawer, mapLayers) {\r\n        this._drawer = _drawer;\r\n        this.mapLayers = mapLayers;\r\n    }\r\n    EntityOnMapComponent.prototype.ngOnInit = function () {\r\n        this.selfPrimitiveIsDraw = false;\r\n        var dataSources = this._drawer.init();\r\n        if (dataSources) {\r\n            this.dataSources = dataSources;\r\n            this.mapLayers.registerLayerDataSources(dataSources, 0);\r\n        }\r\n        this.drawOnMap();\r\n    };\r\n    EntityOnMapComponent.prototype.ngOnChanges = function (changes) {\r\n        var props = changes['props'];\r\n        if (props.currentValue !== props.previousValue) {\r\n            this.updateOnMap();\r\n        }\r\n    };\r\n    EntityOnMapComponent.prototype.drawOnMap = function () {\r\n        this.selfPrimitiveIsDraw = true;\r\n        return this.selfPrimitive = this._drawer.add(this.props);\r\n    };\r\n    EntityOnMapComponent.prototype.removeFromMap = function () {\r\n        this.selfPrimitiveIsDraw = false;\r\n        return this._drawer.remove(this.selfPrimitive);\r\n    };\r\n    EntityOnMapComponent.prototype.updateOnMap = function () {\r\n        if (this.selfPrimitiveIsDraw) {\r\n            return this._drawer.update(this.selfPrimitive, this.props);\r\n        }\r\n    };\r\n    EntityOnMapComponent.prototype.ngOnDestroy = function () {\r\n        this.mapLayers.removeDataSources(this.dataSources);\r\n        this.removeFromMap();\r\n    };\r\n    EntityOnMapComponent.propDecorators = {\r\n        'props': [{ type: Input },],\r\n    };\r\n    return EntityOnMapComponent;\r\n}());\r\nexport { EntityOnMapComponent };\r\n//# sourceMappingURL=entity-on-map.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { BillboardDrawerService } from '../../services/drawers/billboard-drawer/billboard-drawer.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nvar AcBillboardComponent = (function (_super) {\r\n    __extends(AcBillboardComponent, _super);\r\n    function AcBillboardComponent(billboardDrawer, mapLayers) {\r\n        return _super.call(this, billboardDrawer, mapLayers) || this;\r\n    }\r\n    AcBillboardComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-billboard',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcBillboardComponent.ctorParameters = function () { return [\r\n        { type: BillboardDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcBillboardComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcBillboardComponent };\r\n//# sourceMappingURL=ac-billboard.component.js.map","import { EventEmitter, Input, Output } from '@angular/core';\r\nvar BasicDesc = (function () {\r\n    function BasicDesc(_drawer, _layerService, _computationCache, _cesiumProperties) {\r\n        this._drawer = _drawer;\r\n        this._layerService = _layerService;\r\n        this._computationCache = _computationCache;\r\n        this._cesiumProperties = _cesiumProperties;\r\n        this.onDraw = new EventEmitter();\r\n        this.onRemove = new EventEmitter();\r\n        this._cesiumObjectsMap = new Map();\r\n    }\r\n    BasicDesc.prototype._propsEvaluator = function (context) {\r\n        return this._propsEvaluateFn(this._computationCache, context);\r\n    };\r\n    BasicDesc.prototype._getPropsAssigner = function () {\r\n        var _this = this;\r\n        return function (cesiumObject, desc) { return _this._propsAssignerFn(cesiumObject, desc); };\r\n    };\r\n    BasicDesc.prototype.getLayerService = function () {\r\n        return this._layerService;\r\n    };\r\n    BasicDesc.prototype.setLayerService = function (layerService) {\r\n        this._layerService.unregisterDescription(this);\r\n        this._layerService = layerService;\r\n        this._layerService.registerDescription(this);\r\n        this._propsEvaluateFn = this._cesiumProperties.createEvaluator(this.props, this._layerService.cache, true);\r\n        this._propsAssignerFn = this._cesiumProperties.createAssigner(this.props);\r\n    };\r\n    BasicDesc.prototype.ngOnInit = function () {\r\n        if (!this.props) {\r\n            console.error('ac-desc components error: [props] input is mandatory');\r\n        }\r\n        this._layerService.registerDescription(this);\r\n        this._propsEvaluateFn = this._cesiumProperties.createEvaluator(this.props, this._layerService.cache);\r\n        this._propsAssignerFn = this._cesiumProperties.createAssigner(this.props);\r\n    };\r\n    BasicDesc.prototype.getCesiumObjectsMap = function () {\r\n        return this._cesiumObjectsMap;\r\n    };\r\n    BasicDesc.prototype.draw = function (context, id, entity) {\r\n        var cesiumProps = this._propsEvaluator(context);\r\n        if (!this._cesiumObjectsMap.has(id)) {\r\n            var cesiumObject = this._drawer.add(cesiumProps);\r\n            this.onDraw.emit({\r\n                acEntity: entity,\r\n                cesiumEntity: cesiumObject,\r\n                entityId: id,\r\n            });\r\n            cesiumObject.acEntity = entity;\r\n            this._cesiumObjectsMap.set(id, cesiumObject);\r\n        }\r\n        else {\r\n            var cesiumObject = this._cesiumObjectsMap.get(id);\r\n            this.onDraw.emit({\r\n                acEntity: entity,\r\n                cesiumEntity: cesiumObject,\r\n                entityId: id,\r\n            });\r\n            cesiumObject.acEntity = entity;\r\n            this._drawer.setPropsAssigner(this._getPropsAssigner());\r\n            this._drawer.update(cesiumObject, cesiumProps);\r\n        }\r\n    };\r\n    BasicDesc.prototype.remove = function (id) {\r\n        var cesiumObject = this._cesiumObjectsMap.get(id);\r\n        if (cesiumObject) {\r\n            this.onRemove.emit({\r\n                acEntity: cesiumObject.acEntity,\r\n                cesiumEntity: cesiumObject,\r\n                entityId: id,\r\n            });\r\n            this._drawer.remove(cesiumObject);\r\n            this._cesiumObjectsMap.delete(id);\r\n        }\r\n    };\r\n    BasicDesc.prototype.removeAll = function () {\r\n        this._cesiumObjectsMap.clear();\r\n        this._drawer.removeAll();\r\n    };\r\n    BasicDesc.prototype.ngOnDestroy = function () {\r\n        this._layerService.unregisterDescription(this);\r\n        this.removeAll();\r\n    };\r\n    BasicDesc.propDecorators = {\r\n        'props': [{ type: Input },],\r\n        'onDraw': [{ type: Output },],\r\n        'onRemove': [{ type: Output },],\r\n    };\r\n    return BasicDesc;\r\n}());\r\nexport { BasicDesc };\r\n//# sourceMappingURL=basic-desc.service.js.map","import { Injectable } from '@angular/core';\r\nimport { JsonStringMapper } from 'json-string-mapper';\r\nvar JsonMapper = (function () {\r\n    function JsonMapper() {\r\n        this._mapper = new JsonStringMapper();\r\n    }\r\n    JsonMapper.prototype.map = function (expression) {\r\n        return this._mapper.map(expression);\r\n    };\r\n    JsonMapper.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    JsonMapper.ctorParameters = function () { return []; };\r\n    return JsonMapper;\r\n}());\r\nexport { JsonMapper };\r\n//# sourceMappingURL=json-mapper.service.js.map","var SmartAssigner = (function () {\r\n    function SmartAssigner() {\r\n    }\r\n    SmartAssigner.create = function (props, allowUndefined) {\r\n        if (props === void 0) { props = []; }\r\n        if (allowUndefined === void 0) { allowUndefined = true; }\r\n        var fnBody = \"\";\r\n        props.forEach(function (prop) {\r\n            if (!allowUndefined) {\r\n                fnBody += \"if (obj2['\" + prop + \"'] !== undefined) { obj1['\" + prop + \"'] = obj2['\" + prop + \"']; } \";\r\n            }\r\n            else {\r\n                fnBody += \"obj1['\" + prop + \"'] = obj2['\" + prop + \"']; \";\r\n            }\r\n        });\r\n        fnBody += \"return obj1\";\r\n        var assignFn = new Function('obj1', 'obj2', fnBody);\r\n        return function smartAssigner(obj1, obj2) {\r\n            return assignFn(obj1, obj2);\r\n        };\r\n    };\r\n    return SmartAssigner;\r\n}());\r\nexport { SmartAssigner };\r\n//# sourceMappingURL=smart-assigner.service.js.map","import { Injectable } from '@angular/core';\r\nimport { JsonMapper } from '../json-mapper/json-mapper.service';\r\nimport { Parse } from 'angular2parse';\r\nimport { SmartAssigner } from '../smart-assigner/smart-assigner.service';\r\nvar CesiumProperties = (function () {\r\n    function CesiumProperties(_parser, _jsonMapper) {\r\n        this._parser = _parser;\r\n        this._jsonMapper = _jsonMapper;\r\n        this._assignersCache = new Map();\r\n        this._evaluatorsCache = new Map();\r\n    }\r\n    CesiumProperties.prototype._compile = function (expression, withCache) {\r\n        var _this = this;\r\n        if (withCache === void 0) { withCache = true; }\r\n        var cesiumDesc = {};\r\n        var propsMap = new Map();\r\n        var resultMap = this._jsonMapper.map(expression);\r\n        resultMap.forEach(function (resultExpression, prop) { return propsMap.set(prop, {\r\n            expression: resultExpression,\r\n            get: _this._parser.eval(resultExpression)\r\n        }); });\r\n        propsMap.forEach(function (value, prop) {\r\n            if (withCache) {\r\n                cesiumDesc[prop || 'undefined'] = \"cache.get(`\" + value.expression + \"`, () => propsMap.get('\" + prop + \"').get(context))\";\r\n            }\r\n            else {\r\n                cesiumDesc[prop || 'undefined'] = \"propsMap.get('\" + prop + \"').get(context)\";\r\n            }\r\n        });\r\n        var fnBody = \"return \" + JSON.stringify(cesiumDesc).replace(/\"/g, '') + \";\";\r\n        var getFn = new Function('propsMap', 'cache', 'context', fnBody);\r\n        return function evaluateCesiumProps(cache, context) {\r\n            return getFn(propsMap, cache, context);\r\n        };\r\n    };\r\n    CesiumProperties.prototype._build = function (expression) {\r\n        var props = Array.from(this._jsonMapper.map(expression).keys());\r\n        var smartAssigner = SmartAssigner.create(props);\r\n        return function assignCesiumProps(oldVal, newVal) {\r\n            return smartAssigner(oldVal, newVal);\r\n        };\r\n    };\r\n    CesiumProperties.prototype.createEvaluator = function (expression, withCache, newEvaluator) {\r\n        if (withCache === void 0) { withCache = true; }\r\n        if (newEvaluator === void 0) { newEvaluator = false; }\r\n        if (!newEvaluator && this._evaluatorsCache.has(expression)) {\r\n            return this._evaluatorsCache.get(expression);\r\n        }\r\n        var evaluatorFn = this._compile(expression, withCache);\r\n        this._evaluatorsCache.set(expression, evaluatorFn);\r\n        return evaluatorFn;\r\n    };\r\n    CesiumProperties.prototype.createAssigner = function (expression) {\r\n        if (this._assignersCache.has(expression)) {\r\n            return this._assignersCache.get(expression);\r\n        }\r\n        var assignFn = this._build(expression);\r\n        this._assignersCache.set(expression, assignFn);\r\n        return assignFn;\r\n    };\r\n    CesiumProperties.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CesiumProperties.ctorParameters = function () { return [\r\n        { type: Parse, },\r\n        { type: JsonMapper, },\r\n    ]; };\r\n    return CesiumProperties;\r\n}());\r\nexport { CesiumProperties };\r\n//# sourceMappingURL=cesium-properties.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { BillboardDrawerService } from '../../services/drawers/billboard-drawer/billboard-drawer.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nvar AcBillboardDescComponent = (function (_super) {\r\n    __extends(AcBillboardDescComponent, _super);\r\n    function AcBillboardDescComponent(billboardDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, billboardDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcBillboardDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-billboard-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcBillboardDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcBillboardDescComponent.ctorParameters = function () { return [\r\n        { type: BillboardDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcBillboardDescComponent;\r\n}(BasicDesc));\r\nexport { AcBillboardDescComponent };\r\n//# sourceMappingURL=ac-billborad-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { EllipseDrawerService } from '../../services/drawers/ellipse-drawer/ellipse-drawer.service';\r\nvar AcEllipseDescComponent = (function (_super) {\r\n    __extends(AcEllipseDescComponent, _super);\r\n    function AcEllipseDescComponent(ellipseDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, ellipseDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcEllipseDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-ellipse-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcEllipseDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcEllipseDescComponent.ctorParameters = function () { return [\r\n        { type: EllipseDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcEllipseDescComponent;\r\n}(BasicDesc));\r\nexport { AcEllipseDescComponent };\r\n//# sourceMappingURL=ac-ellipse-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { PolylineDrawerService } from '../../services/drawers/polyline-drawer/polyline-drawer.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nvar AcPolylineDescComponent = (function (_super) {\r\n    __extends(AcPolylineDescComponent, _super);\r\n    function AcPolylineDescComponent(dynamicPolylineDrawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, dynamicPolylineDrawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcPolylineDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-polyline-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcPolylineDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcPolylineDescComponent.ctorParameters = function () { return [\r\n        { type: PolylineDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcPolylineDescComponent;\r\n}(BasicDesc));\r\nexport { AcPolylineDescComponent };\r\n//# sourceMappingURL=ac-polyline-desc.component.js.map","import { Pipe } from '@angular/core';\r\nvar PixelOffsetPipe = (function () {\r\n    function PixelOffsetPipe() {\r\n    }\r\n    PixelOffsetPipe.prototype.transform = function (value, args) {\r\n        return new Cesium.Cartesian2(value[0], value[1]);\r\n    };\r\n    PixelOffsetPipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'pixelOffset'\r\n                },] },\r\n    ];\r\n    PixelOffsetPipe.ctorParameters = function () { return []; };\r\n    return PixelOffsetPipe;\r\n}());\r\nexport { PixelOffsetPipe };\r\n//# sourceMappingURL=pixel-offset.pipe.js.map","import { Pipe } from '@angular/core';\r\nvar RadiansToDegreesPipe = (function () {\r\n    function RadiansToDegreesPipe() {\r\n    }\r\n    RadiansToDegreesPipe.prototype.transform = function (value, args) {\r\n        return (360 - Math.round(180 * value / Math.PI)) % 360;\r\n    };\r\n    RadiansToDegreesPipe.decorators = [\r\n        { type: Pipe, args: [{\r\n                    name: 'radiansToDegrees'\r\n                },] },\r\n    ];\r\n    RadiansToDegreesPipe.ctorParameters = function () { return []; };\r\n    return RadiansToDegreesPipe;\r\n}());\r\nexport { RadiansToDegreesPipe };\r\n//# sourceMappingURL=radians-to-degrees.pipe.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { LabelDrawerService } from '../../services/drawers/label-drawer/label-drawer.service';\r\nvar AcLabelDescComponent = (function (_super) {\r\n    __extends(AcLabelDescComponent, _super);\r\n    function AcLabelDescComponent(labelDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, labelDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcLabelDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-label-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcLabelDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcLabelDescComponent.ctorParameters = function () { return [\r\n        { type: LabelDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcLabelDescComponent;\r\n}(BasicDesc));\r\nexport { AcLabelDescComponent };\r\n//# sourceMappingURL=ac-label-desc.component.js.map","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nvar UtilsModule = (function () {\r\n    function UtilsModule() {\r\n    }\r\n    UtilsModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [CommonModule],\r\n                    providers: []\r\n                },] },\r\n    ];\r\n    UtilsModule.ctorParameters = function () { return []; };\r\n    return UtilsModule;\r\n}());\r\nexport { UtilsModule };\r\n//# sourceMappingURL=utils.module.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { EllipseDrawerService } from '../../services/drawers/ellipse-drawer/ellipse-drawer.service';\r\nvar AcCircleDescComponent = (function (_super) {\r\n    __extends(AcCircleDescComponent, _super);\r\n    function AcCircleDescComponent(ellipseDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, ellipseDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcCircleDescComponent.prototype._propsEvaluator = function (context) {\r\n        var cesiumProps = _super.prototype._propsEvaluator.call(this, context);\r\n        cesiumProps.semiMajorAxis = cesiumProps.radius;\r\n        cesiumProps.semiMinorAxis = cesiumProps.radius;\r\n        return cesiumProps;\r\n    };\r\n    AcCircleDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-circle-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcCircleDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcCircleDescComponent.ctorParameters = function () { return [\r\n        { type: EllipseDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcCircleDescComponent;\r\n}(BasicDesc));\r\nexport { AcCircleDescComponent };\r\n//# sourceMappingURL=ac-circle-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { ArcDrawerService } from '../../services/drawers/arc-drawer/arc-drawer.service';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nvar AcArcDescComponent = (function (_super) {\r\n    __extends(AcArcDescComponent, _super);\r\n    function AcArcDescComponent(arcDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, arcDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcArcDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-arc-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcArcDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcArcDescComponent.ctorParameters = function () { return [\r\n        { type: ArcDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcArcDescComponent;\r\n}(BasicDesc));\r\nexport { AcArcDescComponent };\r\n//# sourceMappingURL=ac-arc-desc.component.js.map","var AcEntity = (function () {\r\n    function AcEntity(json) {\r\n        Object.assign(this, json);\r\n    }\r\n    AcEntity.create = function (json) {\r\n        if (json) {\r\n            return Object.assign(new AcEntity(), json);\r\n        }\r\n        return new AcEntity();\r\n    };\r\n    return AcEntity;\r\n}());\r\nexport { AcEntity };\r\n//# sourceMappingURL=ac-entity.js.map","var AcNotification = (function () {\r\n    function AcNotification() {\r\n    }\r\n    return AcNotification;\r\n}());\r\nexport { AcNotification };\r\n//# sourceMappingURL=ac-notification.js.map","export var MapLayerProviderOptions;\r\n(function (MapLayerProviderOptions) {\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"ArcGisMapServer\"] = Cesium.ArcGisMapServerImageryProvider] = \"ArcGisMapServer\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"WebMapTileService\"] = Cesium.WebMapTileServiceImageryProvider] = \"WebMapTileService\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"MapTileService\"] = Cesium.createTileMapServiceImageryProvider] = \"MapTileService\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"WebMapService\"] = Cesium.WebMapServiceImageryProvider] = \"WebMapService\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"SingleTileImagery\"] = Cesium.SingleTileImageryProvider] = \"SingleTileImagery\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"OpenStreetMap\"] = Cesium.createOpenStreetMapImageryProvider] = \"OpenStreetMap\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"BingMaps\"] = Cesium.BingMapsImageryProvider] = \"BingMaps\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"GoogleEarthEnterpriseMaps\"] = Cesium.GoogleEarthEnterpriseMapsProvider] = \"GoogleEarthEnterpriseMaps\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"MapBox\"] = Cesium.MapboxImageryProvider] = \"MapBox\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"UrlTemplateImagery\"] = Cesium.UrlTemplateImageryProvider] = \"UrlTemplateImagery\";\r\n    MapLayerProviderOptions[MapLayerProviderOptions[\"OFFLINE\"] = null] = \"OFFLINE\";\r\n})(MapLayerProviderOptions || (MapLayerProviderOptions = {}));\r\n//# sourceMappingURL=map-layer-provider-options.enum.js.map","import { Component, Input } from '@angular/core';\r\nimport { CesiumService } from '../../services/cesium/cesium.service';\r\nimport { Checker } from '../../utils/checker';\r\nimport { MapLayerProviderOptions } from '../../models';\r\nvar AcMapLayerProviderComponent = (function () {\r\n    function AcMapLayerProviderComponent(cesiumService) {\r\n        this.cesiumService = cesiumService;\r\n        this.options = {};\r\n        this.provider = MapLayerProviderOptions.OFFLINE;\r\n        this.show = true;\r\n        this.alpha = 1.0;\r\n        this.brightness = 1.0;\r\n        this.contrast = 1.0;\r\n        this.imageryLayersCollection = this.cesiumService.getScene().imageryLayers;\r\n    }\r\n    AcMapLayerProviderComponent.prototype.createOfflineMapProvider = function () {\r\n        return Cesium.createTileMapServiceImageryProvider({\r\n            url: Cesium.buildModuleUrl('Assets/Textures/NaturalEarthII')\r\n        });\r\n    };\r\n    AcMapLayerProviderComponent.prototype.ngOnInit = function () {\r\n        if (!Checker.present(this.options.url) && this.provider !== MapLayerProviderOptions.OFFLINE) {\r\n            throw new Error('options must have a url');\r\n        }\r\n        switch (this.provider) {\r\n            case MapLayerProviderOptions.WebMapService:\r\n            case MapLayerProviderOptions.WebMapTileService:\r\n            case MapLayerProviderOptions.ArcGisMapServer:\r\n            case MapLayerProviderOptions.SingleTileImagery:\r\n            case MapLayerProviderOptions.BingMaps:\r\n            case MapLayerProviderOptions.GoogleEarthEnterpriseMaps:\r\n            case MapLayerProviderOptions.MapBox:\r\n            case MapLayerProviderOptions.UrlTemplateImagery:\r\n                this.layerProvider = new this.provider(this.options);\r\n                break;\r\n            case MapLayerProviderOptions.MapTileService:\r\n            case MapLayerProviderOptions.OpenStreetMap:\r\n                this.layerProvider = this.provider(this.options);\r\n                break;\r\n            case MapLayerProviderOptions.OFFLINE:\r\n                this.layerProvider = this.createOfflineMapProvider();\r\n                break;\r\n            default:\r\n                console.log('ac-map-layer-provider: [provider] wasn\\'t found. setting OFFLINE provider as default');\r\n                this.layerProvider = this.createOfflineMapProvider();\r\n                break;\r\n        }\r\n        if (this.show) {\r\n            this.imageryLayer = this.imageryLayersCollection.addImageryProvider(this.layerProvider, this.index);\r\n            this.imageryLayer.alpha = this.alpha;\r\n            this.imageryLayer.contrast = this.contrast;\r\n            this.imageryLayer.brightness = this.brightness;\r\n        }\r\n    };\r\n    AcMapLayerProviderComponent.prototype.ngOnChanges = function (changes) {\r\n        if (changes['show'] && !changes['show'].isFirstChange()) {\r\n            var showValue = changes['show'].currentValue;\r\n            if (showValue) {\r\n                if (this.imageryLayer) {\r\n                    this.imageryLayersCollection.add(this.imageryLayer, this.index);\r\n                }\r\n                else {\r\n                    this.imageryLayer = this.imageryLayersCollection.addImageryProvider(this.layerProvider, this.index);\r\n                    this.imageryLayer.alpha = this.alpha;\r\n                    this.imageryLayer.contrast = this.contrast;\r\n                    this.imageryLayer.brightness = this.brightness;\r\n                }\r\n            }\r\n            else if (this.imageryLayer) {\r\n                this.imageryLayersCollection.remove(this.imageryLayer, false);\r\n            }\r\n        }\r\n        if (changes['alpha'] && !changes['alpha'].isFirstChange() && this.imageryLayer) {\r\n            this.imageryLayer.alpha = this.alpha;\r\n        }\r\n        if (changes['contrast'] && !changes['contrast'].isFirstChange() && this.imageryLayer) {\r\n            this.imageryLayer.contrast = this.contrast;\r\n        }\r\n        if (changes['brightness'] && !changes['brightness'].isFirstChange() && this.imageryLayer) {\r\n            this.imageryLayer.brightness = this.brightness;\r\n        }\r\n    };\r\n    AcMapLayerProviderComponent.prototype.ngOnDestroy = function () {\r\n        if (this.imageryLayer) {\r\n            this.imageryLayersCollection.remove(this.imageryLayer, true);\r\n        }\r\n    };\r\n    AcMapLayerProviderComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-map-layer-provider',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcMapLayerProviderComponent.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    AcMapLayerProviderComponent.propDecorators = {\r\n        'options': [{ type: Input },],\r\n        'provider': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'show': [{ type: Input },],\r\n        'alpha': [{ type: Input },],\r\n        'brightness': [{ type: Input },],\r\n        'contrast': [{ type: Input },],\r\n    };\r\n    return AcMapLayerProviderComponent;\r\n}());\r\nexport { AcMapLayerProviderComponent };\r\n//# sourceMappingURL=ac-map-layer-provider.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { PointDrawerService } from '../../services/drawers/point-drawer/point-drawer.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nvar AcPointDescComponent = (function (_super) {\r\n    __extends(AcPointDescComponent, _super);\r\n    function AcPointDescComponent(pointDrawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, pointDrawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcPointDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-point-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcPointDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcPointDescComponent.ctorParameters = function () { return [\r\n        { type: PointDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcPointDescComponent;\r\n}(BasicDesc));\r\nexport { AcPointDescComponent };\r\n//# sourceMappingURL=ac-point-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { LabelDrawerService } from '../../services/drawers/label-drawer/label-drawer.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nvar AcLabelComponent = (function (_super) {\r\n    __extends(AcLabelComponent, _super);\r\n    function AcLabelComponent(labelDrawer, mapLayers) {\r\n        return _super.call(this, labelDrawer, mapLayers) || this;\r\n    }\r\n    AcLabelComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-label',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcLabelComponent.ctorParameters = function () { return [\r\n        { type: LabelDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcLabelComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcLabelComponent };\r\n//# sourceMappingURL=ac-label.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nimport { PolylineDrawerService } from '../../services/drawers/polyline-drawer/polyline-drawer.service';\r\nvar AcPolylineComponent = (function (_super) {\r\n    __extends(AcPolylineComponent, _super);\r\n    function AcPolylineComponent(polylineDrawer, mapLayers) {\r\n        return _super.call(this, polylineDrawer, mapLayers) || this;\r\n    }\r\n    AcPolylineComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-polyline',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcPolylineComponent.ctorParameters = function () { return [\r\n        { type: PolylineDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcPolylineComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcPolylineComponent };\r\n//# sourceMappingURL=ac-polyline.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { EllipseDrawerService } from '../../services/drawers/ellipse-drawer/ellipse-drawer.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nvar AcEllipseComponent = (function (_super) {\r\n    __extends(AcEllipseComponent, _super);\r\n    function AcEllipseComponent(ellipseDrawer, mapLayers) {\r\n        return _super.call(this, ellipseDrawer, mapLayers) || this;\r\n    }\r\n    AcEllipseComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-ellipse',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcEllipseComponent.ctorParameters = function () { return [\r\n        { type: EllipseDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcEllipseComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcEllipseComponent };\r\n//# sourceMappingURL=ac-ellipse.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { PointDrawerService } from '../../services/drawers/point-drawer/point-drawer.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nvar AcPointComponent = (function (_super) {\r\n    __extends(AcPointComponent, _super);\r\n    function AcPointComponent(pointDrawer, mapLayers) {\r\n        return _super.call(this, pointDrawer, mapLayers) || this;\r\n    }\r\n    AcPointComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-point',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcPointComponent.ctorParameters = function () { return [\r\n        { type: PointDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcPointComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcPointComponent };\r\n//# sourceMappingURL=ac-point.component.js.map","import { Component, ElementRef, Input, Renderer2 } from '@angular/core';\r\nimport { CesiumService } from '../../services/cesium/cesium.service';\r\nvar AcHtmlComponent = (function () {\r\n    function AcHtmlComponent(cesiumService, elementRef, renderer) {\r\n        this.cesiumService = cesiumService;\r\n        this.elementRef = elementRef;\r\n        this.renderer = renderer;\r\n        this.isDraw = false;\r\n    }\r\n    AcHtmlComponent.prototype.setScreenPosition = function (screenPosition) {\r\n        if (screenPosition) {\r\n            this.renderer.setStyle(this.elementRef.nativeElement, 'top', screenPosition.y + \"px\");\r\n            this.renderer.setStyle(this.elementRef.nativeElement, 'left', screenPosition.x + \"px\");\r\n        }\r\n    };\r\n    AcHtmlComponent.prototype.remove = function () {\r\n        if (this.isDraw) {\r\n            this.isDraw = false;\r\n            this.cesiumService.getScene().preRender.removeEventListener(this.preRenderEventListener);\r\n            this.renderer.setStyle(this.elementRef.nativeElement, 'display', \"none\");\r\n        }\r\n    };\r\n    AcHtmlComponent.prototype.add = function () {\r\n        var _this = this;\r\n        if (!this.isDraw) {\r\n            this.isDraw = true;\r\n            this.preRenderEventListener = function () {\r\n                var screenPosition = Cesium.SceneTransforms.wgs84ToWindowCoordinates(_this.cesiumService.getScene(), _this.props.position);\r\n                _this.setScreenPosition(screenPosition);\r\n            };\r\n            this.renderer.setStyle(this.elementRef.nativeElement, 'display', \"block\");\r\n            this.cesiumService.getScene().preRender.addEventListener(this.preRenderEventListener);\r\n        }\r\n    };\r\n    AcHtmlComponent.prototype.ngDoCheck = function () {\r\n        if (this.props.show === undefined || this.props.show) {\r\n            this.add();\r\n        }\r\n        else {\r\n            this.remove();\r\n        }\r\n    };\r\n    AcHtmlComponent.prototype.ngOnDestroy = function () {\r\n        this.remove();\r\n    };\r\n    AcHtmlComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-html',\r\n                    template: \"<ng-content></ng-content>\",\r\n                    styles: [\":host {\\n                position: absolute;\\n                z-index: 100;\\n\\t\\t\\t\\t}\"]\r\n                },] },\r\n    ];\r\n    AcHtmlComponent.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n        { type: ElementRef, },\r\n        { type: Renderer2, },\r\n    ]; };\r\n    AcHtmlComponent.propDecorators = {\r\n        'props': [{ type: Input },],\r\n    };\r\n    return AcHtmlComponent;\r\n}());\r\nexport { AcHtmlComponent };\r\n//# sourceMappingURL=ac-html.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { EllipseDrawerService } from '../../services/drawers/ellipse-drawer/ellipse-drawer.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nvar AcCircleComponent = (function (_super) {\r\n    __extends(AcCircleComponent, _super);\r\n    function AcCircleComponent(ellipseDrawerService, mapLayers) {\r\n        return _super.call(this, ellipseDrawerService, mapLayers) || this;\r\n    }\r\n    AcCircleComponent.prototype.updateEllipseProps = function () {\r\n        this.props.semiMajorAxis = this.props.radius;\r\n        this.props.semiMinorAxis = this.props.radius;\r\n        this.props.rotation = 0.0;\r\n    };\r\n    AcCircleComponent.prototype.drawOnMap = function () {\r\n        this.updateEllipseProps();\r\n        _super.prototype.drawOnMap.call(this);\r\n    };\r\n    AcCircleComponent.prototype.updateOnMap = function () {\r\n        this.updateEllipseProps();\r\n        _super.prototype.updateOnMap.call(this);\r\n    };\r\n    AcCircleComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-circle',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcCircleComponent.ctorParameters = function () { return [\r\n        { type: EllipseDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcCircleComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcCircleComponent };\r\n//# sourceMappingURL=ac-circle.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, Input } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { ArcDrawerService } from '../../services/drawers/arc-drawer/arc-drawer.service';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nvar AcArcComponent = (function (_super) {\r\n    __extends(AcArcComponent, _super);\r\n    function AcArcComponent(arcDrawer, mapLayers) {\r\n        return _super.call(this, arcDrawer, mapLayers) || this;\r\n    }\r\n    AcArcComponent.prototype.updateOnMap = function () {\r\n        if (this.selfPrimitiveIsDraw) {\r\n            this.removeFromMap();\r\n            this.drawOnMap();\r\n        }\r\n    };\r\n    AcArcComponent.prototype.drawOnMap = function () {\r\n        this.selfPrimitiveIsDraw = true;\r\n        return this.selfPrimitive = this._drawer.add(this.geometryProps, this.instanceProps, this.primitiveProps);\r\n    };\r\n    AcArcComponent.prototype.ngOnChanges = function (changes) {\r\n        var geometryProps = changes['geometryProps'];\r\n        var instanceProps = changes['instanceProps'];\r\n        var primitiveProps = changes['primitiveProps'];\r\n        if (geometryProps.currentValue !== geometryProps.previousValue ||\r\n            instanceProps.currentValue !== instanceProps.previousValue ||\r\n            primitiveProps.currentValue !== primitiveProps.previousValue) {\r\n            this.updateOnMap();\r\n        }\r\n    };\r\n    AcArcComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-arc',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcArcComponent.ctorParameters = function () { return [\r\n        { type: ArcDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    AcArcComponent.propDecorators = {\r\n        'geometryProps': [{ type: Input },],\r\n        'instanceProps': [{ type: Input },],\r\n        'primitiveProps': [{ type: Input },],\r\n    };\r\n    return AcArcComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcArcComponent };\r\n//# sourceMappingURL=ac-arc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { PolygonDrawerService } from '../../services/drawers/polygon-drawer/polygon-drawer.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nvar AcPolygonDescComponent = (function (_super) {\r\n    __extends(AcPolygonDescComponent, _super);\r\n    function AcPolygonDescComponent(polygonDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, polygonDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcPolygonDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-polygon-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcPolygonDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcPolygonDescComponent.ctorParameters = function () { return [\r\n        { type: PolygonDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcPolygonDescComponent;\r\n}(BasicDesc));\r\nexport { AcPolygonDescComponent };\r\n//# sourceMappingURL=ac-polygon-desc.component.js.map","import { ChangeDetectionStrategy, ChangeDetectorRef, Component } from '@angular/core';\r\nimport { PlonterService } from '../../services/plonter/plonter.service';\r\nimport { CoordinateConverter } from '../../services/coordinate-converter/coordinate-converter.service';\r\nvar AcDefaultPlonterComponent = (function () {\r\n    function AcDefaultPlonterComponent(plonterService, cd, geoConverter) {\r\n        this.plonterService = plonterService;\r\n        this.cd = cd;\r\n        this.geoConverter = geoConverter;\r\n    }\r\n    AcDefaultPlonterComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.plonterService.plonterChangeNotifier.subscribe(function () { return _this.cd.detectChanges(); });\r\n    };\r\n    Object.defineProperty(AcDefaultPlonterComponent.prototype, \"plonterPosition\", {\r\n        get: function () {\r\n            if (this.plonterService.plonterShown) {\r\n                var screenPos = this.plonterService.plonterClickPosition.endPosition;\r\n                return this.geoConverter.screenToCartesian3(screenPos, true);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AcDefaultPlonterComponent.prototype.chooseEntity = function (entity) {\r\n        this.plonterService.resolvePlonter(entity);\r\n    };\r\n    AcDefaultPlonterComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-default-plonter',\r\n                    template: \"\\n        <ac-html *ngIf=\\\"plonterService.plonterShown\\\" [props]=\\\"{\\n        position: plonterPosition\\n      }\\\">\\n            <div class=\\\"plonter-context-menu\\\">\\n                <div *ngFor=\\\"let entity of plonterService.entitesToPlonter\\\">\\n                    <div class=\\\"plonter-item\\\" (click)=\\\"chooseEntity(entity)\\\">{{ entity?.name || entity?.id }}\\n                    </div>\\n                </div>\\n            </div>\\n        </ac-html>\\n    \",\r\n                    styles: [\"\\n        .plonter-context-menu {\\n            background-color: rgba(250, 250, 250, 0.8);\\n            box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.15);\\n        }\\n\\n        .plonter-item {\\n            cursor: pointer;\\n            padding: 2px 15px;\\n            text-align: start;\\n        }\\n\\n        .plonter-item:hover {\\n            background-color: rgba(0, 0, 0, 0.15);\\n        }\\n    \\n    \"],\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    providers: [CoordinateConverter],\r\n                },] },\r\n    ];\r\n    AcDefaultPlonterComponent.ctorParameters = function () { return [\r\n        { type: PlonterService, },\r\n        { type: ChangeDetectorRef, },\r\n        { type: CoordinateConverter, },\r\n    ]; };\r\n    return AcDefaultPlonterComponent;\r\n}());\r\nexport { AcDefaultPlonterComponent };\r\n//# sourceMappingURL=ac-default-plonter.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { PolygonDrawerService } from '../../services/drawers/polygon-drawer/polygon-drawer.service';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nvar AcPolygonComponent = (function (_super) {\r\n    __extends(AcPolygonComponent, _super);\r\n    function AcPolygonComponent(polygonDrawer, mapLayers) {\r\n        return _super.call(this, polygonDrawer, mapLayers) || this;\r\n    }\r\n    AcPolygonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-polygon',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcPolygonComponent.ctorParameters = function () { return [\r\n        { type: PolygonDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcPolygonComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcPolygonComponent };\r\n//# sourceMappingURL=ac-polygon.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Input } from '@angular/core';\r\nimport { BasicDesc } from '../basic-desc/basic-desc.service';\r\nvar BasicStaticPrimitiveDesc = (function (_super) {\r\n    __extends(BasicStaticPrimitiveDesc, _super);\r\n    function BasicStaticPrimitiveDesc(_staticPrimitiveDrawer, layerService, computationCache, cesiumProperties) {\r\n        var _this = _super.call(this, _staticPrimitiveDrawer, layerService, computationCache, cesiumProperties) || this;\r\n        _this._staticPrimitiveDrawer = _staticPrimitiveDrawer;\r\n        return _this;\r\n    }\r\n    BasicStaticPrimitiveDesc.prototype.ngOnInit = function () {\r\n        this._layerService.registerDescription(this);\r\n        this._geometryPropsEvaluator = this._cesiumProperties.createEvaluator(this.geometryProps);\r\n        this._instancePropsEvaluator = this._cesiumProperties.createEvaluator(this.instanceProps);\r\n        this._primitivePropsEvaluator = this._cesiumProperties.createEvaluator(this.primitiveProps);\r\n    };\r\n    BasicStaticPrimitiveDesc.prototype.draw = function (context, id, entity) {\r\n        var geometryProps = this._geometryPropsEvaluator(this._computationCache, context);\r\n        var instanceProps = this._instancePropsEvaluator(this._computationCache, context);\r\n        var primitiveProps = this._primitivePropsEvaluator(this._computationCache, context);\r\n        if (!this._cesiumObjectsMap.has(id)) {\r\n            var primitive = this._staticPrimitiveDrawer.add(geometryProps, instanceProps, primitiveProps);\r\n            primitive.acEntity = entity;\r\n            this._cesiumObjectsMap.set(id, primitive);\r\n        }\r\n        else {\r\n            var primitive = this._cesiumObjectsMap.get(id);\r\n            this._staticPrimitiveDrawer.update(primitive, geometryProps, instanceProps, primitiveProps);\r\n        }\r\n    };\r\n    BasicStaticPrimitiveDesc.propDecorators = {\r\n        'geometryProps': [{ type: Input },],\r\n        'instanceProps': [{ type: Input },],\r\n        'primitiveProps': [{ type: Input },],\r\n    };\r\n    return BasicStaticPrimitiveDesc;\r\n}(BasicDesc));\r\nexport { BasicStaticPrimitiveDesc };\r\n//# sourceMappingURL=basic-static-primitive-desc.service.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { LayerService } from '../../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../../services/cesium-properties/cesium-properties.service';\r\nimport { BasicStaticPrimitiveDesc } from '../../../services/basic-primitive-desc/basic-static-primitive-desc.service';\r\nimport { StaticEllipseDrawerService } from '../../../services/drawers/static-dynamic/ellipse-drawer/ellipse-drawer.service';\r\nvar AcStaticEllipseDescComponent = (function (_super) {\r\n    __extends(AcStaticEllipseDescComponent, _super);\r\n    function AcStaticEllipseDescComponent(ellipseDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, ellipseDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcStaticEllipseDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-static-ellipse-desc',\r\n                    template: ''\r\n                },] },\r\n    ];\r\n    AcStaticEllipseDescComponent.ctorParameters = function () { return [\r\n        { type: StaticEllipseDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcStaticEllipseDescComponent;\r\n}(BasicStaticPrimitiveDesc));\r\nexport { AcStaticEllipseDescComponent };\r\n//# sourceMappingURL=ac-static-ellipse-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { CesiumProperties } from '../../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../../services/computation-cache/computation-cache.service';\r\nimport { LayerService } from '../../../services/layer-service/layer-service.service';\r\nimport { BasicDesc } from '../../../services/basic-desc/basic-desc.service';\r\nimport { DynamicEllipseDrawerService } from '../../../services/drawers/static-dynamic/ellipse-drawer/dynamic-ellipse-drawer.service';\r\nvar AcDynamicEllipseDescComponent = (function (_super) {\r\n    __extends(AcDynamicEllipseDescComponent, _super);\r\n    function AcDynamicEllipseDescComponent(ellipseDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, ellipseDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcDynamicEllipseDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-dynamic-ellipse-desc',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcDynamicEllipseDescComponent.ctorParameters = function () { return [\r\n        { type: DynamicEllipseDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcDynamicEllipseDescComponent;\r\n}(BasicDesc));\r\nexport { AcDynamicEllipseDescComponent };\r\n//# sourceMappingURL=ac-dynamic-ellipse-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { BasicDesc } from '../../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../../services/cesium-properties/cesium-properties.service';\r\nimport { DynamicPolylineDrawerService } from '../../../services/drawers/static-dynamic/dynamic-polyline-drawer/dynamic-polyline-drawer.service';\r\nvar AcDynamicPolylineDescComponent = (function (_super) {\r\n    __extends(AcDynamicPolylineDescComponent, _super);\r\n    function AcDynamicPolylineDescComponent(dynamicPolylineDrawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, dynamicPolylineDrawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcDynamicPolylineDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-dynamic-polyline-desc',\r\n                    template: ''\r\n                },] },\r\n    ];\r\n    AcDynamicPolylineDescComponent.ctorParameters = function () { return [\r\n        { type: DynamicPolylineDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcDynamicPolylineDescComponent;\r\n}(BasicDesc));\r\nexport { AcDynamicPolylineDescComponent };\r\n//# sourceMappingURL=ac-dynamic-polyline-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { LayerService } from '../../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../../services/cesium-properties/cesium-properties.service';\r\nimport { BasicStaticPrimitiveDesc } from '../../../services/basic-primitive-desc/basic-static-primitive-desc.service';\r\nimport { StaticPolygonDrawerService } from '../../../services/drawers/static-dynamic/static-polygon-drawer/polygon-drawer.service';\r\nvar AcStaticPolygonDescComponent = (function (_super) {\r\n    __extends(AcStaticPolygonDescComponent, _super);\r\n    function AcStaticPolygonDescComponent(polygonDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, polygonDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcStaticPolygonDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-static-polygon-desc',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcStaticPolygonDescComponent.ctorParameters = function () { return [\r\n        { type: StaticPolygonDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcStaticPolygonDescComponent;\r\n}(BasicStaticPrimitiveDesc));\r\nexport { AcStaticPolygonDescComponent };\r\n//# sourceMappingURL=ac-static-polygon-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { LayerService } from '../../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../../services/cesium-properties/cesium-properties.service';\r\nimport { BasicStaticPrimitiveDesc } from '../../../services/basic-primitive-desc/basic-static-primitive-desc.service';\r\nimport { StaticCircleDrawerService } from '../../../services/drawers/static-dynamic/static-circle-drawer/static-circle-drawer.service';\r\nvar AcStaticCircleDescComponent = (function (_super) {\r\n    __extends(AcStaticCircleDescComponent, _super);\r\n    function AcStaticCircleDescComponent(staticCircleDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, staticCircleDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcStaticCircleDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-static-circle',\r\n                    template: ''\r\n                },] },\r\n    ];\r\n    AcStaticCircleDescComponent.ctorParameters = function () { return [\r\n        { type: StaticCircleDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcStaticCircleDescComponent;\r\n}(BasicStaticPrimitiveDesc));\r\nexport { AcStaticCircleDescComponent };\r\n//# sourceMappingURL=ac-static-circle-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { CesiumProperties } from '../../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../../services/computation-cache/computation-cache.service';\r\nimport { LayerService } from '../../../services/layer-service/layer-service.service';\r\nimport { BasicDesc } from '../../../services/basic-desc/basic-desc.service';\r\nimport { DynamicEllipseDrawerService } from '../../../services/drawers/static-dynamic/ellipse-drawer/dynamic-ellipse-drawer.service';\r\nvar AcDynamicCircleDescComponent = (function (_super) {\r\n    __extends(AcDynamicCircleDescComponent, _super);\r\n    function AcDynamicCircleDescComponent(ellipseDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, ellipseDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcDynamicCircleDescComponent.prototype._propsEvaluator = function (context) {\r\n        var cesiumProps = _super.prototype._propsEvaluator.call(this, context);\r\n        cesiumProps.semiMajorAxis = cesiumProps.radius;\r\n        cesiumProps.semiMinorAxis = cesiumProps.radius;\r\n        return cesiumProps;\r\n    };\r\n    AcDynamicCircleDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-dynamic-circle-desc',\r\n                    template: ''\r\n                },] },\r\n    ];\r\n    AcDynamicCircleDescComponent.ctorParameters = function () { return [\r\n        { type: DynamicEllipseDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcDynamicCircleDescComponent;\r\n}(BasicDesc));\r\nexport { AcDynamicCircleDescComponent };\r\n//# sourceMappingURL=ac-dynamic-circle-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { StaticPolylineDrawerService } from '../../../services/drawers/static-dynamic/static-polyline-drawer/static-polyline-drawer.service';\r\nimport { LayerService } from '../../../services/layer-service/layer-service.service';\r\nimport { CesiumProperties } from '../../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../../services/computation-cache/computation-cache.service';\r\nimport { BasicStaticPrimitiveDesc } from '../../../services/basic-primitive-desc/basic-static-primitive-desc.service';\r\nvar AcStaticPolylineDescComponent = (function (_super) {\r\n    __extends(AcStaticPolylineDescComponent, _super);\r\n    function AcStaticPolylineDescComponent(polylineDrawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, polylineDrawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcStaticPolylineDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-static-polyline-desc',\r\n                    template: ''\r\n                },] },\r\n    ];\r\n    AcStaticPolylineDescComponent.ctorParameters = function () { return [\r\n        { type: StaticPolylineDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcStaticPolylineDescComponent;\r\n}(BasicStaticPrimitiveDesc));\r\nexport { AcStaticPolylineDescComponent };\r\n//# sourceMappingURL=ac-static-polyline-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { ModelDrawerService } from '../../services/drawers/model-drawer/model-drawer.service';\r\nvar AcModelDescComponent = (function (_super) {\r\n    __extends(AcModelDescComponent, _super);\r\n    function AcModelDescComponent(modelDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, modelDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcModelDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-model-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcModelDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcModelDescComponent.ctorParameters = function () { return [\r\n        { type: ModelDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcModelDescComponent;\r\n}(BasicDesc));\r\nexport { AcModelDescComponent };\r\n//# sourceMappingURL=ac-model-desc.component.js.map","import { Component, Input } from '@angular/core';\r\nimport { CesiumService } from '../../services/cesium/cesium.service';\r\nimport { Checker } from '../../utils/checker';\r\nvar AcTileset3dComponent = (function () {\r\n    function AcTileset3dComponent(cesiumService) {\r\n        this.cesiumService = cesiumService;\r\n        this.options = {};\r\n        this.show = true;\r\n        this.tilesetInstance = null;\r\n    }\r\n    AcTileset3dComponent.prototype.ngOnInit = function () {\r\n        if (!Checker.present(this.options.url)) {\r\n            throw new Error('Options must have a url');\r\n        }\r\n        this._3dtilesCollection = new Cesium.PrimitiveCollection();\r\n        this.cesiumService.getScene().primitives.add(this._3dtilesCollection);\r\n        if (this.show) {\r\n            this.tilesetInstance = this._3dtilesCollection.add(new Cesium.Cesium3DTileset(this.options), this.index);\r\n            if (this.style) {\r\n                this.tilesetInstance.style = new Cesium.Cesium3DTileStyle(this.style);\r\n            }\r\n        }\r\n    };\r\n    AcTileset3dComponent.prototype.ngOnChanges = function (changes) {\r\n        if (changes['show'] && !changes['show'].isFirstChange()) {\r\n            var showValue = changes['show'].currentValue;\r\n            if (showValue) {\r\n                if (this.tilesetInstance) {\r\n                    this._3dtilesCollection.add(this.tilesetInstance, this.index);\r\n                }\r\n                else {\r\n                    this.tilesetInstance = this._3dtilesCollection.add(new Cesium.Cesium3DTileset(this.options), this.index);\r\n                    if (this.style) {\r\n                        this.tilesetInstance.style = new Cesium.Cesium3DTileStyle(this.style);\r\n                    }\r\n                }\r\n            }\r\n            else if (this.tilesetInstance) {\r\n                this._3dtilesCollection.remove(this.tilesetInstance, false);\r\n            }\r\n        }\r\n        if (changes['style'] && !changes['style'].isFirstChange()) {\r\n            var styleValue = changes['style'].currentValue;\r\n            if (this.tilesetInstance) {\r\n                this.tilesetInstance.style = new Cesium.Cesium3DTileStyle(this.style);\r\n            }\r\n        }\r\n    };\r\n    AcTileset3dComponent.prototype.ngOnDestroy = function () {\r\n        if (this.tilesetInstance) {\r\n            this._3dtilesCollection.remove(this.tilesetInstance, false);\r\n        }\r\n    };\r\n    AcTileset3dComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-3d-tile-layer',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcTileset3dComponent.ctorParameters = function () { return [\r\n        { type: CesiumService, },\r\n    ]; };\r\n    AcTileset3dComponent.propDecorators = {\r\n        'options': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'show': [{ type: Input },],\r\n        'style': [{ type: Input },],\r\n    };\r\n    return AcTileset3dComponent;\r\n}());\r\nexport { AcTileset3dComponent };\r\n//# sourceMappingURL=ac-tileset-3d.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { BoxDrawerService } from '../../services/drawers/box-dawer/box-drawer.service';\r\nvar AcBoxDescComponent = (function (_super) {\r\n    __extends(AcBoxDescComponent, _super);\r\n    function AcBoxDescComponent(drawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, drawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcBoxDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-box-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcBoxDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcBoxDescComponent.ctorParameters = function () { return [\r\n        { type: BoxDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcBoxDescComponent;\r\n}(BasicDesc));\r\nexport { AcBoxDescComponent };\r\n//# sourceMappingURL=ac-box-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { CylinderDrawerService } from '../../services/drawers/cylinder-dawer/cylinder-drawer.service';\r\nvar AcCylinderDescComponent = (function (_super) {\r\n    __extends(AcCylinderDescComponent, _super);\r\n    function AcCylinderDescComponent(drawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, drawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcCylinderDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-cylinder-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcCylinderDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcCylinderDescComponent.ctorParameters = function () { return [\r\n        { type: CylinderDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcCylinderDescComponent;\r\n}(BasicDesc));\r\nexport { AcCylinderDescComponent };\r\n//# sourceMappingURL=ac-cylinder-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { CorridorDrawerService } from '../../services/drawers/corridor-dawer/corridor-drawer.service';\r\nvar AcCorridorDescComponent = (function (_super) {\r\n    __extends(AcCorridorDescComponent, _super);\r\n    function AcCorridorDescComponent(drawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, drawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcCorridorDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-corridor-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcCorridorDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcCorridorDescComponent.ctorParameters = function () { return [\r\n        { type: CorridorDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcCorridorDescComponent;\r\n}(BasicDesc));\r\nexport { AcCorridorDescComponent };\r\n//# sourceMappingURL=ac-corridor-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { EllipsoidDrawerService } from '../../services/drawers/ellipoid-drawer/ellipsoid-drawer.service';\r\nvar AcEllipsoidDescComponent = (function (_super) {\r\n    __extends(AcEllipsoidDescComponent, _super);\r\n    function AcEllipsoidDescComponent(drawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, drawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcEllipsoidDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-ellipsoid-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcEllipsoidDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcEllipsoidDescComponent.ctorParameters = function () { return [\r\n        { type: EllipsoidDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcEllipsoidDescComponent;\r\n}(BasicDesc));\r\nexport { AcEllipsoidDescComponent };\r\n//# sourceMappingURL=ac-ellipsoid-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { PolylineVolumeDrawerService } from '../../services/drawers/polyline-volume-dawer/polyline-volume-drawer.service';\r\nvar AcPolylineVolumeDescComponent = (function (_super) {\r\n    __extends(AcPolylineVolumeDescComponent, _super);\r\n    function AcPolylineVolumeDescComponent(drawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, drawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcPolylineVolumeDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-polyline-volume-desc',\r\n                    template: ''\r\n                },] },\r\n    ];\r\n    AcPolylineVolumeDescComponent.ctorParameters = function () { return [\r\n        { type: PolylineVolumeDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcPolylineVolumeDescComponent;\r\n}(BasicDesc));\r\nexport { AcPolylineVolumeDescComponent };\r\n//# sourceMappingURL=ac-polyline-volume-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { WallDrawerService } from '../../services/drawers/wall-dawer/wall-drawer.service';\r\nvar AcWallDescComponent = (function (_super) {\r\n    __extends(AcWallDescComponent, _super);\r\n    function AcWallDescComponent(drawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, drawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcWallDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-wall-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcWallDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcWallDescComponent.ctorParameters = function () { return [\r\n        { type: WallDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcWallDescComponent;\r\n}(BasicDesc));\r\nexport { AcWallDescComponent };\r\n//# sourceMappingURL=ac-wall-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { RectangleDrawerService } from '../../services/drawers/rectangle-dawer/rectangle-drawer.service';\r\nvar AcRectangleDescComponent = (function (_super) {\r\n    __extends(AcRectangleDescComponent, _super);\r\n    function AcRectangleDescComponent(drawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, drawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcRectangleDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-rectangle-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcRectangleDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcRectangleDescComponent.ctorParameters = function () { return [\r\n        { type: RectangleDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcRectangleDescComponent;\r\n}(BasicDesc));\r\nexport { AcRectangleDescComponent };\r\n//# sourceMappingURL=ac-rectangle-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { BillboardPrimitiveDrawerService } from '../../services/drawers/billboard-primitive-drawer/billboard-primitive-drawer.service';\r\nvar AcBillboardPrimitiveDescComponent = (function (_super) {\r\n    __extends(AcBillboardPrimitiveDescComponent, _super);\r\n    function AcBillboardPrimitiveDescComponent(billboardPrimitiveDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, billboardPrimitiveDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcBillboardPrimitiveDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-billboard-primitive-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcBillboardPrimitiveDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcBillboardPrimitiveDescComponent.ctorParameters = function () { return [\r\n        { type: BillboardPrimitiveDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcBillboardPrimitiveDescComponent;\r\n}(BasicDesc));\r\nexport { AcBillboardPrimitiveDescComponent };\r\n//# sourceMappingURL=ac-billboard-primitive-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { LabelPrimitiveDrawerService } from '../../services/drawers/label-primitive-drawer/label-primitive-drawer.service';\r\nvar AcLabelPrimitiveDescComponent = (function (_super) {\r\n    __extends(AcLabelPrimitiveDescComponent, _super);\r\n    function AcLabelPrimitiveDescComponent(labelPrimitiveDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, labelPrimitiveDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcLabelPrimitiveDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-label-primitive-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcLabelPrimitiveDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcLabelPrimitiveDescComponent.ctorParameters = function () { return [\r\n        { type: LabelPrimitiveDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcLabelPrimitiveDescComponent;\r\n}(BasicDesc));\r\nexport { AcLabelPrimitiveDescComponent };\r\n//# sourceMappingURL=ac-label-primitive-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, forwardRef } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { PolylinePrimitiveDrawerService } from '../../services/drawers/polyline-primitive-drawer/polyline-primitive-drawer.service';\r\nvar AcPolylinePrimitiveDescComponent = (function (_super) {\r\n    __extends(AcPolylinePrimitiveDescComponent, _super);\r\n    function AcPolylinePrimitiveDescComponent(polylinePrimitiveDrawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, polylinePrimitiveDrawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcPolylinePrimitiveDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-polyline-primitive-desc',\r\n                    template: '',\r\n                    providers: [{ provide: BasicDesc, useExisting: forwardRef(function () { return AcPolylinePrimitiveDescComponent; }) }],\r\n                },] },\r\n    ];\r\n    AcPolylinePrimitiveDescComponent.ctorParameters = function () { return [\r\n        { type: PolylinePrimitiveDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcPolylinePrimitiveDescComponent;\r\n}(BasicDesc));\r\nexport { AcPolylinePrimitiveDescComponent };\r\n//# sourceMappingURL=ac-polyline-primitive-desc.component.js.map","var HtmlPrimitive = (function () {\r\n    function HtmlPrimitive(options, collection) {\r\n        if (collection === void 0) { collection = null; }\r\n        if (typeof options !== 'object') {\r\n            throw new Error('HtmlPrimitive ERROR: invalid html options!');\r\n        }\r\n        this.scene = options.scene;\r\n        this.show = options.show || true;\r\n        this.position = options.position;\r\n        this.pixelOffset = options.pixelOffset;\r\n        this.element = options.element;\r\n        this.collection = collection;\r\n    }\r\n    Object.defineProperty(HtmlPrimitive.prototype, \"scene\", {\r\n        set: function (scene) {\r\n            this._scene = scene;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HtmlPrimitive.prototype, \"show\", {\r\n        get: function () {\r\n            return this._show;\r\n        },\r\n        set: function (show) {\r\n            this._show = show;\r\n            if (Cesium.defined(this.element)) {\r\n                if (show) {\r\n                    this._element.style.display = 'block';\r\n                }\r\n                else {\r\n                    this._element.style.display = 'none';\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HtmlPrimitive.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        set: function (position) {\r\n            this._position = position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HtmlPrimitive.prototype, \"pixelOffset\", {\r\n        get: function () {\r\n            return this._pixelOffset;\r\n        },\r\n        set: function (pixelOffset) {\r\n            this._pixelOffset = pixelOffset;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HtmlPrimitive.prototype, \"element\", {\r\n        get: function () {\r\n            return this._element;\r\n        },\r\n        set: function (element) {\r\n            this._element = element;\r\n            if (Cesium.defined(element)) {\r\n                this._element.style.position = 'absolute';\r\n                this._element.style.zIndex = Number.MAX_VALUE.toString();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HtmlPrimitive.prototype, \"collection\", {\r\n        get: function () {\r\n            return this._collection;\r\n        },\r\n        set: function (collection) {\r\n            this._collection = collection;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    HtmlPrimitive.prototype.update = function () {\r\n        if (!Cesium.defined(this._show) || !Cesium.defined(this._element)) {\r\n            return;\r\n        }\r\n        var screenPosition = Cesium.SceneTransforms.wgs84ToWindowCoordinates(this._scene, this._position);\r\n        if (!Cesium.defined(screenPosition)) {\r\n            screenPosition = new Cesium.Cartesian2((-1000), (-1000));\r\n        }\r\n        else if (Cesium.defined(this._pixelOffset) && Cesium.defined(this._pixelOffset.x) && Cesium.defined(this._pixelOffset.y)) {\r\n            screenPosition.y += this._pixelOffset.y;\r\n            screenPosition.x += this._pixelOffset.x;\r\n        }\r\n        if (this._lastPosition && this._lastPosition.equals(screenPosition)) {\r\n            return;\r\n        }\r\n        this._element.style.top = screenPosition.y + \"px\";\r\n        this._element.style.left = screenPosition.x + \"px\";\r\n        this._lastPosition = screenPosition;\r\n    };\r\n    return HtmlPrimitive;\r\n}());\r\nexport { HtmlPrimitive };\r\n//# sourceMappingURL=html.js.map","import { HtmlPrimitive } from '../primitives';\r\nvar HtmlCollection = (function () {\r\n    function HtmlCollection() {\r\n        this._collection = [];\r\n    }\r\n    Object.defineProperty(HtmlCollection.prototype, \"length\", {\r\n        get: function () {\r\n            return this._collection.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    HtmlCollection.prototype.get = function (index) {\r\n        return this._collection[index];\r\n    };\r\n    HtmlCollection.prototype.add = function (options) {\r\n        var html = new HtmlPrimitive(options, this);\r\n        this._collection.push(html);\r\n        return html;\r\n    };\r\n    HtmlCollection.prototype.remove = function (html) {\r\n        var index = this._collection.indexOf(html);\r\n        if (index === (-1)) {\r\n            return false;\r\n        }\r\n        this._collection.splice(index, 1);\r\n        return true;\r\n    };\r\n    HtmlCollection.prototype.update = function () {\r\n        for (var i = 0, len = this._collection.length; i < len; i++) {\r\n            this._collection[i].update();\r\n        }\r\n    };\r\n    HtmlCollection.prototype.removeAll = function () {\r\n        while (this._collection.length > 0) {\r\n            this._collection.pop();\r\n        }\r\n    };\r\n    HtmlCollection.prototype.contains = function (html) {\r\n        return Cesium.defined(html) && html.collection === this;\r\n    };\r\n    return HtmlCollection;\r\n}());\r\nexport { HtmlCollection };\r\n//# sourceMappingURL=html.js.map","import { HtmlPrimitive } from './primitives';\r\nimport { HtmlCollection } from './collections';\r\nvar CesiumExtender = (function () {\r\n    function CesiumExtender() {\r\n    }\r\n    CesiumExtender.extend = function () {\r\n        Cesium.HtmlPrimitive = HtmlPrimitive;\r\n        Cesium.HtmlCollection = HtmlCollection;\r\n    };\r\n    return CesiumExtender;\r\n}());\r\nexport { CesiumExtender };\r\n//# sourceMappingURL=extender.js.map","import { Injectable } from '@angular/core';\r\nvar AcHtmlManager = (function () {\r\n    function AcHtmlManager() {\r\n        this._entities = new Map();\r\n    }\r\n    AcHtmlManager.prototype.has = function (id) {\r\n        return this._entities.has(id);\r\n    };\r\n    AcHtmlManager.prototype.get = function (id) {\r\n        return this._entities.get(id);\r\n    };\r\n    AcHtmlManager.prototype.addOrUpdate = function (id, info) {\r\n        this._entities.set(id, info);\r\n    };\r\n    AcHtmlManager.prototype.remove = function (id) {\r\n        this._entities.delete(id);\r\n    };\r\n    AcHtmlManager.prototype.forEach = function (callback) {\r\n        this._entities.forEach(callback);\r\n    };\r\n    AcHtmlManager.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    AcHtmlManager.ctorParameters = function () { return []; };\r\n    return AcHtmlManager;\r\n}());\r\nexport { AcHtmlManager };\r\n//# sourceMappingURL=ac-html-manager.service.js.map","import { ChangeDetectorRef, Directive, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { AcHtmlManager } from '../../services/ac-html-manager/ac-html-manager.service';\r\nvar AcHtmlContext = (function () {\r\n    function AcHtmlContext(id, context) {\r\n        this.id = id;\r\n        this.context = context;\r\n    }\r\n    return AcHtmlContext;\r\n}());\r\nexport { AcHtmlContext };\r\nvar AcHtmlDirective = (function () {\r\n    function AcHtmlDirective(_templateRef, _viewContainerRef, _changeDetector, _layerService, _acHtmlManager) {\r\n        this._templateRef = _templateRef;\r\n        this._viewContainerRef = _viewContainerRef;\r\n        this._changeDetector = _changeDetector;\r\n        this._layerService = _layerService;\r\n        this._acHtmlManager = _acHtmlManager;\r\n        this._views = new Map();\r\n    }\r\n    AcHtmlDirective.prototype.ngOnInit = function () {\r\n    };\r\n    AcHtmlDirective.prototype._handleView = function (id, primitive, entity) {\r\n        if (!this._views.has(id) && primitive.show) {\r\n            var context = new AcHtmlContext(id, { $implicit: entity });\r\n            var viewRef = this._viewContainerRef.createEmbeddedView(this._templateRef, context);\r\n            this._views.set(id, { viewRef: viewRef, context: context });\r\n            this._changeDetector.detectChanges();\r\n        }\r\n        else if (this._views.has(id) && !primitive.show) {\r\n            this.remove(id, primitive);\r\n        }\r\n        else if (this._views.has(id) && primitive.show) {\r\n            this._changeDetector.detectChanges();\r\n        }\r\n    };\r\n    AcHtmlDirective.prototype.addOrUpdate = function (id, primitive) {\r\n        var context = this._layerService.context;\r\n        var entity = context[this._layerService.getEntityName()];\r\n        if (this._views.has(id)) {\r\n            this._views.get(id).context.context.$implicit = entity;\r\n        }\r\n        this._acHtmlManager.addOrUpdate(id, { entity: entity, primitive: primitive });\r\n        this._handleView(id, primitive, entity);\r\n    };\r\n    AcHtmlDirective.prototype.remove = function (id, primitive) {\r\n        if (!this._views.has(id)) {\r\n            return;\r\n        }\r\n        var viewRef = this._views.get(id).viewRef;\r\n        this._viewContainerRef.remove(this._viewContainerRef.indexOf(viewRef));\r\n        this._views.delete(id);\r\n        this._acHtmlManager.remove(id);\r\n        primitive.element = null;\r\n    };\r\n    AcHtmlDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[acHtml]',\r\n                },] },\r\n    ];\r\n    AcHtmlDirective.ctorParameters = function () { return [\r\n        { type: TemplateRef, },\r\n        { type: ViewContainerRef, },\r\n        { type: ChangeDetectorRef, },\r\n        { type: LayerService, },\r\n        { type: AcHtmlManager, },\r\n    ]; };\r\n    return AcHtmlDirective;\r\n}());\r\nexport { AcHtmlDirective };\r\n//# sourceMappingURL=ac-html.directive.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component, ContentChild, TemplateRef, ViewChild } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { HtmlDrawerService } from '../../services/drawers/html-drawer/html-drawer.service';\r\nimport { AcHtmlDirective } from '../../directives/ac-html/ac-html.directive';\r\nimport { AcHtmlManager } from '../../services/ac-html-manager/ac-html-manager.service';\r\nvar AcHtmlDescComponent = (function (_super) {\r\n    __extends(AcHtmlDescComponent, _super);\r\n    function AcHtmlDescComponent(htmlDrawer, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, htmlDrawer, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcHtmlDescComponent.prototype.ngOnInit = function () {\r\n        _super.prototype.ngOnInit.call(this);\r\n        if (!this.acHtmlCreator) {\r\n            throw new Error(\"AcHtml desc ERROR: ac html directive not found.\");\r\n        }\r\n        if (!this.acHtmlTemplate) {\r\n            throw new Error(\"AcHtml desc ERROR: html template not found.\");\r\n        }\r\n    };\r\n    AcHtmlDescComponent.prototype.draw = function (context, id) {\r\n        var cesiumProps = this._propsEvaluator(context);\r\n        if (!this._cesiumObjectsMap.has(id)) {\r\n            var primitive = this._drawer.add(cesiumProps);\r\n            this._cesiumObjectsMap.set(id, primitive);\r\n            this.acHtmlCreator.addOrUpdate(id, primitive);\r\n        }\r\n        else {\r\n            var primitive = this._cesiumObjectsMap.get(id);\r\n            this._drawer.update(primitive, cesiumProps);\r\n            this.acHtmlCreator.addOrUpdate(id, primitive);\r\n        }\r\n    };\r\n    AcHtmlDescComponent.prototype.remove = function (id) {\r\n        var primitive = this._cesiumObjectsMap.get(id);\r\n        this._drawer.remove(primitive);\r\n        this._cesiumObjectsMap.delete(id);\r\n        this.acHtmlCreator.remove(id, primitive);\r\n    };\r\n    AcHtmlDescComponent.prototype.removeAll = function () {\r\n        var _this = this;\r\n        this._cesiumObjectsMap.forEach((function (primitive, id) {\r\n            _this.acHtmlCreator.remove(id, primitive);\r\n        }));\r\n        this._cesiumObjectsMap.clear();\r\n        this._drawer.removeAll();\r\n    };\r\n    AcHtmlDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-html-desc',\r\n                    providers: [AcHtmlManager],\r\n                    template: \"\\n      <div *acHtml=\\\"let acHtmlEntityId = id; let acHtmlContext = context\\\">\\n          <div [acHtmlContainer]=\\\"acHtmlEntityId\\\">\\n              <ng-template [ngTemplateOutlet]=\\\"acHtmlTemplate\\\"\\n                           [ngTemplateOutletContext]=\\\"acHtmlContext\\\"></ng-template>\\n          </div>\\n      </div>\"\r\n                },] },\r\n    ];\r\n    AcHtmlDescComponent.ctorParameters = function () { return [\r\n        { type: HtmlDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    AcHtmlDescComponent.propDecorators = {\r\n        'acHtmlCreator': [{ type: ViewChild, args: [AcHtmlDirective,] },],\r\n        'acHtmlTemplate': [{ type: ContentChild, args: [TemplateRef,] },],\r\n    };\r\n    return AcHtmlDescComponent;\r\n}(BasicDesc));\r\nexport { AcHtmlDescComponent };\r\n//# sourceMappingURL=ac-html-desc.component.js.map","import { Directive, Input, ElementRef } from '@angular/core';\r\nimport { AcHtmlManager } from '../../services/ac-html-manager/ac-html-manager.service';\r\nvar AcHtmlContainerDirective = (function () {\r\n    function AcHtmlContainerDirective(_element, _acHtmlManager) {\r\n        this._element = _element;\r\n        this._acHtmlManager = _acHtmlManager;\r\n    }\r\n    Object.defineProperty(AcHtmlContainerDirective.prototype, \"acHtmlContainer\", {\r\n        set: function (id) {\r\n            this._id = id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AcHtmlContainerDirective.prototype.ngOnInit = function () {\r\n        if (this._id === undefined) {\r\n            throw new Error(\"AcHtml container ERROR: entity id not defined\");\r\n        }\r\n        var entity = this._acHtmlManager.get(this._id);\r\n        entity.primitive.element = this._element.nativeElement;\r\n    };\r\n    AcHtmlContainerDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[acHtmlContainer]'\r\n                },] },\r\n    ];\r\n    AcHtmlContainerDirective.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: AcHtmlManager, },\r\n    ]; };\r\n    AcHtmlContainerDirective.propDecorators = {\r\n        'acHtmlContainer': [{ type: Input },],\r\n    };\r\n    return AcHtmlContainerDirective;\r\n}());\r\nexport { AcHtmlContainerDirective };\r\n//# sourceMappingURL=ac-html-container.directive.js.map","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ComponentFactoryResolver, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { ContextMenuService } from '../../services/context-menu/context-menu.service';\r\nvar AcContextMenuWrapperComponent = (function () {\r\n    function AcContextMenuWrapperComponent(contextMenuService, cd, componentFactoryResolver) {\r\n        this.contextMenuService = contextMenuService;\r\n        this.cd = cd;\r\n        this.componentFactoryResolver = componentFactoryResolver;\r\n    }\r\n    AcContextMenuWrapperComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.contextMenuChangeSubscription =\r\n            this.contextMenuService.contextMenuChangeNotifier.subscribe(function () { return _this.cd.detectChanges(); });\r\n        this.contextMenuOpenSubscription =\r\n            this.contextMenuService.onOpen.subscribe(function () {\r\n                var componentFactory = _this.componentFactoryResolver.resolveComponentFactory(_this.contextMenuService.content);\r\n                _this.viewContainerRef.clear();\r\n                var componentRef = _this.viewContainerRef.createComponent(componentFactory);\r\n                componentRef.instance.data = _this.contextMenuService.options.data;\r\n                _this.cd.detectChanges();\r\n            });\r\n    };\r\n    AcContextMenuWrapperComponent.prototype.ngOnDestroy = function () {\r\n        if (this.contextMenuChangeSubscription) {\r\n            this.contextMenuChangeSubscription.unsubscribe();\r\n        }\r\n        if (this.contextMenuOpenSubscription) {\r\n            this.contextMenuOpenSubscription.unsubscribe();\r\n        }\r\n    };\r\n    AcContextMenuWrapperComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-context-menu-wrapper',\r\n                    template: \"\\n      <ac-html *ngIf=\\\"contextMenuService.showContextMenu\\\" [props]=\\\"{position: contextMenuService.position}\\\">\\n          <div #contextMenuContainer></div>\\n      </ac-html>\\n  \",\r\n                    styles: [],\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                },] },\r\n    ];\r\n    AcContextMenuWrapperComponent.ctorParameters = function () { return [\r\n        { type: ContextMenuService, },\r\n        { type: ChangeDetectorRef, },\r\n        { type: ComponentFactoryResolver, },\r\n    ]; };\r\n    AcContextMenuWrapperComponent.propDecorators = {\r\n        'viewContainerRef': [{ type: ViewChild, args: ['contextMenuContainer', { read: ViewContainerRef },] },],\r\n    };\r\n    return AcContextMenuWrapperComponent;\r\n}());\r\nexport { AcContextMenuWrapperComponent };\r\n//# sourceMappingURL=ac-context-menu-wrapper.component.js.map","import { ChangeDetectorRef, Component, ContentChildren, Input, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport * as _get from 'lodash.get';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nvar AcArrayDescComponent = (function () {\r\n    function AcArrayDescComponent(layerService, cd) {\r\n        this.layerService = layerService;\r\n        this.cd = cd;\r\n        this.show = true;\r\n        this.entitiesMap = new Map();\r\n        this.id = 0;\r\n        this.acForRgx = /^let\\s+.+\\s+of\\s+.+$/;\r\n        this.arrayObservable$ = new Subject();\r\n    }\r\n    AcArrayDescComponent.prototype.ngOnChanges = function (changes) {\r\n        if (changes['acFor'].firstChange) {\r\n            var acForString = changes['acFor'].currentValue;\r\n            if (!this.acForRgx.test(acForString)) {\r\n                throw new Error(\"ac-layer: Invalid [acFor] syntax. Expected: [acFor]=\\\"let item of observable\\\" .Instead received: \" + acForString);\r\n            }\r\n            var acForArr = changes['acFor'].currentValue.split(' ');\r\n            this.arrayPath = acForArr[3];\r\n            this.entityName = acForArr[1];\r\n        }\r\n    };\r\n    AcArrayDescComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.layer.getLayerService().cache = false;\r\n        this.layerServiceSubscription = this.layerService.layerUpdates().subscribe(function () {\r\n            _this.cd.detectChanges();\r\n        });\r\n    };\r\n    AcArrayDescComponent.prototype.ngAfterContentInit = function () {\r\n        var _this = this;\r\n        this.layerService.context['arrayObservable$'] = this.arrayObservable$;\r\n        this.layerService.registerDescription(this);\r\n        this.basicDescs._results.forEach(function (component) {\r\n            component.setLayerService(_this.layer.getLayerService());\r\n        });\r\n        this.arrayDescs._results.splice(0, 1);\r\n        this.arrayDescs._results.forEach(function (component) {\r\n            _this.layerService.unregisterDescription(component);\r\n            _this.layer.getLayerService().registerDescription(component);\r\n            component.layerService = _this.layer.getLayerService();\r\n            component.setLayerService(_this.layer.getLayerService());\r\n        });\r\n    };\r\n    AcArrayDescComponent.prototype.ngOnDestroy = function () {\r\n        if (this.layerServiceSubscription) {\r\n            this.layerServiceSubscription.unsubscribe();\r\n        }\r\n    };\r\n    AcArrayDescComponent.prototype.setLayerService = function (layerService) {\r\n        this.layerService = layerService;\r\n    };\r\n    AcArrayDescComponent.prototype.draw = function (context, id, contextEntity) {\r\n        var _this = this;\r\n        var get = _get;\r\n        var entitiesArray = get(context, this.arrayPath);\r\n        if (!entitiesArray) {\r\n            return;\r\n        }\r\n        var previousEntitiesIdArray = this.entitiesMap.get(id);\r\n        var entitiesIdArray = [];\r\n        this.entitiesMap.set(id, entitiesIdArray);\r\n        entitiesArray.forEach(function (item, index) {\r\n            _this.layerService.context[_this.entityName] = item;\r\n            var arrayItemId = _this.generateCombinedId(id, item, index);\r\n            entitiesIdArray.push(arrayItemId);\r\n            _this.layer.update(contextEntity, arrayItemId);\r\n        });\r\n        if (previousEntitiesIdArray) {\r\n            var entitiesToRemove = this.idGetter ?\r\n                previousEntitiesIdArray.filter(function (entityId) { return entitiesIdArray.indexOf(entityId) < 0; }) :\r\n                previousEntitiesIdArray;\r\n            if (entitiesToRemove) {\r\n                entitiesToRemove.forEach(function (entityId) { return _this.layer.remove(entityId); });\r\n            }\r\n        }\r\n    };\r\n    AcArrayDescComponent.prototype.remove = function (id) {\r\n        var _this = this;\r\n        var entitiesIdArray = this.entitiesMap.get(id);\r\n        if (entitiesIdArray) {\r\n            entitiesIdArray.forEach(function (entityId) { return _this.layer.remove(entityId); });\r\n        }\r\n        this.entitiesMap.delete(id);\r\n    };\r\n    AcArrayDescComponent.prototype.removeAll = function () {\r\n        this.layer.removeAll();\r\n        this.entitiesMap.clear();\r\n    };\r\n    AcArrayDescComponent.prototype.getAcForString = function () {\r\n        return \"let \" + (this.entityName + '___temp') + \" of arrayObservable$\";\r\n    };\r\n    AcArrayDescComponent.prototype.generateCombinedId = function (entityId, arrayItem, index) {\r\n        var arrayItemId;\r\n        if (this.idGetter) {\r\n            arrayItemId = this.idGetter(arrayItem, index);\r\n        }\r\n        else {\r\n            arrayItemId = (this.id++) % Number.MAX_SAFE_INTEGER;\r\n        }\r\n        return entityId + arrayItemId;\r\n    };\r\n    AcArrayDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-array-desc',\r\n                    template: \"\\n      <ac-layer #layer [acFor]=\\\"getAcForString()\\\"\\n                [context]=\\\"layerService.context\\\"\\n                [options]=\\\"layerService.options\\\"\\n                [show]=\\\"layerService.show && show\\\"\\n                [zIndex]=\\\"layerService.zIndex\\\">\\n          <ng-content #content></ng-content>\\n      </ac-layer>\\n  \",\r\n                },] },\r\n    ];\r\n    AcArrayDescComponent.ctorParameters = function () { return [\r\n        { type: LayerService, },\r\n        { type: ChangeDetectorRef, },\r\n    ]; };\r\n    AcArrayDescComponent.propDecorators = {\r\n        'acFor': [{ type: Input },],\r\n        'idGetter': [{ type: Input },],\r\n        'show': [{ type: Input },],\r\n        'layer': [{ type: ViewChild, args: ['layer',] },],\r\n        'basicDescs': [{ type: ContentChildren, args: [BasicDesc, { descendants: false },] },],\r\n        'arrayDescs': [{ type: ContentChildren, args: [AcArrayDescComponent, { descendants: false },] },],\r\n    };\r\n    return AcArrayDescComponent;\r\n}());\r\nexport { AcArrayDescComponent };\r\n//# sourceMappingURL=ac-array-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { BasicDesc } from '../../services/basic-desc/basic-desc.service';\r\nimport { CesiumProperties } from '../../services/cesium-properties/cesium-properties.service';\r\nimport { ComputationCache } from '../../services/computation-cache/computation-cache.service';\r\nimport { LayerService } from '../../services/layer-service/layer-service.service';\r\nimport { PointPrimitiveDrawerService } from '../../services/drawers/point-primitive-drawer/point-primitive-drawer.service';\r\nvar AcPointPrimitiveDescComponent = (function (_super) {\r\n    __extends(AcPointPrimitiveDescComponent, _super);\r\n    function AcPointPrimitiveDescComponent(pointPrimitiveDrawerService, layerService, computationCache, cesiumProperties) {\r\n        return _super.call(this, pointPrimitiveDrawerService, layerService, computationCache, cesiumProperties) || this;\r\n    }\r\n    AcPointPrimitiveDescComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-point-primitive-desc',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcPointPrimitiveDescComponent.ctorParameters = function () { return [\r\n        { type: PointPrimitiveDrawerService, },\r\n        { type: LayerService, },\r\n        { type: ComputationCache, },\r\n        { type: CesiumProperties, },\r\n    ]; };\r\n    return AcPointPrimitiveDescComponent;\r\n}(BasicDesc));\r\nexport { AcPointPrimitiveDescComponent };\r\n//# sourceMappingURL=ac-point-primitive-desc.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Component } from '@angular/core';\r\nimport { EntityOnMapComponent } from '../../services/entity-on-map/entity-on-map.component';\r\nimport { MapLayersService } from '../../services/map-layers/map-layers.service';\r\nimport { PolylinePrimitiveDrawerService } from '../../services/drawers/polyline-primitive-drawer/polyline-primitive-drawer.service';\r\nvar AcPrimitivePolylineComponent = (function (_super) {\r\n    __extends(AcPrimitivePolylineComponent, _super);\r\n    function AcPrimitivePolylineComponent(polylineDrawer, mapLayers) {\r\n        return _super.call(this, polylineDrawer, mapLayers) || this;\r\n    }\r\n    AcPrimitivePolylineComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-primitive-polyline',\r\n                    template: '',\r\n                },] },\r\n    ];\r\n    AcPrimitivePolylineComponent.ctorParameters = function () { return [\r\n        { type: PolylinePrimitiveDrawerService, },\r\n        { type: MapLayersService, },\r\n    ]; };\r\n    return AcPrimitivePolylineComponent;\r\n}(EntityOnMapComponent));\r\nexport { AcPrimitivePolylineComponent };\r\n//# sourceMappingURL=ac-primitive-polyline.component.js.map","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AcMapComponent } from './components/ac-map/ac-map.component';\r\nimport { AcLayerComponent } from './components/ac-layer/ac-layer.component';\r\nimport { AcBillboardComponent } from './components/ac-billboard/ac-billboard.component';\r\nimport { AcBillboardDescComponent } from './components/ac-billborad-desc/ac-billborad-desc.component';\r\nimport { AcEllipseDescComponent } from './components/ac-ellipse-desc/ac-ellipse-desc.component';\r\nimport { AcPolylineDescComponent } from './components/ac-polyline-desc/ac-polyline-desc.component';\r\nimport { Angular2ParseModule } from 'angular2parse';\r\nimport { PixelOffsetPipe } from './pipes/pixel-offset/pixel-offset.pipe';\r\nimport { RadiansToDegreesPipe } from './pipes/radians-to-degrees/radians-to-degrees.pipe';\r\nimport { JsonMapper } from './services/json-mapper/json-mapper.service';\r\nimport { CesiumProperties } from './services/cesium-properties/cesium-properties.service';\r\nimport { AcLabelDescComponent } from './components/ac-label-desc/ac-label-desc.component';\r\nimport { UtilsModule } from './utils/utils.module';\r\nimport { ViewerFactory } from './services/viewer-factory/viewer-factory.service';\r\nimport { GeoUtilsService } from './services/geo-utils/geo-utils.service';\r\nimport { AcCircleDescComponent } from './components/ac-circle-desc/ac-circle-desc.component';\r\nimport { AcArcDescComponent } from './components/ac-arc-desc/ac-arc-desc.component';\r\nimport { AcMapLayerProviderComponent } from './components/ac-map-layer-provider/ac-map-layer-provider.component';\r\nimport { AcPointDescComponent } from './components/ac-point-desc/ac-point-desc.component';\r\nimport { AcLabelComponent } from './components/ac-label/ac-label.component';\r\nimport { AcPolylineComponent } from './components/ac-polyline/ac-polyline.component';\r\nimport { AcEllipseComponent } from './components/ac-ellipse/ac-ellipse.component';\r\nimport { AcPointComponent } from './components/ac-point/ac-point.component';\r\nimport { AcHtmlComponent } from './components/ac-html/ac-html.component';\r\nimport { AcCircleComponent } from './components/ac-circle/ac-circle.component';\r\nimport { AcArcComponent } from './components/ac-arc/ac-arc.component';\r\nimport { AcPolygonDescComponent } from './components/ac-polygon-desc/ac-polygon-desc.component';\r\nimport { AcDefaultPlonterComponent } from './components/ac-default-plonter/ac-default-plonter.component';\r\nimport { AcPolygonComponent } from './components/ac-polygon/ac-polygon.component';\r\nimport { MapsManagerService } from './services/maps-manager/maps-manager.service';\r\nimport { AcStaticEllipseDescComponent } from './components/static-dynamic/ac-static-ellipse-desc/ac-static-ellipse-desc.component';\r\nimport { AcDynamicEllipseDescComponent } from './components/static-dynamic/ac-dynamic-ellipse-desc/ac-dynamic-ellipse-desc.component';\r\nimport { AcDynamicPolylineDescComponent } from './components/static-dynamic/ac-dynamic-polyline-desc/ac-dynamic-polyline-desc.component';\r\nimport { AcStaticPolygonDescComponent } from './components/static-dynamic/ac-static-polygon-desc/ac-static-polygon-desc.component';\r\nimport { AcStaticCircleDescComponent } from './components/static-dynamic/ac-static-circle-desc/ac-static-circle-desc.component';\r\nimport { AcDynamicCircleDescComponent } from './components/static-dynamic/ac-dynamic-circle-desc/ac-dynamic-circle-desc.component';\r\nimport { AcStaticPolylineDescComponent } from './components/static-dynamic/ac-static-polyline-desc/ac-static-polyline-desc.component';\r\nimport { AcModelDescComponent } from './components/ac-model-desc/ac-model-desc.component';\r\nimport { AcTileset3dComponent } from './components/ac-3d-tileset/ac-tileset-3d.component';\r\nimport { AcBoxDescComponent } from './components/ac-box-desc/ac-box-desc.component';\r\nimport { AcCylinderDescComponent } from './components/ac-cylinder-desc/ac-cylinder-desc.component';\r\nimport { AcCorridorDescComponent } from './components/ac-corridor-desc/ac-corridor-desc.component';\r\nimport { AcEllipsoidDescComponent } from './components/ac-ellipsoid-desc/ac-ellipsoid-desc.component';\r\nimport { AcPolylineVolumeDescComponent } from './components/ac-polyline-volume-desc/ac-polyline-volume-desc.component';\r\nimport { AcWallDescComponent } from './components/ac-wall-desc/ac-wall-desc.component';\r\nimport { AcRectangleDescComponent } from './components/ac-rectangle-desc/ac-rectangle-desc.component';\r\nimport { AcBillboardPrimitiveDescComponent } from './components/ac-billboard-primitive-desc/ac-billboard-primitive-desc.component';\r\nimport { AcLabelPrimitiveDescComponent } from './components/ac-label-primitive-desc/ac-label-primitive-desc.component';\r\nimport { AcPolylinePrimitiveDescComponent } from './components/ac-polyline-primitive-desc/ac-polyline-primitive-desc.component';\r\nimport { ConfigurationService } from './cesium-enhancements/ConfigurationService';\r\nimport { CesiumExtender } from '../cesium-extender/extender';\r\nimport { AcHtmlDescComponent } from './components/ac-html-desc/ac-html-desc.component';\r\nimport { AcHtmlDirective } from './directives/ac-html/ac-html.directive';\r\nimport { AcHtmlContainerDirective } from './directives/ac-html-container/ac-html-container.directive';\r\nimport { AcContextMenuWrapperComponent } from './components/ac-context-menu-wrapper/ac-context-menu-wrapper.component';\r\nimport { AcArrayDescComponent } from './components/ac-array-desc/ac-array-desc.component';\r\nimport { AcPointPrimitiveDescComponent } from './components/ac-point-primitive-desc/ac-point-primitive-desc.component';\r\nimport { AcPrimitivePolylineComponent } from './components/ac-primitive-polyline/ac-primitive-polyline.component';\r\nvar AngularCesiumModule = (function () {\r\n    function AngularCesiumModule() {\r\n        CesiumExtender.extend();\r\n    }\r\n    AngularCesiumModule.forRoot = function (config) {\r\n        return {\r\n            ngModule: AngularCesiumModule,\r\n            providers: [{ provide: 'config', useValue: config }]\r\n        };\r\n    };\r\n    AngularCesiumModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        Angular2ParseModule,\r\n                        UtilsModule,\r\n                    ],\r\n                    declarations: [\r\n                        AcMapComponent,\r\n                        AcLayerComponent,\r\n                        AcBillboardComponent,\r\n                        AcBillboardDescComponent,\r\n                        AcBillboardPrimitiveDescComponent,\r\n                        AcLabelDescComponent,\r\n                        AcLabelPrimitiveDescComponent,\r\n                        AcEllipseDescComponent,\r\n                        AcPolylineDescComponent,\r\n                        AcPolylinePrimitiveDescComponent,\r\n                        PixelOffsetPipe,\r\n                        RadiansToDegreesPipe,\r\n                        AcCircleDescComponent,\r\n                        AcArcDescComponent,\r\n                        AcMapLayerProviderComponent,\r\n                        AcPointDescComponent,\r\n                        AcLabelComponent,\r\n                        AcPolylineComponent,\r\n                        AcPrimitivePolylineComponent,\r\n                        AcEllipseComponent,\r\n                        AcPointComponent,\r\n                        AcBillboardComponent,\r\n                        AcHtmlComponent,\r\n                        AcCircleComponent,\r\n                        AcArcComponent,\r\n                        AcPolygonDescComponent,\r\n                        AcPolygonComponent,\r\n                        AcDefaultPlonterComponent,\r\n                        AcModelDescComponent,\r\n                        AcTileset3dComponent,\r\n                        AcBoxDescComponent,\r\n                        AcCylinderDescComponent,\r\n                        AcCorridorDescComponent,\r\n                        AcEllipsoidDescComponent,\r\n                        AcPolylineVolumeDescComponent,\r\n                        AcWallDescComponent,\r\n                        AcRectangleDescComponent,\r\n                        AcContextMenuWrapperComponent,\r\n                        AcPointPrimitiveDescComponent,\r\n                        AcHtmlDescComponent,\r\n                        AcHtmlDirective,\r\n                        AcHtmlContainerDirective,\r\n                        AcArrayDescComponent,\r\n                        AcStaticEllipseDescComponent,\r\n                        AcDynamicEllipseDescComponent,\r\n                        AcDynamicPolylineDescComponent,\r\n                        AcStaticPolylineDescComponent,\r\n                        AcDynamicCircleDescComponent,\r\n                        AcStaticCircleDescComponent,\r\n                        AcStaticPolygonDescComponent,\r\n                    ],\r\n                    exports: [\r\n                        AcMapComponent,\r\n                        AcBillboardComponent,\r\n                        AcBillboardDescComponent,\r\n                        AcBillboardPrimitiveDescComponent,\r\n                        AcLabelDescComponent,\r\n                        AcLabelPrimitiveDescComponent,\r\n                        AcEllipseDescComponent,\r\n                        AcPolylineDescComponent,\r\n                        AcPolylinePrimitiveDescComponent,\r\n                        AcLayerComponent,\r\n                        AcCircleDescComponent,\r\n                        AcArcDescComponent,\r\n                        AcMapLayerProviderComponent,\r\n                        AcPointDescComponent,\r\n                        AcLabelComponent,\r\n                        AcPolylineComponent,\r\n                        AcPrimitivePolylineComponent,\r\n                        AcEllipseComponent,\r\n                        AcPointComponent,\r\n                        AcBillboardComponent,\r\n                        AcHtmlComponent,\r\n                        AcCircleComponent,\r\n                        AcArcComponent,\r\n                        AcPolygonDescComponent,\r\n                        AcPolygonComponent,\r\n                        AcDefaultPlonterComponent,\r\n                        AcModelDescComponent,\r\n                        AcTileset3dComponent,\r\n                        AcBoxDescComponent,\r\n                        AcCylinderDescComponent,\r\n                        AcCorridorDescComponent,\r\n                        AcEllipsoidDescComponent,\r\n                        AcPolylineVolumeDescComponent,\r\n                        AcWallDescComponent,\r\n                        AcRectangleDescComponent,\r\n                        AcContextMenuWrapperComponent,\r\n                        AcPointPrimitiveDescComponent,\r\n                        AcHtmlDescComponent,\r\n                        AcArrayDescComponent,\r\n                        AcStaticEllipseDescComponent,\r\n                        AcDynamicEllipseDescComponent,\r\n                        AcDynamicPolylineDescComponent,\r\n                        AcStaticPolylineDescComponent,\r\n                        AcDynamicCircleDescComponent,\r\n                        AcStaticCircleDescComponent,\r\n                        AcStaticPolygonDescComponent,\r\n                    ],\r\n                    providers: [JsonMapper, CesiumProperties, GeoUtilsService, ViewerFactory, MapsManagerService, ConfigurationService],\r\n                },] },\r\n    ];\r\n    AngularCesiumModule.ctorParameters = function () { return []; };\r\n    return AngularCesiumModule;\r\n}());\r\nexport { AngularCesiumModule };\r\n//# sourceMappingURL=angular-cesium.module.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Observable } from 'rxjs/Observable';\r\nvar DisposableObservable = (function (_super) {\r\n    __extends(DisposableObservable, _super);\r\n    function DisposableObservable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DisposableObservable;\r\n}(Observable));\r\nexport { DisposableObservable };\r\n//# sourceMappingURL=disposable-observable.js.map",";\r\nexport var CesiumEventModifier;\r\n(function (CesiumEventModifier) {\r\n    CesiumEventModifier[CesiumEventModifier[\"ALT\"] = Cesium.KeyboardEventModifier.ALT] = \"ALT\";\r\n    CesiumEventModifier[CesiumEventModifier[\"CTRL\"] = Cesium.KeyboardEventModifier.CTRL] = \"CTRL\";\r\n    CesiumEventModifier[CesiumEventModifier[\"SHIFT\"] = Cesium.KeyboardEventModifier.SHIFT] = \"SHIFT\";\r\n})(CesiumEventModifier || (CesiumEventModifier = {}));\r\n//# sourceMappingURL=cesium-event-modifier.enum.js.map","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { CesiumEvent } from '../map-events-mananger/consts/cesium-event.enum';\r\nimport { PickOptions } from '../map-events-mananger/consts/pickOptions.enum';\r\nimport { MapsManagerService } from '../maps-manager/maps-manager.service';\r\nimport { Subject } from 'rxjs/Subject';\r\nvar SelectionManagerService = (function () {\r\n    function SelectionManagerService(mapsManager) {\r\n        this.mapsManager = mapsManager;\r\n        this.selectedEntitiesItems$ = new BehaviorSubject([]);\r\n        this.selectedEntitySubject$ = new Subject();\r\n    }\r\n    SelectionManagerService.prototype.selectedEntities$ = function () {\r\n        return this.selectedEntitiesItems$.asObservable();\r\n    };\r\n    SelectionManagerService.prototype.selectedEntities = function () {\r\n        return this.selectedEntitiesItems$.getValue();\r\n    };\r\n    SelectionManagerService.prototype.selectedEntity$ = function () {\r\n        return this.selectedEntitySubject$;\r\n    };\r\n    SelectionManagerService.prototype.toggleSelection = function (entity, addSelectedIndicator) {\r\n        var current = this.selectedEntities();\r\n        if (current.indexOf(entity) === -1) {\r\n            this.addToSelected(entity, addSelectedIndicator);\r\n        }\r\n        else {\r\n            this.removeSelected(entity, addSelectedIndicator);\r\n        }\r\n    };\r\n    SelectionManagerService.prototype.addToSelected = function (entity, addSelectedIndicator) {\r\n        if (addSelectedIndicator) {\r\n            entity['selected'] = true;\r\n        }\r\n        var current = this.selectedEntities();\r\n        this.selectedEntitySubject$.next(entity);\r\n        this.selectedEntitiesItems$.next(current.concat([entity]));\r\n    };\r\n    SelectionManagerService.prototype.removeSelected = function (entity, addSelectedIndicator) {\r\n        if (addSelectedIndicator) {\r\n            entity['selected'] = false;\r\n        }\r\n        var current = this.selectedEntities();\r\n        var entityIndex = current.indexOf(entity);\r\n        if (entityIndex !== -1) {\r\n            current.splice(entityIndex, 1);\r\n            this.selectedEntitiesItems$.next(current);\r\n            this.selectedEntitySubject$.next(entity);\r\n        }\r\n    };\r\n    SelectionManagerService.prototype.initSelection = function (selectionOptions, addSelectedIndicator, eventPriority, mapId) {\r\n        var _this = this;\r\n        if (addSelectedIndicator === void 0) { addSelectedIndicator = true; }\r\n        this.mapEventsManagerService = this.mapsManager.getMap(mapId).getMapEventsManager();\r\n        if (!selectionOptions) {\r\n            Object.assign(selectionOptions, { event: CesiumEvent.LEFT_CLICK });\r\n        }\r\n        var eventSubscription = this.mapEventsManagerService.register({\r\n            event: selectionOptions.event,\r\n            pick: PickOptions.PICK_ONE,\r\n            modifier: selectionOptions.modifier,\r\n            entityType: selectionOptions.entityType,\r\n            priority: eventPriority,\r\n        });\r\n        eventSubscription\r\n            .map(function (result) { return result.entities; })\r\n            .filter(function (entities) { return entities && entities.length > 0; })\r\n            .subscribe(function (entities) {\r\n            var entity = entities[0];\r\n            _this.toggleSelection(entity, addSelectedIndicator);\r\n        });\r\n    };\r\n    SelectionManagerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    SelectionManagerService.ctorParameters = function () { return [\r\n        { type: MapsManagerService, },\r\n    ]; };\r\n    return SelectionManagerService;\r\n}());\r\nexport { SelectionManagerService };\r\n//# sourceMappingURL=selection-manager.service.js.map","export var EditModes;\r\n(function (EditModes) {\r\n    EditModes[EditModes[\"CREATE\"] = 0] = \"CREATE\";\r\n    EditModes[EditModes[\"EDIT\"] = 1] = \"EDIT\";\r\n    EditModes[EditModes[\"CREATE_OR_EDIT\"] = 2] = \"CREATE_OR_EDIT\";\r\n})(EditModes || (EditModes = {}));\r\n//# sourceMappingURL=edit-mode.enum.js.map","export var EditActions;\r\n(function (EditActions) {\r\n    EditActions[EditActions[\"INIT\"] = 0] = \"INIT\";\r\n    EditActions[EditActions[\"MOUSE_MOVE\"] = 1] = \"MOUSE_MOVE\";\r\n    EditActions[EditActions[\"ADD_POINT\"] = 2] = \"ADD_POINT\";\r\n    EditActions[EditActions[\"ADD_LAST_POINT\"] = 3] = \"ADD_LAST_POINT\";\r\n    EditActions[EditActions[\"CHANGE_TO_EDIT\"] = 4] = \"CHANGE_TO_EDIT\";\r\n    EditActions[EditActions[\"REMOVE_POINT\"] = 5] = \"REMOVE_POINT\";\r\n    EditActions[EditActions[\"DRAG_POINT\"] = 6] = \"DRAG_POINT\";\r\n    EditActions[EditActions[\"DRAG_POINT_FINISH\"] = 7] = \"DRAG_POINT_FINISH\";\r\n    EditActions[EditActions[\"DRAG_SHAPE\"] = 8] = \"DRAG_SHAPE\";\r\n    EditActions[EditActions[\"DRAG_SHAPE_FINISH\"] = 9] = \"DRAG_SHAPE_FINISH\";\r\n    EditActions[EditActions[\"DONE\"] = 10] = \"DONE\";\r\n    EditActions[EditActions[\"DISABLE\"] = 11] = \"DISABLE\";\r\n    EditActions[EditActions[\"ENABLE\"] = 12] = \"ENABLE\";\r\n    EditActions[EditActions[\"DISPOSE\"] = 13] = \"DISPOSE\";\r\n    EditActions[EditActions[\"SET_EDIT_LABELS_RENDER_CALLBACK\"] = 14] = \"SET_EDIT_LABELS_RENDER_CALLBACK\";\r\n    EditActions[EditActions[\"UPDATE_EDIT_LABELS\"] = 15] = \"UPDATE_EDIT_LABELS\";\r\n    EditActions[EditActions[\"SET_MANUALLY\"] = 16] = \"SET_MANUALLY\";\r\n})(EditActions || (EditActions = {}));\r\n//# sourceMappingURL=edit-actions.enum.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nvar EditPoint = (function (_super) {\r\n    __extends(EditPoint, _super);\r\n    function EditPoint(entityId, position, pointProps, virtualPoint) {\r\n        if (virtualPoint === void 0) { virtualPoint = false; }\r\n        var _this = _super.call(this) || this;\r\n        _this._show = true;\r\n        _this.editedEntityId = entityId;\r\n        _this.position = position;\r\n        _this.id = _this.generateId();\r\n        _this.pointProps = pointProps;\r\n        _this._virtualEditPoint = virtualPoint;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EditPoint.prototype, \"show\", {\r\n        get: function () {\r\n            return this._show;\r\n        },\r\n        set: function (value) {\r\n            this._show = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditPoint.prototype, \"props\", {\r\n        get: function () {\r\n            return this.pointProps;\r\n        },\r\n        set: function (value) {\r\n            this.pointProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditPoint.prototype.isVirtualEditPoint = function () {\r\n        return this._virtualEditPoint;\r\n    };\r\n    EditPoint.prototype.setVirtualEditPoint = function (value) {\r\n        this._virtualEditPoint = value;\r\n    };\r\n    EditPoint.prototype.getEditedEntityId = function () {\r\n        return this.editedEntityId;\r\n    };\r\n    EditPoint.prototype.getPosition = function () {\r\n        return this.position;\r\n    };\r\n    EditPoint.prototype.setPosition = function (position) {\r\n        this.position.x = position.x;\r\n        this.position.y = position.y;\r\n        this.position.z = position.z;\r\n    };\r\n    EditPoint.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    EditPoint.prototype.generateId = function () {\r\n        return 'edit-point-' + EditPoint.counter++;\r\n    };\r\n    EditPoint.counter = 0;\r\n    return EditPoint;\r\n}(AcEntity));\r\nexport { EditPoint };\r\n//# sourceMappingURL=edit-point.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nvar EditPolyline = (function (_super) {\r\n    __extends(EditPolyline, _super);\r\n    function EditPolyline(entityId, startPosition, endPosition, polylineProps) {\r\n        var _this = _super.call(this) || this;\r\n        _this.editedEntityId = entityId;\r\n        _this.id = _this.generateId();\r\n        _this.positions = [startPosition, endPosition];\r\n        _this._polylineProps = polylineProps;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EditPolyline.prototype, \"props\", {\r\n        get: function () {\r\n            return this._polylineProps;\r\n        },\r\n        set: function (value) {\r\n            this._polylineProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditPolyline.prototype.getEditedEntityId = function () {\r\n        return this.editedEntityId;\r\n    };\r\n    EditPolyline.prototype.getPositions = function () {\r\n        return this.positions;\r\n    };\r\n    EditPolyline.prototype.validatePositions = function () {\r\n        return this.positions[0] !== undefined && this.positions[1] !== undefined;\r\n    };\r\n    EditPolyline.prototype.getStartPosition = function () {\r\n        return this.positions[0];\r\n    };\r\n    EditPolyline.prototype.getEndPosition = function () {\r\n        return this.positions[1];\r\n    };\r\n    EditPolyline.prototype.setStartPosition = function (position) {\r\n        this.positions[0] = position;\r\n    };\r\n    EditPolyline.prototype.setEndPosition = function (position) {\r\n        this.positions[1] = position;\r\n    };\r\n    EditPolyline.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    EditPolyline.prototype.generateId = function () {\r\n        return 'edit-polyline-' + EditPolyline.counter++;\r\n    };\r\n    EditPolyline.counter = 0;\r\n    return EditPolyline;\r\n}(AcEntity));\r\nexport { EditPolyline };\r\n//# sourceMappingURL=edit-polyline.js.map","export var defaultLabelProps = {\r\n    backgroundColor: new Cesium.Color(0.165, 0.165, 0.165, 0.8),\r\n    backgroundPadding: new Cesium.Cartesian2(7, 5),\r\n    distanceDisplayCondition: undefined,\r\n    eyeOffset: Cesium.Cartesian3.ZERO,\r\n    fillColor: Cesium.Color.WHITE,\r\n    font: '30px sans-serif',\r\n    heightReference: Cesium.HeightReference.NONE,\r\n    horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\r\n    outlineColor: Cesium.Color.BLACK,\r\n    outlineWidth: 1.0,\r\n    pixelOffset: Cesium.Cartesian2.ZERO,\r\n    pixelOffsetScaleByDistance: undefined,\r\n    scale: 1.0,\r\n    scaleByDistance: undefined,\r\n    show: true,\r\n    showBackground: false,\r\n    style: Cesium.LabelStyle.FILL,\r\n    text: '',\r\n    translucencyByDistance: undefined,\r\n    verticalOrigin: Cesium.VerticalOrigin.BASELINE,\r\n};\r\n//# sourceMappingURL=label-props.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nimport { EditPoint } from './edit-point';\r\nimport { EditPolyline } from './edit-polyline';\r\nimport { GeoUtilsService } from '../../angular-cesium/services/geo-utils/geo-utils.service';\r\nimport { defaultLabelProps } from './label-props';\r\nvar EditablePolygon = (function (_super) {\r\n    __extends(EditablePolygon, _super);\r\n    function EditablePolygon(id, polygonsLayer, pointsLayer, polylinesLayer, coordinateConverter, polygonOptions, positions) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.polygonsLayer = polygonsLayer;\r\n        _this.pointsLayer = pointsLayer;\r\n        _this.polylinesLayer = polylinesLayer;\r\n        _this.coordinateConverter = coordinateConverter;\r\n        _this.positions = [];\r\n        _this.polylines = [];\r\n        _this.doneCreation = false;\r\n        _this._enableEdit = true;\r\n        _this._labels = [];\r\n        _this.polygonProps = polygonOptions.polygonProps;\r\n        _this.defaultPointProps = polygonOptions.pointProps;\r\n        _this.defaultPolylineProps = polygonOptions.polylineProps;\r\n        if (positions && positions.length >= 3) {\r\n            _this.createFromExisting(positions);\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EditablePolygon.prototype, \"labels\", {\r\n        get: function () {\r\n            return this._labels;\r\n        },\r\n        set: function (labels) {\r\n            if (!labels) {\r\n                return;\r\n            }\r\n            var positions = this.getRealPositions();\r\n            this._labels = labels.map(function (label, index) {\r\n                if (!label.position) {\r\n                    label.position = positions[index];\r\n                }\r\n                return Object.assign({}, defaultLabelProps, label);\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablePolygon.prototype, \"defaultPolylineProps\", {\r\n        get: function () {\r\n            return this._defaultPolylineProps;\r\n        },\r\n        set: function (value) {\r\n            this._defaultPolylineProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablePolygon.prototype, \"defaultPointProps\", {\r\n        get: function () {\r\n            return this._defaultPointProps;\r\n        },\r\n        set: function (value) {\r\n            this._defaultPointProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablePolygon.prototype, \"polygonProps\", {\r\n        get: function () {\r\n            return this._polygonProps;\r\n        },\r\n        set: function (value) {\r\n            this._polygonProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablePolygon.prototype, \"enableEdit\", {\r\n        get: function () {\r\n            return this._enableEdit;\r\n        },\r\n        set: function (value) {\r\n            var _this = this;\r\n            this._enableEdit = value;\r\n            this.positions.forEach(function (point) {\r\n                point.show = value;\r\n                _this.updatePointsLayer(false, point);\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditablePolygon.prototype.createFromExisting = function (positions) {\r\n        var _this = this;\r\n        positions.forEach(function (position) {\r\n            _this.addPointFromExisting(position);\r\n        });\r\n        this.addAllVirtualEditPoints();\r\n        this.updatePolygonsLayer();\r\n        this.doneCreation = true;\r\n    };\r\n    EditablePolygon.prototype.setPointsManually = function (points, polygonProps) {\r\n        var _this = this;\r\n        if (!this.doneCreation) {\r\n            throw new Error('Update manually only in edit mode, after polygon is created');\r\n        }\r\n        this.positions.forEach(function (p) { return _this.pointsLayer.remove(p.getId()); });\r\n        var newPoints = [];\r\n        for (var i = 0; i < points.length; i++) {\r\n            var pointOrCartesian = points[i];\r\n            var newPoint = null;\r\n            if (pointOrCartesian.pointProps) {\r\n                newPoint = new EditPoint(this.id, pointOrCartesian.position, pointOrCartesian.pointProps);\r\n            }\r\n            else {\r\n                newPoint = new EditPoint(this.id, pointOrCartesian, this.defaultPointProps);\r\n            }\r\n            newPoints.push(newPoint);\r\n        }\r\n        this.positions = newPoints;\r\n        this.polygonProps = polygonProps ? polygonProps : this.polygonProps;\r\n        this.updatePointsLayer.apply(this, [true].concat(this.positions));\r\n        this.addAllVirtualEditPoints();\r\n        this.updatePolygonsLayer();\r\n    };\r\n    EditablePolygon.prototype.addAllVirtualEditPoints = function () {\r\n        var _this = this;\r\n        var currentPoints = this.positions.slice();\r\n        currentPoints.forEach(function (pos, index) {\r\n            var currentPoint = pos;\r\n            var nextIndex = (index + 1) % (currentPoints.length);\r\n            var nextPoint = currentPoints[nextIndex];\r\n            var midPoint = _this.setMiddleVirtualPoint(currentPoint, nextPoint);\r\n            _this.updatePointsLayer(false, midPoint);\r\n        });\r\n    };\r\n    EditablePolygon.prototype.setMiddleVirtualPoint = function (firstP, secondP) {\r\n        var currentCart = Cesium.Cartographic.fromCartesian(firstP.getPosition());\r\n        var nextCart = Cesium.Cartographic.fromCartesian(secondP.getPosition());\r\n        var midPointCartesian3 = this.coordinateConverter.midPointToCartesian3(currentCart, nextCart);\r\n        var midPoint = new EditPoint(this.id, midPointCartesian3, this.defaultPointProps);\r\n        midPoint.setVirtualEditPoint(true);\r\n        var firstIndex = this.positions.indexOf(firstP);\r\n        this.positions.splice(firstIndex + 1, 0, midPoint);\r\n        return midPoint;\r\n    };\r\n    EditablePolygon.prototype.updateMiddleVirtualPoint = function (virtualEditPoint, prevPoint, nextPoint) {\r\n        var prevPointCart = Cesium.Cartographic.fromCartesian(prevPoint.getPosition());\r\n        var nextPointCart = Cesium.Cartographic.fromCartesian(nextPoint.getPosition());\r\n        virtualEditPoint.setPosition(this.coordinateConverter.midPointToCartesian3(prevPointCart, nextPointCart));\r\n    };\r\n    EditablePolygon.prototype.changeVirtualPointToRealPoint = function (point) {\r\n        point.setVirtualEditPoint(false);\r\n        var pointsCount = this.positions.length;\r\n        var pointIndex = this.positions.indexOf(point);\r\n        var nextIndex = (pointIndex + 1) % (pointsCount);\r\n        var preIndex = ((pointIndex - 1) + pointsCount) % pointsCount;\r\n        var nextPoint = this.positions[nextIndex];\r\n        var prePoint = this.positions[preIndex];\r\n        var firstMidPoint = this.setMiddleVirtualPoint(prePoint, point);\r\n        var secMidPoint = this.setMiddleVirtualPoint(point, nextPoint);\r\n        this.updatePointsLayer(true, firstMidPoint, secMidPoint, point);\r\n        this.updatePolygonsLayer();\r\n    };\r\n    EditablePolygon.prototype.renderPolylines = function () {\r\n        var _this = this;\r\n        this.polylines.forEach(function (polyline) { return _this.polylinesLayer.remove(polyline.getId()); });\r\n        this.polylines = [];\r\n        var realPoints = this.positions.filter(function (pos) { return !pos.isVirtualEditPoint(); });\r\n        realPoints.forEach(function (point, index) {\r\n            var nextIndex = (index + 1) % (realPoints.length);\r\n            var nextPoint = realPoints[nextIndex];\r\n            var polyline = new EditPolyline(_this.id, point.getPosition(), nextPoint.getPosition(), _this.defaultPolylineProps);\r\n            _this.polylines.push(polyline);\r\n            _this.polylinesLayer.update(polyline, polyline.getId());\r\n        });\r\n    };\r\n    EditablePolygon.prototype.addPointFromExisting = function (position) {\r\n        var newPoint = new EditPoint(this.id, position, this.defaultPointProps);\r\n        this.positions.push(newPoint);\r\n        this.updatePointsLayer(true, newPoint);\r\n    };\r\n    EditablePolygon.prototype.addPoint = function (position) {\r\n        if (this.doneCreation) {\r\n            return;\r\n        }\r\n        var isFirstPoint = !this.positions.length;\r\n        if (isFirstPoint) {\r\n            var firstPoint = new EditPoint(this.id, position, this.defaultPointProps);\r\n            this.positions.push(firstPoint);\r\n            this.updatePointsLayer(true, firstPoint);\r\n        }\r\n        this.movingPoint = new EditPoint(this.id, position.clone(), this.defaultPointProps);\r\n        this.positions.push(this.movingPoint);\r\n        this.updatePointsLayer(true, this.movingPoint);\r\n        this.updatePolygonsLayer();\r\n    };\r\n    EditablePolygon.prototype.movePoint = function (toPosition, editPoint) {\r\n        editPoint.setPosition(toPosition);\r\n        this.updatePolygonsLayer();\r\n        if (this.doneCreation) {\r\n            if (editPoint.isVirtualEditPoint()) {\r\n                this.changeVirtualPointToRealPoint(editPoint);\r\n            }\r\n            var pointsCount = this.positions.length;\r\n            var pointIndex = this.positions.indexOf(editPoint);\r\n            var nextVirtualPoint = this.positions[(pointIndex + 1) % (pointsCount)];\r\n            var nextRealPoint = this.positions[(pointIndex + 2) % (pointsCount)];\r\n            var prevVirtualPoint = this.positions[((pointIndex - 1) + pointsCount) % pointsCount];\r\n            var prevRealPoint = this.positions[((pointIndex - 2) + pointsCount) % pointsCount];\r\n            this.updateMiddleVirtualPoint(nextVirtualPoint, editPoint, nextRealPoint);\r\n            this.updateMiddleVirtualPoint(prevVirtualPoint, editPoint, prevRealPoint);\r\n            this.updatePointsLayer(false, nextVirtualPoint);\r\n            this.updatePointsLayer(false, prevVirtualPoint);\r\n        }\r\n        this.updatePointsLayer(true, editPoint);\r\n    };\r\n    EditablePolygon.prototype.moveTempMovingPoint = function (toPosition) {\r\n        if (this.movingPoint) {\r\n            this.movePoint(toPosition, this.movingPoint);\r\n        }\r\n    };\r\n    EditablePolygon.prototype.movePolygon = function (startMovingPosition, draggedToPosition) {\r\n        if (!this.doneCreation) {\r\n            return;\r\n        }\r\n        if (!this.lastDraggedToPosition) {\r\n            this.lastDraggedToPosition = startMovingPosition;\r\n        }\r\n        var delta = GeoUtilsService.getPositionsDelta(this.lastDraggedToPosition, draggedToPosition);\r\n        this.positions.forEach(function (point) {\r\n            GeoUtilsService.addDeltaToPosition(point.getPosition(), delta, true);\r\n        });\r\n        this.updatePointsLayer();\r\n        this.lastDraggedToPosition = draggedToPosition;\r\n    };\r\n    EditablePolygon.prototype.endMovePolygon = function () {\r\n        var _this = this;\r\n        this.lastDraggedToPosition = undefined;\r\n        this.positions.forEach(function (point) { return _this.updatePointsLayer(true, point); });\r\n        this.updatePolygonsLayer();\r\n    };\r\n    EditablePolygon.prototype.removePoint = function (pointToRemove) {\r\n        var _this = this;\r\n        this.removePosition(pointToRemove);\r\n        this.positions\r\n            .filter(function (p) { return p.isVirtualEditPoint(); })\r\n            .forEach(function (p) { return _this.removePosition(p); });\r\n        this.addAllVirtualEditPoints();\r\n        this.renderPolylines();\r\n        if (this.getPointsCount() >= 3) {\r\n            this.polygonsLayer.update(this, this.id);\r\n        }\r\n    };\r\n    EditablePolygon.prototype.addLastPoint = function (position) {\r\n        this.doneCreation = true;\r\n        this.removePosition(this.movingPoint);\r\n        this.movingPoint = null;\r\n        this.updatePolygonsLayer();\r\n        this.addAllVirtualEditPoints();\r\n    };\r\n    EditablePolygon.prototype.getRealPositions = function () {\r\n        return this.getRealPoints().map(function (position) { return position.getPosition(); });\r\n    };\r\n    EditablePolygon.prototype.getRealPoints = function () {\r\n        var _this = this;\r\n        return this.positions.filter(function (position) { return !position.isVirtualEditPoint() && position !== _this.movingPoint; });\r\n    };\r\n    EditablePolygon.prototype.getPositions = function () {\r\n        return this.positions.map(function (position) { return position.getPosition(); });\r\n    };\r\n    EditablePolygon.prototype.getHierarchy = function () {\r\n        return new Cesium.PolygonHierarchy(this.getPositions());\r\n    };\r\n    EditablePolygon.prototype.removePosition = function (point) {\r\n        var index = this.positions.findIndex(function (p) { return p === point; });\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this.positions.splice(index, 1);\r\n        this.pointsLayer.remove(point.getId());\r\n    };\r\n    EditablePolygon.prototype.updatePolygonsLayer = function () {\r\n        if (this.getPointsCount() >= 3) {\r\n            this.polygonsLayer.update(this, this.id);\r\n        }\r\n    };\r\n    EditablePolygon.prototype.updatePointsLayer = function (renderPolylines) {\r\n        var _this = this;\r\n        if (renderPolylines === void 0) { renderPolylines = true; }\r\n        var points = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            points[_i - 1] = arguments[_i];\r\n        }\r\n        if (renderPolylines) {\r\n            this.renderPolylines();\r\n        }\r\n        points.forEach(function (p) { return _this.pointsLayer.update(p, p.getId()); });\r\n    };\r\n    EditablePolygon.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.polygonsLayer.remove(this.id);\r\n        this.positions.forEach(function (editPoint) {\r\n            _this.pointsLayer.remove(editPoint.getId());\r\n        });\r\n        this.polylines.forEach(function (line) { return _this.polylinesLayer.remove(line.getId()); });\r\n        if (this.movingPoint) {\r\n            this.pointsLayer.remove(this.movingPoint.getId());\r\n            this.movingPoint = undefined;\r\n        }\r\n        this.positions.length = 0;\r\n    };\r\n    EditablePolygon.prototype.getPointsCount = function () {\r\n        return this.positions.length;\r\n    };\r\n    EditablePolygon.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return EditablePolygon;\r\n}(AcEntity));\r\nexport { EditablePolygon };\r\n//# sourceMappingURL=editable-polygon.js.map","import { Injectable } from '@angular/core';\r\nimport { EditablePolygon } from '../../../models/editable-polygon';\r\nvar PolygonsManagerService = (function () {\r\n    function PolygonsManagerService() {\r\n        this.polygons = new Map();\r\n    }\r\n    PolygonsManagerService.prototype.createEditablePolygon = function (id, editPolygonsLayer, editPointsLayer, editPolylinesLayer, coordinateConverter, polygonOptions, positions) {\r\n        var editablePolygon = new EditablePolygon(id, editPolygonsLayer, editPointsLayer, editPolylinesLayer, coordinateConverter, polygonOptions, positions);\r\n        this.polygons.set(id, editablePolygon);\r\n    };\r\n    PolygonsManagerService.prototype.dispose = function (id) {\r\n        this.polygons.get(id).dispose();\r\n        this.polygons.delete(id);\r\n    };\r\n    PolygonsManagerService.prototype.get = function (id) {\r\n        return this.polygons.get(id);\r\n    };\r\n    PolygonsManagerService.prototype.clear = function () {\r\n        this.polygons.forEach(function (polygon) { return polygon.dispose(); });\r\n        this.polygons.clear();\r\n    };\r\n    PolygonsManagerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolygonsManagerService.ctorParameters = function () { return []; };\r\n    return PolygonsManagerService;\r\n}());\r\nexport { PolygonsManagerService };\r\n//# sourceMappingURL=polygons-manager.service.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CesiumEvent } from '../../../../angular-cesium/services/map-events-mananger/consts/cesium-event.enum';\r\nimport { PickOptions } from '../../../../angular-cesium/services/map-events-mananger/consts/pickOptions.enum';\r\nimport { EditModes } from '../../../models/edit-mode.enum';\r\nimport { EditActions } from '../../../models/edit-actions.enum';\r\nimport { EditPoint } from '../../../models/edit-point';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { EditablePolygon } from '../../../models/editable-polygon';\r\nexport var DEFAULT_POLYGON_OPTIONS = {\r\n    addPointEvent: CesiumEvent.LEFT_CLICK,\r\n    addLastPointEvent: CesiumEvent.LEFT_DOUBLE_CLICK,\r\n    removePointEvent: CesiumEvent.RIGHT_CLICK,\r\n    dragPointEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    dragShapeEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    allowDrag: true,\r\n    pointProps: {\r\n        color: Cesium.Color.WHITE,\r\n        outlineColor: Cesium.Color.BLACK,\r\n        outlineWidth: 1,\r\n        pixelSize: 15,\r\n        virtualPointPixelSize: 8,\r\n        show: true,\r\n        showVirtual: true,\r\n    },\r\n    polygonProps: {\r\n        material: new Cesium.Color(0.1, 0.5, 0.2, 0.4),\r\n    },\r\n    polylineProps: {\r\n        material: function () { return Cesium.Color.BLACK; },\r\n        width: 1,\r\n    },\r\n};\r\nvar PolygonsEditorService = (function () {\r\n    function PolygonsEditorService() {\r\n        this.updateSubject = new Subject();\r\n        this.updatePublisher = this.updateSubject.publish();\r\n        this.counter = 0;\r\n        this.observablesMap = new Map();\r\n    }\r\n    PolygonsEditorService.prototype.init = function (mapEventsManager, coordinateConverter, cameraService, polygonsManager) {\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.updatePublisher.connect();\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.cameraService = cameraService;\r\n        this.polygonsManager = polygonsManager;\r\n    };\r\n    PolygonsEditorService.prototype.onUpdate = function () {\r\n        return this.updatePublisher;\r\n    };\r\n    PolygonsEditorService.prototype.create = function (options, priority) {\r\n        var _this = this;\r\n        if (options === void 0) { options = DEFAULT_POLYGON_OPTIONS; }\r\n        if (priority === void 0) { priority = 100; }\r\n        var positions = [];\r\n        var id = this.generteId();\r\n        var polygonOptions = this.setOptions(options);\r\n        var clientEditSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.CREATE\r\n        });\r\n        var finishedCreate = false;\r\n        this.updateSubject.next({\r\n            id: id,\r\n            positions: positions,\r\n            editMode: EditModes.CREATE,\r\n            editAction: EditActions.INIT,\r\n            polygonOptions: polygonOptions,\r\n        });\r\n        var mouseMoveRegistration = this.mapEventsManager.register({\r\n            event: CesiumEvent.MOUSE_MOVE,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: priority,\r\n        });\r\n        var addPointRegistration = this.mapEventsManager.register({\r\n            event: polygonOptions.addPointEvent,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: priority,\r\n        });\r\n        var addLastPointRegistration = this.mapEventsManager.register({\r\n            event: polygonOptions.addLastPointEvent,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: priority,\r\n        });\r\n        this.observablesMap.set(id, [mouseMoveRegistration, addPointRegistration, addLastPointRegistration]);\r\n        var editorObservable = this.createEditorObservable(clientEditSubject, id);\r\n        mouseMoveRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (position) {\r\n                _this.updateSubject.next({\r\n                    id: id,\r\n                    positions: _this.getPositions(id),\r\n                    editMode: EditModes.CREATE,\r\n                    updatedPosition: position,\r\n                    editAction: EditActions.MOUSE_MOVE,\r\n                });\r\n            }\r\n        });\r\n        addPointRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            if (finishedCreate) {\r\n                return;\r\n            }\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var allPositions = _this.getPositions(id);\r\n            if (allPositions.find(function (cartesian) { return cartesian.equals(position); })) {\r\n                return;\r\n            }\r\n            var updateValue = {\r\n                id: id,\r\n                positions: allPositions,\r\n                editMode: EditModes.CREATE,\r\n                updatedPosition: position,\r\n                editAction: EditActions.ADD_POINT,\r\n            };\r\n            _this.updateSubject.next(updateValue);\r\n            clientEditSubject.next(__assign({}, updateValue, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n        });\r\n        addLastPointRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var updateValue = {\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.CREATE,\r\n                updatedPosition: position,\r\n                editAction: EditActions.ADD_LAST_POINT,\r\n            };\r\n            _this.updateSubject.next(updateValue);\r\n            clientEditSubject.next(__assign({}, updateValue, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n            var changeMode = {\r\n                id: id,\r\n                editMode: EditModes.CREATE,\r\n                editAction: EditActions.CHANGE_TO_EDIT,\r\n            };\r\n            _this.updateSubject.next(changeMode);\r\n            clientEditSubject.next(changeMode);\r\n            if (_this.observablesMap.has(id)) {\r\n                _this.observablesMap.get(id).forEach(function (registration) { return registration.dispose(); });\r\n            }\r\n            _this.observablesMap.delete(id);\r\n            _this.editPolygon(id, positions, priority, clientEditSubject, polygonOptions, editorObservable);\r\n            finishedCreate = true;\r\n        });\r\n        return editorObservable;\r\n    };\r\n    PolygonsEditorService.prototype.edit = function (positions, options, priority) {\r\n        if (options === void 0) { options = DEFAULT_POLYGON_OPTIONS; }\r\n        if (priority === void 0) { priority = 100; }\r\n        if (positions.length < 3) {\r\n            throw new Error('Polygons editor error edit(): polygon should have at least 3 positions');\r\n        }\r\n        var id = this.generteId();\r\n        var polygonOptions = this.setOptions(options);\r\n        var editSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.EDIT\r\n        });\r\n        var update = {\r\n            id: id,\r\n            positions: positions,\r\n            editMode: EditModes.EDIT,\r\n            editAction: EditActions.INIT,\r\n            polygonOptions: polygonOptions,\r\n        };\r\n        this.updateSubject.next(update);\r\n        editSubject.next(__assign({}, update, { positions: this.getPositions(id), points: this.getPoints(id) }));\r\n        return this.editPolygon(id, positions, priority, editSubject, polygonOptions);\r\n    };\r\n    PolygonsEditorService.prototype.editPolygon = function (id, positions, priority, editSubject, options, editObservable) {\r\n        var _this = this;\r\n        var pointDragRegistration = this.mapEventsManager.register({\r\n            event: options.dragPointEvent,\r\n            entityType: EditPoint,\r\n            pick: PickOptions.PICK_FIRST,\r\n            priority: priority,\r\n        });\r\n        var shapeDragRegistration;\r\n        if (options.allowDrag) {\r\n            shapeDragRegistration = this.mapEventsManager.register({\r\n                event: options.dragShapeEvent,\r\n                entityType: EditablePolygon,\r\n                pick: PickOptions.PICK_FIRST,\r\n                priority: priority,\r\n            });\r\n        }\r\n        var pointRemoveRegistration = this.mapEventsManager.register({\r\n            event: options.removePointEvent,\r\n            entityType: EditPoint,\r\n            pick: PickOptions.PICK_FIRST,\r\n            priority: priority,\r\n        });\r\n        pointDragRegistration\r\n            .do(function (_a) {\r\n            var drop = _a.movement.drop;\r\n            return _this.cameraService.enableInputs(drop);\r\n        })\r\n            .subscribe(function (_a) {\r\n            var _b = _a.movement, endPosition = _b.endPosition, drop = _b.drop, entities = _a.entities;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var point = entities[0];\r\n            var update = {\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                updatedPosition: position,\r\n                updatedPoint: point,\r\n                editAction: drop ? EditActions.DRAG_POINT_FINISH : EditActions.DRAG_POINT,\r\n            };\r\n            _this.updateSubject.next(update);\r\n            editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n        });\r\n        if (shapeDragRegistration) {\r\n            shapeDragRegistration\r\n                .do(function (_a) {\r\n                var drop = _a.movement.drop;\r\n                return _this.cameraService.enableInputs(drop);\r\n            })\r\n                .subscribe(function (_a) {\r\n                var _b = _a.movement, startPosition = _b.startPosition, endPosition = _b.endPosition, drop = _b.drop, entities = _a.entities;\r\n                var endDragPosition = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n                var startDragPosition = _this.coordinateConverter.screenToCartesian3(startPosition);\r\n                if (!endDragPosition) {\r\n                    return;\r\n                }\r\n                var update = {\r\n                    id: id,\r\n                    positions: _this.getPositions(id),\r\n                    editMode: EditModes.EDIT,\r\n                    updatedPosition: endDragPosition,\r\n                    draggedPosition: startDragPosition,\r\n                    editAction: drop ? EditActions.DRAG_SHAPE_FINISH : EditActions.DRAG_SHAPE,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n            });\r\n        }\r\n        pointRemoveRegistration.subscribe(function (_a) {\r\n            var entities = _a.entities;\r\n            var point = entities[0];\r\n            var allPositions = _this.getPositions(id).slice();\r\n            if (allPositions.length < 4) {\r\n                return;\r\n            }\r\n            var index = allPositions.findIndex(function (position) { return point.getPosition().equals(position); });\r\n            if (index < 0) {\r\n                return;\r\n            }\r\n            var update = {\r\n                id: id,\r\n                positions: allPositions,\r\n                editMode: EditModes.EDIT,\r\n                updatedPoint: point,\r\n                editAction: EditActions.REMOVE_POINT,\r\n            };\r\n            _this.updateSubject.next(update);\r\n            editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n        });\r\n        var observables = [pointDragRegistration, pointRemoveRegistration];\r\n        if (shapeDragRegistration) {\r\n            observables.push(shapeDragRegistration);\r\n        }\r\n        this.observablesMap.set(id, observables);\r\n        return editObservable || this.createEditorObservable(editSubject, id);\r\n    };\r\n    PolygonsEditorService.prototype.setOptions = function (options) {\r\n        var defaultClone = JSON.parse(JSON.stringify(DEFAULT_POLYGON_OPTIONS));\r\n        var polygonOptions = Object.assign(defaultClone, options);\r\n        polygonOptions.pointProps = Object.assign({}, DEFAULT_POLYGON_OPTIONS.pointProps, options.pointProps);\r\n        polygonOptions.polygonProps = Object.assign({}, DEFAULT_POLYGON_OPTIONS.polygonProps, options.polygonProps);\r\n        polygonOptions.polylineProps = Object.assign({}, DEFAULT_POLYGON_OPTIONS.polylineProps, options.polylineProps);\r\n        return polygonOptions;\r\n    };\r\n    PolygonsEditorService.prototype.createEditorObservable = function (observableToExtend, id) {\r\n        var _this = this;\r\n        observableToExtend.dispose = function () {\r\n            var observables = _this.observablesMap.get(id);\r\n            if (observables) {\r\n                observables.forEach(function (obs) { return obs.dispose(); });\r\n            }\r\n            _this.observablesMap.delete(id);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.DISPOSE,\r\n            });\r\n        };\r\n        observableToExtend.enable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.ENABLE,\r\n            });\r\n        };\r\n        observableToExtend.disable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.DISABLE,\r\n            });\r\n        };\r\n        observableToExtend.setManually = function (points, polygonProps) {\r\n            var polygon = _this.polygonsManager.get(id);\r\n            polygon.setPointsManually(points, polygonProps);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_MANUALLY,\r\n            });\r\n        };\r\n        observableToExtend.setLabelsRenderFn = function (callback) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_EDIT_LABELS_RENDER_CALLBACK,\r\n                labelsRenderFn: callback,\r\n            });\r\n        };\r\n        observableToExtend.updateLabels = function (labels) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.UPDATE_EDIT_LABELS,\r\n                updateLabels: labels,\r\n            });\r\n        };\r\n        observableToExtend.getCurrentPoints = function () { return _this.getPoints(id); };\r\n        observableToExtend.getEditValue = function () { return observableToExtend.getValue(); };\r\n        observableToExtend.getLabels = function () { return _this.polygonsManager.get(id).labels; };\r\n        return observableToExtend;\r\n    };\r\n    PolygonsEditorService.prototype.generteId = function () {\r\n        return 'edit-polygon-' + this.counter++;\r\n    };\r\n    PolygonsEditorService.prototype.getPositions = function (id) {\r\n        var polygon = this.polygonsManager.get(id);\r\n        return polygon.getRealPositions();\r\n    };\r\n    PolygonsEditorService.prototype.getPoints = function (id) {\r\n        var polygon = this.polygonsManager.get(id);\r\n        return polygon.getRealPoints();\r\n    };\r\n    PolygonsEditorService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolygonsEditorService.ctorParameters = function () { return []; };\r\n    return PolygonsEditorService;\r\n}());\r\nexport { PolygonsEditorService };\r\n//# sourceMappingURL=polygons-editor.service.js.map","import { Component, ViewChild } from '@angular/core';\r\nimport { EditModes } from '../../models/edit-mode.enum';\r\nimport { EditActions } from '../../models/edit-actions.enum';\r\nimport { CoordinateConverter } from '../../../angular-cesium/services/coordinate-converter/coordinate-converter.service';\r\nimport { MapEventsManagerService } from '../../../angular-cesium/services/map-events-mananger/map-events-manager';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CameraService } from '../../../angular-cesium/services/camera/camera.service';\r\nimport { PolygonsManagerService } from '../../services/entity-editors/polygons-editor/polygons-manager.service';\r\nimport { PolygonsEditorService } from '../../services/entity-editors/polygons-editor/polygons-editor.service';\r\nvar PolygonsEditorComponent = (function () {\r\n    function PolygonsEditorComponent(polygonsEditor, coordinateConverter, mapEventsManager, cameraService, polygonsManager) {\r\n        this.polygonsEditor = polygonsEditor;\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.cameraService = cameraService;\r\n        this.polygonsManager = polygonsManager;\r\n        this.Cesium = Cesium;\r\n        this.editPoints$ = new Subject();\r\n        this.editPolylines$ = new Subject();\r\n        this.editPolygons$ = new Subject();\r\n        this.appearance = new Cesium.PerInstanceColorAppearance({ flat: true });\r\n        this.attributes = { color: Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(0.2, 0.2, 0.5, 0.5)) };\r\n        this.polygonColor = new Cesium.Color(0.1, 0.5, 0.2, 0.4);\r\n        this.lineColor = new Cesium.Color(0, 0, 0, 0.6);\r\n        this.polygonsEditor.init(this.mapEventsManager, this.coordinateConverter, this.cameraService, polygonsManager);\r\n        this.startListeningToEditorUpdates();\r\n    }\r\n    PolygonsEditorComponent.prototype.startListeningToEditorUpdates = function () {\r\n        var _this = this;\r\n        this.polygonsEditor.onUpdate().subscribe(function (update) {\r\n            if (update.editMode === EditModes.CREATE || update.editMode === EditModes.CREATE_OR_EDIT) {\r\n                _this.handleCreateUpdates(update);\r\n            }\r\n            else if (update.editMode === EditModes.EDIT) {\r\n                _this.handleEditUpdates(update);\r\n            }\r\n        });\r\n    };\r\n    PolygonsEditorComponent.prototype.getLabelId = function (element, index) {\r\n        return index.toString();\r\n    };\r\n    PolygonsEditorComponent.prototype.renderEditLabels = function (polygon, update, labels) {\r\n        update.positions = polygon.getRealPositions();\r\n        update.points = polygon.getRealPoints();\r\n        if (labels) {\r\n            polygon.labels = labels;\r\n            this.editPolygonsLayer.update(polygon, polygon.getId());\r\n            return;\r\n        }\r\n        if (!this.editLabelsRenderFn) {\r\n            return;\r\n        }\r\n        polygon.labels = this.editLabelsRenderFn(update, polygon.labels);\r\n        this.editPolygonsLayer.update(polygon, polygon.getId());\r\n    };\r\n    PolygonsEditorComponent.prototype.removeEditLabels = function (polygon) {\r\n        polygon.labels = [];\r\n        this.editPolygonsLayer.update(polygon, polygon.getId());\r\n    };\r\n    PolygonsEditorComponent.prototype.handleCreateUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                this.polygonsManager.createEditablePolygon(update.id, this.editPolygonsLayer, this.editPointsLayer, this.editPolylinesLayer, this.coordinateConverter, update.polygonOptions);\r\n                break;\r\n            }\r\n            case EditActions.MOUSE_MOVE: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    polygon.moveTempMovingPoint(update.updatedPosition);\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ADD_POINT: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    polygon.addPoint(update.updatedPosition);\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ADD_LAST_POINT: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    polygon.addLastPoint(update.updatedPosition);\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISPOSE: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                polygon.dispose();\r\n                this.removeEditLabels(polygon);\r\n                this.editLabelsRenderFn = undefined;\r\n                break;\r\n            }\r\n            case EditActions.SET_EDIT_LABELS_RENDER_CALLBACK: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                this.editLabelsRenderFn = update.labelsRenderFn;\r\n                this.renderEditLabels(polygon, update);\r\n                break;\r\n            }\r\n            case EditActions.UPDATE_EDIT_LABELS: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                this.renderEditLabels(polygon, update, update.updateLabels);\r\n                break;\r\n            }\r\n            case EditActions.SET_MANUALLY: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                this.renderEditLabels(polygon, update, update.updateLabels);\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    PolygonsEditorComponent.prototype.handleEditUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                this.polygonsManager.createEditablePolygon(update.id, this.editPolygonsLayer, this.editPointsLayer, this.editPolylinesLayer, this.coordinateConverter, update.polygonOptions, update.positions);\r\n                break;\r\n            }\r\n            case EditActions.DRAG_POINT: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (polygon && polygon.enableEdit) {\r\n                    polygon.movePoint(update.updatedPosition, update.updatedPoint);\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_POINT_FINISH: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (polygon && polygon.enableEdit && update.updatedPoint.isVirtualEditPoint()) {\r\n                    polygon.changeVirtualPointToRealPoint(update.updatedPoint);\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.REMOVE_POINT: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (polygon && polygon.enableEdit) {\r\n                    polygon.removePoint(update.updatedPoint);\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISABLE: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (polygon) {\r\n                    polygon.enableEdit = false;\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (polygon && polygon.enableEdit) {\r\n                    polygon.movePolygon(update.draggedPosition, update.updatedPosition);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE_FINISH: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (polygon && polygon.enableEdit) {\r\n                    polygon.endMovePolygon();\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ENABLE: {\r\n                var polygon = this.polygonsManager.get(update.id);\r\n                if (polygon) {\r\n                    polygon.enableEdit = true;\r\n                    this.renderEditLabels(polygon, update);\r\n                }\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    PolygonsEditorComponent.prototype.ngOnDestroy = function () {\r\n        this.polygonsManager.clear();\r\n    };\r\n    PolygonsEditorComponent.prototype.getPointSize = function (point) {\r\n        return point.isVirtualEditPoint() ? point.props.virtualPointPixelSize : point.props.pixelSize;\r\n    };\r\n    PolygonsEditorComponent.prototype.getPointShow = function (point) {\r\n        return point.show && (point.isVirtualEditPoint() ? point.props.showVirtual : point.props.show);\r\n    };\r\n    PolygonsEditorComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'polygons-editor',\r\n                    templateUrl: './polygons-editor.component.html',\r\n                    providers: [CoordinateConverter, PolygonsManagerService]\r\n                },] },\r\n    ];\r\n    PolygonsEditorComponent.ctorParameters = function () { return [\r\n        { type: PolygonsEditorService, },\r\n        { type: CoordinateConverter, },\r\n        { type: MapEventsManagerService, },\r\n        { type: CameraService, },\r\n        { type: PolygonsManagerService, },\r\n    ]; };\r\n    PolygonsEditorComponent.propDecorators = {\r\n        'editPolygonsLayer': [{ type: ViewChild, args: ['editPolygonsLayer',] },],\r\n        'editPointsLayer': [{ type: ViewChild, args: ['editPointsLayer',] },],\r\n        'editPolylinesLayer': [{ type: ViewChild, args: ['editPolylinesLayer',] },],\r\n    };\r\n    return PolygonsEditorComponent;\r\n}());\r\nexport { PolygonsEditorComponent };\r\n//# sourceMappingURL=polygons-editor.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nvar EditArc = (function (_super) {\r\n    __extends(EditArc, _super);\r\n    function EditArc(entityId, center, radius, delta, angle, _arcProps) {\r\n        var _this = _super.call(this) || this;\r\n        _this._arcProps = _arcProps;\r\n        _this.id = _this.generateId();\r\n        _this.editedEntityId = entityId;\r\n        _this._center = center;\r\n        _this._radius = radius;\r\n        _this._delta = delta;\r\n        _this._angle = angle;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EditArc.prototype, \"props\", {\r\n        get: function () {\r\n            return this._arcProps;\r\n        },\r\n        set: function (props) {\r\n            this._arcProps = props;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditArc.prototype, \"angle\", {\r\n        get: function () {\r\n            return this._angle;\r\n        },\r\n        set: function (value) {\r\n            this._angle = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditArc.prototype, \"delta\", {\r\n        get: function () {\r\n            return this._delta;\r\n        },\r\n        set: function (value) {\r\n            this._delta = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditArc.prototype, \"radius\", {\r\n        get: function () {\r\n            return this._radius;\r\n        },\r\n        set: function (value) {\r\n            this._radius = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditArc.prototype, \"center\", {\r\n        get: function () {\r\n            return this._center;\r\n        },\r\n        set: function (value) {\r\n            this._center = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditArc.prototype.updateCenter = function (center) {\r\n        this._center.x = center.x;\r\n        this._center.y = center.y;\r\n        this._center.z = center.z;\r\n    };\r\n    EditArc.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    EditArc.prototype.generateId = function () {\r\n        return 'edit-arc-' + EditArc.counter++;\r\n    };\r\n    EditArc.counter = 0;\r\n    return EditArc;\r\n}(AcEntity));\r\nexport { EditArc };\r\n//# sourceMappingURL=edit-arc.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nimport { EditPoint } from './edit-point';\r\nimport { GeoUtilsService } from '../../angular-cesium/services/geo-utils/geo-utils.service';\r\nimport { EditArc } from './edit-arc';\r\nimport { defaultLabelProps } from './label-props';\r\nvar EditableCircle = (function (_super) {\r\n    __extends(EditableCircle, _super);\r\n    function EditableCircle(id, circlesLayer, pointsLayer, arcsLayer, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.circlesLayer = circlesLayer;\r\n        _this.pointsLayer = pointsLayer;\r\n        _this.arcsLayer = arcsLayer;\r\n        _this.options = options;\r\n        _this.doneCreation = false;\r\n        _this._enableEdit = true;\r\n        _this._labels = [];\r\n        _this._circleProps = options.circleProps;\r\n        _this._pointProps = options.pointProps;\r\n        _this._polylineProps = options.polylineProps;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EditableCircle.prototype, \"labels\", {\r\n        get: function () {\r\n            return this._labels;\r\n        },\r\n        set: function (labels) {\r\n            var _this = this;\r\n            if (!labels || !this._center || !this._radiusPoint) {\r\n                return;\r\n            }\r\n            this._labels = labels.map(function (label, index) {\r\n                if (!label.position) {\r\n                    if (index !== labels.length - 1) {\r\n                        label.position = _this._center.getPosition();\r\n                    }\r\n                    else {\r\n                        label.position = _this._radiusPoint.getPosition();\r\n                    }\r\n                }\r\n                return Object.assign({}, defaultLabelProps, label);\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableCircle.prototype, \"polylineProps\", {\r\n        get: function () {\r\n            return this._polylineProps;\r\n        },\r\n        set: function (value) {\r\n            this._polylineProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableCircle.prototype, \"pointProps\", {\r\n        get: function () {\r\n            return this._pointProps;\r\n        },\r\n        set: function (value) {\r\n            this._pointProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableCircle.prototype, \"circleProps\", {\r\n        get: function () {\r\n            return this._circleProps;\r\n        },\r\n        set: function (value) {\r\n            this._circleProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableCircle.prototype, \"center\", {\r\n        get: function () {\r\n            return this._center;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableCircle.prototype, \"radiusPoint\", {\r\n        get: function () {\r\n            return this._radiusPoint;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableCircle.prototype, \"enableEdit\", {\r\n        get: function () {\r\n            return this._enableEdit;\r\n        },\r\n        set: function (value) {\r\n            this._enableEdit = value;\r\n            this._center.show = value;\r\n            this._radiusPoint.show = value;\r\n            this.updatePointsLayer();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditableCircle.prototype.setManually = function (center, radiusPoint, centerPointProp, radiusPointProp, circleProp) {\r\n        if (centerPointProp === void 0) { centerPointProp = this.pointProps; }\r\n        if (radiusPointProp === void 0) { radiusPointProp = this.pointProps; }\r\n        if (circleProp === void 0) { circleProp = this.circleProps; }\r\n        if (!this._center) {\r\n            this._center = new EditPoint(this.id, center, centerPointProp);\r\n        }\r\n        else {\r\n            this._center.setPosition(center);\r\n        }\r\n        if (!this._radiusPoint) {\r\n            this._radiusPoint = new EditPoint(this.id, radiusPoint, radiusPointProp);\r\n        }\r\n        else {\r\n            this._radiusPoint.setPosition(radiusPoint);\r\n        }\r\n        if (!this._outlineArc) {\r\n            this.createOutlineArc();\r\n        }\r\n        else {\r\n            this._outlineArc.radius = this.getRadius();\r\n        }\r\n        this.circleProps = circleProp;\r\n        this.doneCreation = true;\r\n        this.updateArcsLayer();\r\n        this.updatePointsLayer();\r\n        this.updateCirclesLayer();\r\n    };\r\n    EditableCircle.prototype.addPoint = function (position) {\r\n        if (this.doneCreation) {\r\n            return;\r\n        }\r\n        if (!this._center) {\r\n            this._center = new EditPoint(this.id, position, this.pointProps);\r\n            this._radiusPoint = new EditPoint(this.id, position.clone(), this.pointProps);\r\n            if (!this._outlineArc) {\r\n                this.createOutlineArc();\r\n            }\r\n        }\r\n        this.updateArcsLayer();\r\n        this.updatePointsLayer();\r\n        this.updateCirclesLayer();\r\n    };\r\n    EditableCircle.prototype.addLastPoint = function (position) {\r\n        if (this.doneCreation || !this._center || !this._radiusPoint) {\r\n            return;\r\n        }\r\n        this._radiusPoint.setPosition(position);\r\n        this.doneCreation = true;\r\n        this.updatePointsLayer();\r\n        this.updateCirclesLayer();\r\n    };\r\n    EditableCircle.prototype.movePoint = function (toPosition) {\r\n        if (!this._center || !this._radiusPoint) {\r\n            return;\r\n        }\r\n        this._radiusPoint.setPosition(toPosition);\r\n        this._outlineArc.radius = this.getRadius();\r\n        this.updateArcsLayer();\r\n        this.updatePointsLayer();\r\n        this.updateCirclesLayer();\r\n    };\r\n    EditableCircle.prototype.moveCircle = function (dragStartPosition, dragEndPosition) {\r\n        if (!this.doneCreation) {\r\n            return;\r\n        }\r\n        if (!this.lastDraggedToPosition) {\r\n            this.lastDraggedToPosition = dragStartPosition;\r\n        }\r\n        var radius = this.getRadius();\r\n        var delta = GeoUtilsService.getPositionsDelta(this.lastDraggedToPosition, dragEndPosition);\r\n        GeoUtilsService.addDeltaToPosition(this.getCenter(), delta, true);\r\n        this.radiusPoint.setPosition(GeoUtilsService.pointByLocationDistanceAndAzimuth(this.getCenter(), radius, Math.PI / 2, true));\r\n        this._outlineArc.radius = this.getRadius();\r\n        this.updateArcsLayer();\r\n        this.updatePointsLayer();\r\n        this.updateCirclesLayer();\r\n        this.lastDraggedToPosition = dragEndPosition;\r\n    };\r\n    EditableCircle.prototype.endMovePolygon = function () {\r\n        this.lastDraggedToPosition = undefined;\r\n    };\r\n    EditableCircle.prototype.getRadius = function () {\r\n        if (!this._center || !this._radiusPoint) {\r\n            return 0;\r\n        }\r\n        return GeoUtilsService.distance(this._center.getPosition(), this._radiusPoint.getPosition());\r\n    };\r\n    EditableCircle.prototype.getCenter = function () {\r\n        return this._center ? this._center.getPosition() : undefined;\r\n    };\r\n    EditableCircle.prototype.getRadiusPoint = function () {\r\n        return this._radiusPoint ? this._radiusPoint.getPosition() : undefined;\r\n    };\r\n    EditableCircle.prototype.dispose = function () {\r\n        if (this._center) {\r\n            this.pointsLayer.remove(this._center.getId());\r\n        }\r\n        if (this._radiusPoint) {\r\n            this.pointsLayer.remove(this._radiusPoint.getId());\r\n        }\r\n        if (this._outlineArc) {\r\n            this.arcsLayer.remove(this._outlineArc.getId());\r\n        }\r\n        this.circlesLayer.remove(this.id);\r\n    };\r\n    EditableCircle.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    EditableCircle.prototype.updateCirclesLayer = function () {\r\n        this.circlesLayer.update(this, this.id);\r\n    };\r\n    EditableCircle.prototype.updatePointsLayer = function () {\r\n        if (this._center) {\r\n            this.pointsLayer.update(this._center, this._center.getId());\r\n        }\r\n        if (this._radiusPoint) {\r\n            this.pointsLayer.update(this._radiusPoint, this._radiusPoint.getId());\r\n        }\r\n    };\r\n    EditableCircle.prototype.updateArcsLayer = function () {\r\n        if (!this._outlineArc) {\r\n            return;\r\n        }\r\n        this.arcsLayer.update(this._outlineArc, this._outlineArc.getId());\r\n    };\r\n    EditableCircle.prototype.createOutlineArc = function () {\r\n        if (!this._center || !this._radiusPoint) {\r\n            return;\r\n        }\r\n        this._outlineArc = new EditArc(this.id, this.getCenter(), this.getRadius(), Math.PI * 2, 0, this.polylineProps);\r\n    };\r\n    return EditableCircle;\r\n}(AcEntity));\r\nexport { EditableCircle };\r\n//# sourceMappingURL=editable-circle.js.map","import { Injectable } from '@angular/core';\r\nimport { EditableCircle } from '../../../models/editable-circle';\r\nvar CirclesManagerService = (function () {\r\n    function CirclesManagerService() {\r\n        this.circles = new Map();\r\n    }\r\n    CirclesManagerService.prototype.createEditableCircle = function (id, editCirclesLayer, editPointsLayer, editArcsLayer, circleOptions) {\r\n        var editableCircle = new EditableCircle(id, editCirclesLayer, editPointsLayer, editArcsLayer, circleOptions);\r\n        this.circles.set(id, editableCircle);\r\n        return editableCircle;\r\n    };\r\n    CirclesManagerService.prototype.dispose = function (id) {\r\n        this.circles.get(id).dispose();\r\n        this.circles.delete(id);\r\n    };\r\n    CirclesManagerService.prototype.get = function (id) {\r\n        return this.circles.get(id);\r\n    };\r\n    CirclesManagerService.prototype.clear = function () {\r\n        this.circles.forEach(function (circle) { return circle.dispose(); });\r\n        this.circles.clear();\r\n    };\r\n    CirclesManagerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CirclesManagerService.ctorParameters = function () { return []; };\r\n    return CirclesManagerService;\r\n}());\r\nexport { CirclesManagerService };\r\n//# sourceMappingURL=circles-manager.service.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CesiumEvent } from '../../../../angular-cesium/services/map-events-mananger/consts/cesium-event.enum';\r\nimport { PickOptions } from '../../../../angular-cesium/services/map-events-mananger/consts/pickOptions.enum';\r\nimport { EditModes } from '../../../models/edit-mode.enum';\r\nimport { EditActions } from '../../../models/edit-actions.enum';\r\nimport { EditPoint } from '../../../models/edit-point';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { GeoUtilsService } from '../../../../angular-cesium/services/geo-utils/geo-utils.service';\r\nimport { EditableCircle } from '../../../models/editable-circle';\r\nexport var DEFAULT_CIRCLE_OPTIONS = {\r\n    addPointEvent: CesiumEvent.LEFT_CLICK,\r\n    dragPointEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    dragShapeEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    allowDrag: true,\r\n    circleProps: {\r\n        material: Cesium.Color.GREEN.withAlpha(0.5),\r\n        outline: false,\r\n        outlineWidth: 1,\r\n        outlineColor: Cesium.Color.BLACK,\r\n    },\r\n    pointProps: {\r\n        color: Cesium.Color.WHITE,\r\n        outlineColor: Cesium.Color.BLACK,\r\n        outlineWidth: 1,\r\n        pixelSize: 15,\r\n        virtualPointPixelSize: 8,\r\n        show: true,\r\n        showVirtual: true,\r\n    },\r\n    polylineProps: {\r\n        width: 1,\r\n        material: function () { return Cesium.Color.BLACK; },\r\n    }\r\n};\r\nvar CirclesEditorService = (function () {\r\n    function CirclesEditorService() {\r\n        this.updateSubject = new Subject();\r\n        this.updatePublisher = this.updateSubject.publish();\r\n        this.counter = 0;\r\n        this.observablesMap = new Map();\r\n    }\r\n    CirclesEditorService.prototype.init = function (mapEventsManager, coordinateConverter, cameraService, circlesManager) {\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.updatePublisher.connect();\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.cameraService = cameraService;\r\n        this.circlesManager = circlesManager;\r\n    };\r\n    CirclesEditorService.prototype.onUpdate = function () {\r\n        return this.updatePublisher;\r\n    };\r\n    CirclesEditorService.prototype.create = function (options, priority) {\r\n        var _this = this;\r\n        if (options === void 0) { options = DEFAULT_CIRCLE_OPTIONS; }\r\n        if (priority === void 0) { priority = 100; }\r\n        var center = undefined;\r\n        var id = this.generteId();\r\n        var circleOptions = this.setOptions(options);\r\n        var clientEditSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.CREATE\r\n        });\r\n        var finishedCreate = false;\r\n        this.updateSubject.next({\r\n            id: id,\r\n            editMode: EditModes.CREATE,\r\n            editAction: EditActions.INIT,\r\n            circleOptions: circleOptions,\r\n        });\r\n        var mouseMoveRegistration = this.mapEventsManager.register({\r\n            event: CesiumEvent.MOUSE_MOVE,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: priority,\r\n        });\r\n        var addPointRegistration = this.mapEventsManager.register({\r\n            event: CesiumEvent.LEFT_CLICK,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: priority,\r\n        });\r\n        this.observablesMap.set(id, [mouseMoveRegistration, addPointRegistration]);\r\n        var editorObservable = this.createEditorObservable(clientEditSubject, id);\r\n        addPointRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            if (finishedCreate) {\r\n                return;\r\n            }\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            if (!center) {\r\n                var update = {\r\n                    id: id,\r\n                    center: position,\r\n                    editMode: EditModes.CREATE,\r\n                    editAction: EditActions.ADD_POINT,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                clientEditSubject.next(__assign({}, update, _this.getCircleProperties(id)));\r\n                center = position;\r\n            }\r\n            else {\r\n                var update = {\r\n                    id: id,\r\n                    center: center,\r\n                    radiusPoint: position,\r\n                    editMode: EditModes.CREATE,\r\n                    editAction: EditActions.ADD_LAST_POINT,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                clientEditSubject.next(__assign({}, update, _this.getCircleProperties(id)));\r\n                var changeMode = {\r\n                    id: id,\r\n                    center: center,\r\n                    radiusPoint: position,\r\n                    editMode: EditModes.CREATE,\r\n                    editAction: EditActions.CHANGE_TO_EDIT,\r\n                };\r\n                _this.updateSubject.next(changeMode);\r\n                clientEditSubject.next(__assign({}, update, _this.getCircleProperties(id)));\r\n                if (_this.observablesMap.has(id)) {\r\n                    _this.observablesMap.get(id).forEach(function (registration) { return registration.dispose(); });\r\n                }\r\n                _this.observablesMap.delete(id);\r\n                _this.editCircle(id, priority, clientEditSubject, circleOptions, editorObservable);\r\n                finishedCreate = true;\r\n            }\r\n        });\r\n        mouseMoveRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            if (!center) {\r\n                return;\r\n            }\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (position) {\r\n                var update = {\r\n                    id: id,\r\n                    center: center,\r\n                    radiusPoint: position,\r\n                    editMode: EditModes.CREATE,\r\n                    editAction: EditActions.MOUSE_MOVE,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                clientEditSubject.next(__assign({}, update, _this.getCircleProperties(id)));\r\n            }\r\n        });\r\n        return editorObservable;\r\n    };\r\n    CirclesEditorService.prototype.edit = function (center, radius, options, priority) {\r\n        if (options === void 0) { options = DEFAULT_CIRCLE_OPTIONS; }\r\n        if (priority === void 0) { priority = 100; }\r\n        var id = this.generteId();\r\n        var circleOptions = this.setOptions(options);\r\n        var editSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.EDIT\r\n        });\r\n        var radiusPoint = GeoUtilsService.pointByLocationDistanceAndAzimuth(center, radius, Math.PI / 2, true);\r\n        var update = {\r\n            id: id,\r\n            center: center,\r\n            radiusPoint: radiusPoint,\r\n            editMode: EditModes.EDIT,\r\n            editAction: EditActions.INIT,\r\n            circleOptions: circleOptions,\r\n        };\r\n        this.updateSubject.next(update);\r\n        editSubject.next(__assign({}, update, this.getCircleProperties(id)));\r\n        return this.editCircle(id, priority, editSubject, circleOptions);\r\n    };\r\n    CirclesEditorService.prototype.editCircle = function (id, priority, editSubject, options, editObservable) {\r\n        var _this = this;\r\n        var pointDragRegistration = this.mapEventsManager.register({\r\n            event: CesiumEvent.LEFT_CLICK_DRAG,\r\n            entityType: EditPoint,\r\n            pick: PickOptions.PICK_FIRST,\r\n            priority: priority,\r\n        });\r\n        var shapeDragRegistration;\r\n        if (options.allowDrag) {\r\n            shapeDragRegistration = this.mapEventsManager.register({\r\n                event: CesiumEvent.LEFT_CLICK_DRAG,\r\n                entityType: EditableCircle,\r\n                pick: PickOptions.PICK_FIRST,\r\n                priority: priority,\r\n            });\r\n        }\r\n        pointDragRegistration\r\n            .do(function (_a) {\r\n            var drop = _a.movement.drop;\r\n            return _this.cameraService.enableInputs(drop);\r\n        })\r\n            .subscribe(function (_a) {\r\n            var _b = _a.movement, endPosition = _b.endPosition, startPosition = _b.startPosition, drop = _b.drop, entities = _a.entities;\r\n            var startDragPosition = _this.coordinateConverter.screenToCartesian3(startPosition);\r\n            var endDragPosition = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!endDragPosition) {\r\n                return;\r\n            }\r\n            var point = entities[0];\r\n            var pointIsCenter = point === _this.getCenterPoint(id);\r\n            var editAction;\r\n            if (drop) {\r\n                editAction = pointIsCenter ? EditActions.DRAG_SHAPE_FINISH : EditActions.DRAG_POINT_FINISH;\r\n            }\r\n            else {\r\n                editAction = pointIsCenter ? EditActions.DRAG_SHAPE : EditActions.DRAG_POINT;\r\n            }\r\n            if (!options.allowDrag && (editAction === EditActions.DRAG_SHAPE || editAction === EditActions.DRAG_SHAPE_FINISH)) {\r\n                _this.cameraService.enableInputs(true);\r\n                return;\r\n            }\r\n            var update = {\r\n                id: id,\r\n                center: _this.getCenterPosition(id),\r\n                radiusPoint: _this.getRadiusPosition(id),\r\n                startDragPosition: startDragPosition,\r\n                endDragPosition: endDragPosition,\r\n                editMode: EditModes.EDIT,\r\n                editAction: editAction,\r\n            };\r\n            _this.updateSubject.next(update);\r\n            editSubject.next(__assign({}, update, _this.getCircleProperties(id)));\r\n        });\r\n        if (shapeDragRegistration) {\r\n            shapeDragRegistration\r\n                .do(function (_a) {\r\n                var drop = _a.movement.drop;\r\n                return _this.cameraService.enableInputs(drop);\r\n            })\r\n                .subscribe(function (_a) {\r\n                var _b = _a.movement, startPosition = _b.startPosition, endPosition = _b.endPosition, drop = _b.drop;\r\n                var startDragPosition = _this.coordinateConverter.screenToCartesian3(startPosition);\r\n                var endDragPosition = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n                if (!endDragPosition || !startDragPosition) {\r\n                    return;\r\n                }\r\n                var update = {\r\n                    id: id,\r\n                    center: _this.getCenterPosition(id),\r\n                    radiusPoint: _this.getRadiusPosition(id),\r\n                    startDragPosition: startDragPosition,\r\n                    endDragPosition: endDragPosition,\r\n                    editMode: EditModes.EDIT,\r\n                    editAction: drop ? EditActions.DRAG_SHAPE_FINISH : EditActions.DRAG_SHAPE,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                editSubject.next(__assign({}, update, _this.getCircleProperties(id)));\r\n            });\r\n        }\r\n        var observables = [pointDragRegistration];\r\n        if (shapeDragRegistration) {\r\n            observables.push(shapeDragRegistration);\r\n        }\r\n        this.observablesMap.set(id, observables);\r\n        return editObservable || this.createEditorObservable(editSubject, id);\r\n    };\r\n    CirclesEditorService.prototype.createEditorObservable = function (observableToExtend, id) {\r\n        var _this = this;\r\n        observableToExtend.dispose = function () {\r\n            var observables = _this.observablesMap.get(id);\r\n            if (observables) {\r\n                observables.forEach(function (obs) { return obs.dispose(); });\r\n            }\r\n            _this.observablesMap.delete(id);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                center: _this.getCenterPosition(id),\r\n                radiusPoint: _this.getRadiusPosition(id),\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.DISPOSE,\r\n            });\r\n        };\r\n        observableToExtend.enable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                center: _this.getCenterPosition(id),\r\n                radiusPoint: _this.getRadiusPosition(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.ENABLE,\r\n            });\r\n        };\r\n        observableToExtend.disable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                center: _this.getCenterPosition(id),\r\n                radiusPoint: _this.getRadiusPosition(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.DISABLE,\r\n            });\r\n        };\r\n        observableToExtend.setManually = function (center, radius, centerPointProp, radiusPointProp, circleProp) {\r\n            var radiusPoint = GeoUtilsService.pointByLocationDistanceAndAzimuth(center, radius, Math.PI / 2, true);\r\n            var circle = _this.circlesManager.get(id);\r\n            circle.setManually(center, radiusPoint, centerPointProp, radiusPointProp, circleProp);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_MANUALLY,\r\n            });\r\n        };\r\n        observableToExtend.setLabelsRenderFn = function (callback) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_EDIT_LABELS_RENDER_CALLBACK,\r\n                labelsRenderFn: callback,\r\n            });\r\n        };\r\n        observableToExtend.updateLabels = function (labels) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.UPDATE_EDIT_LABELS,\r\n                updateLabels: labels,\r\n            });\r\n        };\r\n        observableToExtend.getEditValue = function () { return observableToExtend.getValue(); };\r\n        observableToExtend.getLabels = function () { return _this.circlesManager.get(id).labels; };\r\n        observableToExtend.getCenter = function () { return _this.getCenterPosition(id); };\r\n        observableToExtend.getRadius = function () { return _this.getRadius(id); };\r\n        return observableToExtend;\r\n    };\r\n    CirclesEditorService.prototype.setOptions = function (options) {\r\n        var defaultClone = JSON.parse(JSON.stringify(DEFAULT_CIRCLE_OPTIONS));\r\n        var circleOptions = Object.assign(defaultClone, options);\r\n        circleOptions.pointProps = Object.assign({}, DEFAULT_CIRCLE_OPTIONS.pointProps, options.pointProps);\r\n        circleOptions.circleProps = Object.assign({}, DEFAULT_CIRCLE_OPTIONS.circleProps, options.circleProps);\r\n        circleOptions.polylineProps = Object.assign({}, DEFAULT_CIRCLE_OPTIONS.polylineProps, options.polylineProps);\r\n        return circleOptions;\r\n    };\r\n    CirclesEditorService.prototype.getCenterPosition = function (id) {\r\n        return this.circlesManager.get(id).getCenter();\r\n    };\r\n    CirclesEditorService.prototype.getCenterPoint = function (id) {\r\n        return this.circlesManager.get(id).center;\r\n    };\r\n    CirclesEditorService.prototype.getRadiusPosition = function (id) {\r\n        return this.circlesManager.get(id).getRadiusPoint();\r\n    };\r\n    CirclesEditorService.prototype.getRadius = function (id) {\r\n        return this.circlesManager.get(id).getRadius();\r\n    };\r\n    CirclesEditorService.prototype.getCircleProperties = function (id) {\r\n        var circle = this.circlesManager.get(id);\r\n        return {\r\n            center: circle.getCenter(),\r\n            radiusPoint: circle.getRadiusPoint(),\r\n            radius: circle.getRadius()\r\n        };\r\n    };\r\n    CirclesEditorService.prototype.generteId = function () {\r\n        return 'edit-circle-' + this.counter++;\r\n    };\r\n    CirclesEditorService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    CirclesEditorService.ctorParameters = function () { return []; };\r\n    return CirclesEditorService;\r\n}());\r\nexport { CirclesEditorService };\r\n//# sourceMappingURL=circles-editor.service.js.map","import { Component, ViewChild } from '@angular/core';\r\nimport { EditModes } from '../../models/edit-mode.enum';\r\nimport { EditActions } from '../../models/edit-actions.enum';\r\nimport { CoordinateConverter } from '../../../angular-cesium/services/coordinate-converter/coordinate-converter.service';\r\nimport { MapEventsManagerService } from '../../../angular-cesium/services/map-events-mananger/map-events-manager';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CameraService } from '../../../angular-cesium/services/camera/camera.service';\r\nimport { CirclesManagerService } from '../../services/entity-editors/circles-editor/circles-manager.service';\r\nimport { CirclesEditorService } from '../../services/entity-editors/circles-editor/circles-editor.service';\r\nvar CirclesEditorComponent = (function () {\r\n    function CirclesEditorComponent(circlesEditor, coordinateConverter, mapEventsManager, cameraService, circlesManager) {\r\n        this.circlesEditor = circlesEditor;\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.cameraService = cameraService;\r\n        this.circlesManager = circlesManager;\r\n        this.Cesium = Cesium;\r\n        this.editPoints$ = new Subject();\r\n        this.editCircles$ = new Subject();\r\n        this.editArcs$ = new Subject();\r\n        this.circlesEditor.init(this.mapEventsManager, this.coordinateConverter, this.cameraService, this.circlesManager);\r\n        this.startListeningToEditorUpdates();\r\n    }\r\n    CirclesEditorComponent.prototype.startListeningToEditorUpdates = function () {\r\n        var _this = this;\r\n        this.circlesEditor.onUpdate().subscribe(function (update) {\r\n            if (update.editMode === EditModes.CREATE || update.editMode === EditModes.CREATE_OR_EDIT) {\r\n                _this.handleCreateUpdates(update);\r\n            }\r\n            else if (update.editMode === EditModes.EDIT) {\r\n                _this.handleEditUpdates(update);\r\n            }\r\n        });\r\n    };\r\n    CirclesEditorComponent.prototype.getLabelId = function (element, index) {\r\n        return index.toString();\r\n    };\r\n    CirclesEditorComponent.prototype.renderEditLabels = function (circle, update, labels) {\r\n        update.center = circle.getCenter();\r\n        update.radiusPoint = circle.getRadiusPoint();\r\n        update.radius = circle.getRadius();\r\n        if (labels) {\r\n            circle.labels = labels;\r\n            this.editCirclesLayer.update(circle, circle.getId());\r\n            return;\r\n        }\r\n        if (!this.editLabelsRenderFn) {\r\n            return;\r\n        }\r\n        circle.labels = this.editLabelsRenderFn(update, circle.labels);\r\n        this.editCirclesLayer.update(circle, circle.getId());\r\n    };\r\n    CirclesEditorComponent.prototype.removeEditLabels = function (circle) {\r\n        circle.labels = [];\r\n        this.editCirclesLayer.update(circle, circle.getId());\r\n    };\r\n    CirclesEditorComponent.prototype.handleCreateUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                this.circlesManager.createEditableCircle(update.id, this.editCirclesLayer, this.editPointsLayer, this.editArcsLayer, update.circleOptions);\r\n                break;\r\n            }\r\n            case EditActions.MOUSE_MOVE: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (update.radiusPoint) {\r\n                    circle.movePoint(update.radiusPoint);\r\n                    this.renderEditLabels(circle, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ADD_POINT: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (update.center) {\r\n                    circle.addPoint(update.center);\r\n                    this.renderEditLabels(circle, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ADD_LAST_POINT: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (update.radiusPoint) {\r\n                    circle.addLastPoint(update.radiusPoint);\r\n                    this.renderEditLabels(circle, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISPOSE: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                this.removeEditLabels(circle);\r\n                this.circlesManager.dispose(update.id);\r\n                break;\r\n            }\r\n            case EditActions.SET_EDIT_LABELS_RENDER_CALLBACK: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                this.editLabelsRenderFn = update.labelsRenderFn;\r\n                this.renderEditLabels(circle, update);\r\n                break;\r\n            }\r\n            case EditActions.UPDATE_EDIT_LABELS: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                this.renderEditLabels(circle, update, update.updateLabels);\r\n                break;\r\n            }\r\n            case EditActions.SET_MANUALLY: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                this.renderEditLabels(circle, update, update.updateLabels);\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    CirclesEditorComponent.prototype.handleEditUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                var circle = this.circlesManager.createEditableCircle(update.id, this.editCirclesLayer, this.editPointsLayer, this.editArcsLayer, update.circleOptions);\r\n                circle.setManually(update.center, update.radiusPoint);\r\n                break;\r\n            }\r\n            case EditActions.DRAG_POINT_FINISH:\r\n            case EditActions.DRAG_POINT: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (circle && circle.enableEdit) {\r\n                    circle.movePoint(update.endDragPosition);\r\n                    this.renderEditLabels(circle, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (circle && circle.enableEdit) {\r\n                    circle.moveCircle(update.startDragPosition, update.endDragPosition);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE_FINISH: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (circle && circle.enableEdit) {\r\n                    circle.endMovePolygon();\r\n                    this.renderEditLabels(circle, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISABLE: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (circle) {\r\n                    circle.enableEdit = false;\r\n                    this.renderEditLabels(circle, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ENABLE: {\r\n                var circle = this.circlesManager.get(update.id);\r\n                if (circle) {\r\n                    circle.enableEdit = true;\r\n                    this.renderEditLabels(circle, update);\r\n                }\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    CirclesEditorComponent.prototype.ngOnDestroy = function () {\r\n        this.circlesManager.clear();\r\n    };\r\n    CirclesEditorComponent.prototype.getPointSize = function (point) {\r\n        return point.isVirtualEditPoint() ? point.props.virtualPointPixelSize : point.props.pixelSize;\r\n    };\r\n    CirclesEditorComponent.prototype.getPointShow = function (point) {\r\n        return point.show && (point.isVirtualEditPoint() ? point.props.showVirtual : point.props.show);\r\n    };\r\n    CirclesEditorComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'circles-editor',\r\n                    templateUrl: './circles-editor.component.html',\r\n                    providers: [CoordinateConverter, CirclesManagerService]\r\n                },] },\r\n    ];\r\n    CirclesEditorComponent.ctorParameters = function () { return [\r\n        { type: CirclesEditorService, },\r\n        { type: CoordinateConverter, },\r\n        { type: MapEventsManagerService, },\r\n        { type: CameraService, },\r\n        { type: CirclesManagerService, },\r\n    ]; };\r\n    CirclesEditorComponent.propDecorators = {\r\n        'editCirclesLayer': [{ type: ViewChild, args: ['editCirclesLayer',] },],\r\n        'editArcsLayer': [{ type: ViewChild, args: ['editArcsLayer',] },],\r\n        'editPointsLayer': [{ type: ViewChild, args: ['editPointsLayer',] },],\r\n    };\r\n    return CirclesEditorComponent;\r\n}());\r\nexport { CirclesEditorComponent };\r\n//# sourceMappingURL=circles-editor.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nimport { EditPoint } from './edit-point';\r\nimport { EditPolyline } from './edit-polyline';\r\nimport { GeoUtilsService } from '../../angular-cesium/services/geo-utils/geo-utils.service';\r\nimport { defaultLabelProps } from './label-props';\r\nvar EditablePolyline = (function (_super) {\r\n    __extends(EditablePolyline, _super);\r\n    function EditablePolyline(id, pointsLayer, polylinesLayer, coordinateConverter, editOptions, positions) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.pointsLayer = pointsLayer;\r\n        _this.polylinesLayer = polylinesLayer;\r\n        _this.coordinateConverter = coordinateConverter;\r\n        _this.editOptions = editOptions;\r\n        _this.positions = [];\r\n        _this.polylines = [];\r\n        _this.doneCreation = false;\r\n        _this._enableEdit = true;\r\n        _this._labels = [];\r\n        _this._pointProps = editOptions.pointProps;\r\n        _this.props = editOptions.polylineProps;\r\n        if (positions && positions.length >= 2) {\r\n            _this.createFromExisting(positions);\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EditablePolyline.prototype, \"labels\", {\r\n        get: function () {\r\n            return this._labels;\r\n        },\r\n        set: function (labels) {\r\n            if (!labels) {\r\n                return;\r\n            }\r\n            var positions = this.getRealPositions();\r\n            this._labels = labels.map(function (label, index) {\r\n                if (!label.position) {\r\n                    label.position = positions[index];\r\n                }\r\n                return Object.assign({}, defaultLabelProps, label);\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablePolyline.prototype, \"props\", {\r\n        get: function () {\r\n            return this.polylineProps;\r\n        },\r\n        set: function (value) {\r\n            this.polylineProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablePolyline.prototype, \"pointProps\", {\r\n        get: function () {\r\n            return this._pointProps;\r\n        },\r\n        set: function (value) {\r\n            this._pointProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditablePolyline.prototype, \"enableEdit\", {\r\n        get: function () {\r\n            return this._enableEdit;\r\n        },\r\n        set: function (value) {\r\n            var _this = this;\r\n            this._enableEdit = value;\r\n            this.positions.forEach(function (point) {\r\n                point.show = value;\r\n                _this.updatePointsLayer(false, point);\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditablePolyline.prototype.createFromExisting = function (positions) {\r\n        var _this = this;\r\n        positions.forEach(function (position) {\r\n            _this.addPointFromExisting(position);\r\n        });\r\n        this.addAllVirtualEditPoints();\r\n        this.doneCreation = true;\r\n    };\r\n    EditablePolyline.prototype.setManually = function (points, polylineProps) {\r\n        var _this = this;\r\n        if (!this.doneCreation) {\r\n            throw new Error('Update manually only in edit mode, after polyline is created');\r\n        }\r\n        this.positions.forEach(function (p) { return _this.pointsLayer.remove(p.getId()); });\r\n        var newPoints = [];\r\n        for (var i = 0; i < points.length; i++) {\r\n            var pointOrCartesian = points[i];\r\n            var newPoint = null;\r\n            if (pointOrCartesian.pointProps) {\r\n                newPoint = new EditPoint(this.id, pointOrCartesian.position, pointOrCartesian.pointProps);\r\n            }\r\n            else {\r\n                newPoint = new EditPoint(this.id, pointOrCartesian, this._pointProps);\r\n            }\r\n            newPoints.push(newPoint);\r\n        }\r\n        this.positions = newPoints;\r\n        this.polylineProps = polylineProps ? polylineProps : this.polylineProps;\r\n        this.updatePointsLayer.apply(this, [true].concat(this.positions));\r\n        this.addAllVirtualEditPoints();\r\n    };\r\n    EditablePolyline.prototype.addAllVirtualEditPoints = function () {\r\n        var _this = this;\r\n        var currentPoints = this.positions.slice();\r\n        currentPoints.forEach(function (pos, index) {\r\n            if (index !== currentPoints.length - 1) {\r\n                var currentPoint = pos;\r\n                var nextIndex = (index + 1) % (currentPoints.length);\r\n                var nextPoint = currentPoints[nextIndex];\r\n                var midPoint = _this.setMiddleVirtualPoint(currentPoint, nextPoint);\r\n                _this.updatePointsLayer(false, midPoint);\r\n            }\r\n        });\r\n    };\r\n    EditablePolyline.prototype.setMiddleVirtualPoint = function (firstP, secondP) {\r\n        var currentCart = Cesium.Cartographic.fromCartesian(firstP.getPosition());\r\n        var nextCart = Cesium.Cartographic.fromCartesian(secondP.getPosition());\r\n        var midPointCartesian3 = this.coordinateConverter.midPointToCartesian3(currentCart, nextCart);\r\n        var midPoint = new EditPoint(this.id, midPointCartesian3, this._pointProps);\r\n        midPoint.setVirtualEditPoint(true);\r\n        var firstIndex = this.positions.indexOf(firstP);\r\n        this.positions.splice(firstIndex + 1, 0, midPoint);\r\n        return midPoint;\r\n    };\r\n    EditablePolyline.prototype.updateMiddleVirtualPoint = function (virtualEditPoint, prevPoint, nextPoint) {\r\n        var prevPointCart = Cesium.Cartographic.fromCartesian(prevPoint.getPosition());\r\n        var nextPointCart = Cesium.Cartographic.fromCartesian(nextPoint.getPosition());\r\n        virtualEditPoint.setPosition(this.coordinateConverter.midPointToCartesian3(prevPointCart, nextPointCart));\r\n    };\r\n    EditablePolyline.prototype.changeVirtualPointToRealPoint = function (point) {\r\n        point.setVirtualEditPoint(false);\r\n        var pointsCount = this.positions.length;\r\n        var pointIndex = this.positions.indexOf(point);\r\n        var nextIndex = (pointIndex + 1) % (pointsCount);\r\n        var preIndex = ((pointIndex - 1) + pointsCount) % pointsCount;\r\n        var nextPoint = this.positions[nextIndex];\r\n        var prePoint = this.positions[preIndex];\r\n        var firstMidPoint = this.setMiddleVirtualPoint(prePoint, point);\r\n        var secMidPoint = this.setMiddleVirtualPoint(point, nextPoint);\r\n        this.updatePointsLayer(false, firstMidPoint, secMidPoint, point);\r\n    };\r\n    EditablePolyline.prototype.renderPolylines = function () {\r\n        var _this = this;\r\n        this.polylines.forEach(function (polyline) { return _this.polylinesLayer.remove(polyline.getId()); });\r\n        this.polylines = [];\r\n        var realPoints = this.positions.filter(function (point) { return !point.isVirtualEditPoint(); });\r\n        realPoints.forEach(function (point, index) {\r\n            if (index !== realPoints.length - 1) {\r\n                var nextIndex = (index + 1);\r\n                var nextPoint = realPoints[nextIndex];\r\n                var polyline = new EditPolyline(_this.id, point.getPosition(), nextPoint.getPosition(), _this.polylineProps);\r\n                _this.polylines.push(polyline);\r\n                _this.polylinesLayer.update(polyline, polyline.getId());\r\n            }\r\n        });\r\n    };\r\n    EditablePolyline.prototype.addPointFromExisting = function (position) {\r\n        var newPoint = new EditPoint(this.id, position, this._pointProps);\r\n        this.positions.push(newPoint);\r\n        this.updatePointsLayer(true, newPoint);\r\n    };\r\n    EditablePolyline.prototype.addPoint = function (position) {\r\n        if (this.doneCreation) {\r\n            return;\r\n        }\r\n        var isFirstPoint = !this.positions.length;\r\n        if (isFirstPoint) {\r\n            var firstPoint = new EditPoint(this.id, position, this._pointProps);\r\n            this.positions.push(firstPoint);\r\n            this.updatePointsLayer(true, firstPoint);\r\n        }\r\n        this.movingPoint = new EditPoint(this.id, position.clone(), this._pointProps);\r\n        this.positions.push(this.movingPoint);\r\n        this.updatePointsLayer(true, this.movingPoint);\r\n    };\r\n    EditablePolyline.prototype.movePoint = function (toPosition, editPoint) {\r\n        editPoint.setPosition(toPosition);\r\n        if (this.doneCreation) {\r\n            if (editPoint.isVirtualEditPoint()) {\r\n                this.changeVirtualPointToRealPoint(editPoint);\r\n            }\r\n            var pointsCount = this.positions.length;\r\n            var pointIndex = this.positions.indexOf(editPoint);\r\n            if (pointIndex < this.positions.length - 1) {\r\n                var nextVirtualPoint = this.positions[(pointIndex + 1) % (pointsCount)];\r\n                var nextRealPoint = this.positions[(pointIndex + 2) % (pointsCount)];\r\n                this.updateMiddleVirtualPoint(nextVirtualPoint, editPoint, nextRealPoint);\r\n                this.updatePointsLayer(false, nextVirtualPoint);\r\n            }\r\n            if (pointIndex > 0) {\r\n                var prevVirtualPoint = this.positions[((pointIndex - 1) + pointsCount) % pointsCount];\r\n                var prevRealPoint = this.positions[((pointIndex - 2) + pointsCount) % pointsCount];\r\n                this.updateMiddleVirtualPoint(prevVirtualPoint, editPoint, prevRealPoint);\r\n                this.updatePointsLayer(false, prevVirtualPoint);\r\n            }\r\n        }\r\n        this.updatePointsLayer(true, editPoint);\r\n    };\r\n    EditablePolyline.prototype.moveTempMovingPoint = function (toPosition) {\r\n        if (this.movingPoint) {\r\n            this.movePoint(toPosition, this.movingPoint);\r\n        }\r\n    };\r\n    EditablePolyline.prototype.moveShape = function (startMovingPosition, draggedToPosition) {\r\n        if (!this.doneCreation) {\r\n            return;\r\n        }\r\n        if (!this.lastDraggedToPosition) {\r\n            this.lastDraggedToPosition = startMovingPosition;\r\n        }\r\n        var delta = GeoUtilsService.getPositionsDelta(this.lastDraggedToPosition, draggedToPosition);\r\n        this.positions.forEach(function (point) {\r\n            GeoUtilsService.addDeltaToPosition(point.getPosition(), delta, true);\r\n        });\r\n        this.updatePointsLayer.apply(this, [true].concat(this.positions));\r\n        this.lastDraggedToPosition = draggedToPosition;\r\n    };\r\n    EditablePolyline.prototype.endMoveShape = function () {\r\n        this.lastDraggedToPosition = undefined;\r\n        this.updatePointsLayer.apply(this, [true].concat(this.positions));\r\n    };\r\n    EditablePolyline.prototype.removePoint = function (pointToRemove) {\r\n        var _this = this;\r\n        this.removePosition(pointToRemove);\r\n        this.positions\r\n            .filter(function (p) { return p.isVirtualEditPoint(); })\r\n            .forEach(function (p) { return _this.removePosition(p); });\r\n        this.addAllVirtualEditPoints();\r\n        this.renderPolylines();\r\n    };\r\n    EditablePolyline.prototype.addLastPoint = function (position) {\r\n        this.doneCreation = true;\r\n        this.removePosition(this.movingPoint);\r\n        this.movingPoint = null;\r\n        this.addAllVirtualEditPoints();\r\n    };\r\n    EditablePolyline.prototype.getRealPositions = function () {\r\n        return this.getRealPoints()\r\n            .map(function (position) { return position.getPosition(); });\r\n    };\r\n    EditablePolyline.prototype.getRealPoints = function () {\r\n        var _this = this;\r\n        return this.positions\r\n            .filter(function (position) { return !position.isVirtualEditPoint() && position !== _this.movingPoint; });\r\n    };\r\n    EditablePolyline.prototype.getPositions = function () {\r\n        return this.positions.map(function (position) { return position.getPosition(); });\r\n    };\r\n    EditablePolyline.prototype.removePosition = function (point) {\r\n        var index = this.positions.findIndex(function (p) { return p === point; });\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this.positions.splice(index, 1);\r\n        this.pointsLayer.remove(point.getId());\r\n    };\r\n    EditablePolyline.prototype.updatePointsLayer = function (renderPolylines) {\r\n        var _this = this;\r\n        if (renderPolylines === void 0) { renderPolylines = true; }\r\n        var point = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            point[_i - 1] = arguments[_i];\r\n        }\r\n        if (renderPolylines) {\r\n            this.renderPolylines();\r\n        }\r\n        point.forEach(function (p) { return _this.pointsLayer.update(p, p.getId()); });\r\n    };\r\n    EditablePolyline.prototype.update = function () {\r\n        this.updatePointsLayer();\r\n    };\r\n    EditablePolyline.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.positions.forEach(function (editPoint) {\r\n            _this.pointsLayer.remove(editPoint.getId());\r\n        });\r\n        this.polylines.forEach(function (line) { return _this.polylinesLayer.remove(line.getId()); });\r\n        if (this.movingPoint) {\r\n            this.pointsLayer.remove(this.movingPoint.getId());\r\n            this.movingPoint = undefined;\r\n        }\r\n        this.positions.length = 0;\r\n    };\r\n    EditablePolyline.prototype.getPointsCount = function () {\r\n        return this.positions.length;\r\n    };\r\n    EditablePolyline.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return EditablePolyline;\r\n}(AcEntity));\r\nexport { EditablePolyline };\r\n//# sourceMappingURL=editable-polyline.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Observable } from 'rxjs/Observable';\r\nvar EditorObservable = (function (_super) {\r\n    __extends(EditorObservable, _super);\r\n    function EditorObservable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return EditorObservable;\r\n}(Observable));\r\nexport { EditorObservable };\r\n//# sourceMappingURL=editor-observable.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EditorObservable } from './editor-observable';\r\nvar PolygonEditorObservable = (function (_super) {\r\n    __extends(PolygonEditorObservable, _super);\r\n    function PolygonEditorObservable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return PolygonEditorObservable;\r\n}(EditorObservable));\r\nexport { PolygonEditorObservable };\r\n//# sourceMappingURL=polygon-editor-observable.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EditorObservable } from './editor-observable';\r\nvar CircleEditorObservable = (function (_super) {\r\n    __extends(CircleEditorObservable, _super);\r\n    function CircleEditorObservable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return CircleEditorObservable;\r\n}(EditorObservable));\r\nexport { CircleEditorObservable };\r\n//# sourceMappingURL=circle-editor-observable.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CesiumEvent } from '../../../../angular-cesium/services/map-events-mananger/consts/cesium-event.enum';\r\nimport { PickOptions } from '../../../../angular-cesium/services/map-events-mananger/consts/pickOptions.enum';\r\nimport { EditModes } from '../../../models/edit-mode.enum';\r\nimport { EditActions } from '../../../models/edit-actions.enum';\r\nimport { EditPoint } from '../../../models/edit-point';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { EditPolyline } from '../../../models';\r\nexport var DEFAULT_POLYLINE_OPTIONS = {\r\n    addPointEvent: CesiumEvent.LEFT_CLICK,\r\n    addLastPointEvent: CesiumEvent.LEFT_DOUBLE_CLICK,\r\n    removePointEvent: CesiumEvent.RIGHT_CLICK,\r\n    dragPointEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    dragShapeEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    allowDrag: true,\r\n    pointProps: {\r\n        color: Cesium.Color.WHITE,\r\n        outlineColor: Cesium.Color.BLACK,\r\n        outlineWidth: 1,\r\n        pixelSize: 15,\r\n        virtualPointPixelSize: 8,\r\n        show: true,\r\n        showVirtual: true,\r\n    },\r\n    polylineProps: {\r\n        material: function () { return Cesium.Color.BLACK; },\r\n        width: 3,\r\n    },\r\n};\r\nvar PolylinesEditorService = (function () {\r\n    function PolylinesEditorService() {\r\n        this.updateSubject = new Subject();\r\n        this.updatePublisher = this.updateSubject.publish();\r\n        this.counter = 0;\r\n        this.observablesMap = new Map();\r\n    }\r\n    PolylinesEditorService.prototype.init = function (mapEventsManager, coordinateConverter, cameraService, polylinesManager) {\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.updatePublisher.connect();\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.cameraService = cameraService;\r\n        this.polylinesManager = polylinesManager;\r\n    };\r\n    PolylinesEditorService.prototype.onUpdate = function () {\r\n        return this.updatePublisher;\r\n    };\r\n    PolylinesEditorService.prototype.create = function (options, eventPriority) {\r\n        var _this = this;\r\n        if (options === void 0) { options = DEFAULT_POLYLINE_OPTIONS; }\r\n        if (eventPriority === void 0) { eventPriority = 100; }\r\n        var positions = [];\r\n        var id = this.generteId();\r\n        var polylineOptions = this.setOptions(options);\r\n        var clientEditSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.CREATE\r\n        });\r\n        var finishedCreate = false;\r\n        this.updateSubject.next({\r\n            id: id,\r\n            positions: positions,\r\n            editMode: EditModes.CREATE,\r\n            editAction: EditActions.INIT,\r\n            polylineOptions: polylineOptions,\r\n        });\r\n        var mouseMoveRegistration = this.mapEventsManager.register({\r\n            event: CesiumEvent.MOUSE_MOVE,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: eventPriority,\r\n        });\r\n        var addPointRegistration = this.mapEventsManager.register({\r\n            event: polylineOptions.addPointEvent,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: eventPriority,\r\n        });\r\n        var addLastPointRegistration = this.mapEventsManager.register({\r\n            event: polylineOptions.addLastPointEvent,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: eventPriority,\r\n        });\r\n        this.observablesMap.set(id, [mouseMoveRegistration, addPointRegistration, addLastPointRegistration]);\r\n        var editorObservable = this.createEditorObservable(clientEditSubject, id);\r\n        mouseMoveRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (position) {\r\n                _this.updateSubject.next({\r\n                    id: id,\r\n                    positions: _this.getPositions(id),\r\n                    editMode: EditModes.CREATE,\r\n                    updatedPosition: position,\r\n                    editAction: EditActions.MOUSE_MOVE,\r\n                });\r\n            }\r\n        });\r\n        addPointRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            if (finishedCreate) {\r\n                return;\r\n            }\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var allPositions = _this.getPositions(id);\r\n            if (allPositions.find(function (cartesian) { return cartesian.equals(position); })) {\r\n                return;\r\n            }\r\n            var updateValue = {\r\n                id: id,\r\n                positions: allPositions,\r\n                editMode: EditModes.CREATE,\r\n                updatedPosition: position,\r\n                editAction: EditActions.ADD_POINT,\r\n            };\r\n            _this.updateSubject.next(updateValue);\r\n            clientEditSubject.next(__assign({}, updateValue, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n            if (polylineOptions.maximumNumberOfPoints && allPositions.length + 1 === polylineOptions.maximumNumberOfPoints) {\r\n                var update = {\r\n                    id: id,\r\n                    positions: _this.getPositions(id),\r\n                    editMode: EditModes.CREATE,\r\n                    updatedPosition: position,\r\n                    editAction: EditActions.ADD_LAST_POINT,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                clientEditSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n                var changeMode = {\r\n                    id: id,\r\n                    editMode: EditModes.CREATE,\r\n                    editAction: EditActions.CHANGE_TO_EDIT,\r\n                };\r\n                _this.updateSubject.next(changeMode);\r\n                clientEditSubject.next(changeMode);\r\n                if (_this.observablesMap.has(id)) {\r\n                    _this.observablesMap.get(id).forEach(function (registration) { return registration.dispose(); });\r\n                }\r\n                _this.observablesMap.delete(id);\r\n                _this.editPolyline(id, positions, eventPriority, clientEditSubject, polylineOptions, editorObservable);\r\n                finishedCreate = true;\r\n            }\r\n        });\r\n        addLastPointRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var updateValue = {\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.CREATE,\r\n                updatedPosition: position,\r\n                editAction: EditActions.ADD_LAST_POINT,\r\n            };\r\n            _this.updateSubject.next(updateValue);\r\n            clientEditSubject.next(__assign({}, updateValue, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n            var changeMode = {\r\n                id: id,\r\n                editMode: EditModes.CREATE,\r\n                editAction: EditActions.CHANGE_TO_EDIT,\r\n            };\r\n            _this.updateSubject.next(changeMode);\r\n            clientEditSubject.next(changeMode);\r\n            if (_this.observablesMap.has(id)) {\r\n                _this.observablesMap.get(id).forEach(function (registration) { return registration.dispose(); });\r\n            }\r\n            _this.observablesMap.delete(id);\r\n            _this.editPolyline(id, positions, eventPriority, clientEditSubject, polylineOptions, editorObservable);\r\n            finishedCreate = true;\r\n        });\r\n        return editorObservable;\r\n    };\r\n    PolylinesEditorService.prototype.edit = function (positions, options, priority) {\r\n        if (options === void 0) { options = DEFAULT_POLYLINE_OPTIONS; }\r\n        if (priority === void 0) { priority = 100; }\r\n        if (positions.length < 2) {\r\n            throw new Error('Polylines editor error edit(): polyline should have at least 2 positions');\r\n        }\r\n        var id = this.generteId();\r\n        var polylineOptions = this.setOptions(options);\r\n        var editSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.EDIT\r\n        });\r\n        var update = {\r\n            id: id,\r\n            positions: positions,\r\n            editMode: EditModes.EDIT,\r\n            editAction: EditActions.INIT,\r\n            polylineOptions: polylineOptions,\r\n        };\r\n        this.updateSubject.next(update);\r\n        editSubject.next(__assign({}, update, { positions: this.getPositions(id), points: this.getPoints(id) }));\r\n        return this.editPolyline(id, positions, priority, editSubject, polylineOptions);\r\n    };\r\n    PolylinesEditorService.prototype.editPolyline = function (id, positions, priority, editSubject, options, editObservable) {\r\n        var _this = this;\r\n        var pointDragRegistration = this.mapEventsManager.register({\r\n            event: options.dragPointEvent,\r\n            entityType: EditPoint,\r\n            pick: PickOptions.PICK_FIRST,\r\n            priority: priority,\r\n        });\r\n        var pointRemoveRegistration = this.mapEventsManager.register({\r\n            event: options.removePointEvent,\r\n            entityType: EditPoint,\r\n            pick: PickOptions.PICK_FIRST,\r\n            priority: priority,\r\n        });\r\n        var shapeDragRegistration;\r\n        if (options.allowDrag) {\r\n            shapeDragRegistration = this.mapEventsManager.register({\r\n                event: options.dragShapeEvent,\r\n                entityType: EditPolyline,\r\n                pick: PickOptions.PICK_FIRST,\r\n                priority: priority,\r\n            });\r\n        }\r\n        if (shapeDragRegistration) {\r\n            shapeDragRegistration\r\n                .do(function (x) { return console.log(x); })\r\n                .do(function (_a) {\r\n                var drop = _a.movement.drop;\r\n                return _this.cameraService.enableInputs(drop);\r\n            })\r\n                .subscribe(function (_a) {\r\n                var _b = _a.movement, startPosition = _b.startPosition, endPosition = _b.endPosition, drop = _b.drop, entities = _a.entities;\r\n                var endDragPosition = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n                var startDragPosition = _this.coordinateConverter.screenToCartesian3(startPosition);\r\n                if (!endDragPosition) {\r\n                    return;\r\n                }\r\n                var update = {\r\n                    id: id,\r\n                    positions: _this.getPositions(id),\r\n                    editMode: EditModes.EDIT,\r\n                    updatedPosition: endDragPosition,\r\n                    draggedPosition: startDragPosition,\r\n                    editAction: drop ? EditActions.DRAG_SHAPE_FINISH : EditActions.DRAG_SHAPE,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n            });\r\n        }\r\n        pointDragRegistration\r\n            .do(function (_a) {\r\n            var drop = _a.movement.drop;\r\n            return _this.cameraService.enableInputs(drop);\r\n        })\r\n            .subscribe(function (_a) {\r\n            var _b = _a.movement, endPosition = _b.endPosition, drop = _b.drop, entities = _a.entities;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var point = entities[0];\r\n            var update = {\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                updatedPosition: position,\r\n                updatedPoint: point,\r\n                editAction: drop ? EditActions.DRAG_POINT_FINISH : EditActions.DRAG_POINT,\r\n            };\r\n            _this.updateSubject.next(update);\r\n            editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n        });\r\n        pointRemoveRegistration.subscribe(function (_a) {\r\n            var entities = _a.entities;\r\n            var point = entities[0];\r\n            var allPositions = _this.getPositions(id).slice();\r\n            if (allPositions.length < 3) {\r\n                return;\r\n            }\r\n            var index = allPositions.findIndex(function (position) { return point.getPosition().equals(position); });\r\n            if (index < 0) {\r\n                return;\r\n            }\r\n            var update = {\r\n                id: id,\r\n                positions: allPositions,\r\n                editMode: EditModes.EDIT,\r\n                updatedPoint: point,\r\n                editAction: EditActions.REMOVE_POINT,\r\n            };\r\n            _this.updateSubject.next(update);\r\n            editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id) }));\r\n        });\r\n        var observables = [pointDragRegistration, pointRemoveRegistration];\r\n        if (shapeDragRegistration) {\r\n            observables.push(shapeDragRegistration);\r\n        }\r\n        this.observablesMap.set(id, observables);\r\n        return this.createEditorObservable(editSubject, id);\r\n    };\r\n    PolylinesEditorService.prototype.setOptions = function (options) {\r\n        var defaultClone = JSON.parse(JSON.stringify(DEFAULT_POLYLINE_OPTIONS));\r\n        var polylineOptions = Object.assign(defaultClone, options);\r\n        polylineOptions.pointProps = Object.assign({}, DEFAULT_POLYLINE_OPTIONS.pointProps, options.pointProps);\r\n        polylineOptions.polylineProps = Object.assign({}, DEFAULT_POLYLINE_OPTIONS.polylineProps, options.polylineProps);\r\n        return polylineOptions;\r\n    };\r\n    PolylinesEditorService.prototype.createEditorObservable = function (observableToExtend, id) {\r\n        var _this = this;\r\n        observableToExtend.dispose = function () {\r\n            var observables = _this.observablesMap.get(id);\r\n            if (observables) {\r\n                observables.forEach(function (obs) { return obs.dispose(); });\r\n            }\r\n            _this.observablesMap.delete(id);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.DISPOSE,\r\n            });\r\n        };\r\n        observableToExtend.enable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.ENABLE,\r\n            });\r\n        };\r\n        observableToExtend.disable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.DISABLE,\r\n            });\r\n        };\r\n        observableToExtend.setManually = function (points, polylineProps) {\r\n            var polyline = _this.polylinesManager.get(id);\r\n            polyline.setManually(points, polylineProps);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_MANUALLY,\r\n            });\r\n        };\r\n        observableToExtend.setLabelsRenderFn = function (callback) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_EDIT_LABELS_RENDER_CALLBACK,\r\n                labelsRenderFn: callback,\r\n            });\r\n        };\r\n        observableToExtend.updateLabels = function (labels) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.UPDATE_EDIT_LABELS,\r\n                updateLabels: labels,\r\n            });\r\n        };\r\n        observableToExtend.getCurrentPoints = function () { return _this.getPoints(id); };\r\n        observableToExtend.getEditValue = function () { return observableToExtend.getValue(); };\r\n        observableToExtend.getLabels = function () { return _this.polylinesManager.get(id).labels; };\r\n        return observableToExtend;\r\n    };\r\n    PolylinesEditorService.prototype.generteId = function () {\r\n        return 'edit-polyline-' + this.counter++;\r\n    };\r\n    PolylinesEditorService.prototype.getPositions = function (id) {\r\n        var polyline = this.polylinesManager.get(id);\r\n        return polyline.getRealPositions();\r\n    };\r\n    PolylinesEditorService.prototype.getPoints = function (id) {\r\n        var polyline = this.polylinesManager.get(id);\r\n        return polyline.getRealPoints();\r\n    };\r\n    PolylinesEditorService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolylinesEditorService.ctorParameters = function () { return []; };\r\n    return PolylinesEditorService;\r\n}());\r\nexport { PolylinesEditorService };\r\n//# sourceMappingURL=polylines-editor.service.js.map","import { Injectable } from '@angular/core';\r\nimport { EditablePolyline } from '../../../models/editable-polyline';\r\nvar PolylinesManagerService = (function () {\r\n    function PolylinesManagerService() {\r\n        this.polylines = new Map();\r\n    }\r\n    PolylinesManagerService.prototype.createEditablePolyline = function (id, editPolylinesLayer, editPointsLayer, coordinateConverter, polylineOptions, positions) {\r\n        var editablePolyline = new EditablePolyline(id, editPolylinesLayer, editPointsLayer, coordinateConverter, polylineOptions, positions);\r\n        this.polylines.set(id, editablePolyline);\r\n    };\r\n    PolylinesManagerService.prototype.get = function (id) {\r\n        return this.polylines.get(id);\r\n    };\r\n    PolylinesManagerService.prototype.clear = function () {\r\n        this.polylines.forEach(function (polyline) { return polyline.dispose(); });\r\n        this.polylines.clear();\r\n    };\r\n    PolylinesManagerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    PolylinesManagerService.ctorParameters = function () { return []; };\r\n    return PolylinesManagerService;\r\n}());\r\nexport { PolylinesManagerService };\r\n//# sourceMappingURL=polylines-manager.service.js.map","import { Component, ViewChild } from '@angular/core';\r\nimport { EditModes } from '../../models/edit-mode.enum';\r\nimport { EditActions } from '../../models/edit-actions.enum';\r\nimport { CoordinateConverter } from '../../../angular-cesium/services/coordinate-converter/coordinate-converter.service';\r\nimport { MapEventsManagerService } from '../../../angular-cesium/services/map-events-mananger/map-events-manager';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CameraService } from '../../../angular-cesium/services/camera/camera.service';\r\nimport { PolylinesEditorService } from '../../services/entity-editors/polyline-editor/polylines-editor.service';\r\nimport { PolylinesManagerService } from '../../services/entity-editors/polyline-editor/polylines-manager.service';\r\nvar PolylinesEditorComponent = (function () {\r\n    function PolylinesEditorComponent(polylinesEditor, coordinateConverter, mapEventsManager, cameraService, polylinesManager) {\r\n        this.polylinesEditor = polylinesEditor;\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.cameraService = cameraService;\r\n        this.polylinesManager = polylinesManager;\r\n        this.Cesium = Cesium;\r\n        this.editPoints$ = new Subject();\r\n        this.editPolylines$ = new Subject();\r\n        this.polylineLabels$ = new Subject();\r\n        this.polylinesEditor.init(this.mapEventsManager, this.coordinateConverter, this.cameraService, polylinesManager);\r\n        this.startListeningToEditorUpdates();\r\n    }\r\n    PolylinesEditorComponent.prototype.startListeningToEditorUpdates = function () {\r\n        var _this = this;\r\n        this.polylinesEditor.onUpdate().subscribe(function (update) {\r\n            if (update.editMode === EditModes.CREATE || update.editMode === EditModes.CREATE_OR_EDIT) {\r\n                _this.handleCreateUpdates(update);\r\n            }\r\n            else if (update.editMode === EditModes.EDIT) {\r\n                _this.handleEditUpdates(update);\r\n            }\r\n        });\r\n    };\r\n    PolylinesEditorComponent.prototype.getLabelId = function (element, index) {\r\n        return index.toString();\r\n    };\r\n    PolylinesEditorComponent.prototype.renderEditLabels = function (polyline, update, labels) {\r\n        update.positions = polyline.getRealPositions();\r\n        update.points = polyline.getRealPoints();\r\n        if (labels) {\r\n            polyline.labels = labels;\r\n            this.polylineLabelsLayer.update(polyline, polyline.getId());\r\n            return;\r\n        }\r\n        if (!this.editLabelsRenderFn) {\r\n            return;\r\n        }\r\n        polyline.labels = this.editLabelsRenderFn(update, polyline.labels);\r\n        this.polylineLabelsLayer.update(polyline, polyline.getId());\r\n    };\r\n    PolylinesEditorComponent.prototype.removeEditLabels = function (polyline) {\r\n        polyline.labels = [];\r\n        this.polylineLabelsLayer.remove(polyline.getId());\r\n    };\r\n    PolylinesEditorComponent.prototype.handleCreateUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                this.polylinesManager.createEditablePolyline(update.id, this.editPointsLayer, this.editPolylinesLayer, this.coordinateConverter, update.polylineOptions);\r\n                break;\r\n            }\r\n            case EditActions.MOUSE_MOVE: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    polyline.moveTempMovingPoint(update.updatedPosition);\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ADD_POINT: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    polyline.addPoint(update.updatedPosition);\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ADD_LAST_POINT: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    polyline.addLastPoint(update.updatedPosition);\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISPOSE: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                polyline.dispose();\r\n                this.removeEditLabels(polyline);\r\n                this.editLabelsRenderFn = undefined;\r\n                break;\r\n            }\r\n            case EditActions.SET_EDIT_LABELS_RENDER_CALLBACK: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                this.editLabelsRenderFn = update.labelsRenderFn;\r\n                this.renderEditLabels(polyline, update);\r\n                break;\r\n            }\r\n            case EditActions.UPDATE_EDIT_LABELS: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                this.renderEditLabels(polyline, update, update.updateLabels);\r\n                break;\r\n            }\r\n            case EditActions.SET_MANUALLY: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                this.renderEditLabels(polyline, update, update.updateLabels);\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    PolylinesEditorComponent.prototype.handleEditUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                this.polylinesManager.createEditablePolyline(update.id, this.editPointsLayer, this.editPolylinesLayer, this.coordinateConverter, update.polylineOptions, update.positions);\r\n                break;\r\n            }\r\n            case EditActions.DRAG_POINT: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (polyline && polyline.enableEdit) {\r\n                    polyline.movePoint(update.updatedPosition, update.updatedPoint);\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_POINT_FINISH: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (polyline && polyline.enableEdit && update.updatedPoint.isVirtualEditPoint()) {\r\n                    polyline.changeVirtualPointToRealPoint(update.updatedPoint);\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.REMOVE_POINT: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (polyline && polyline.enableEdit) {\r\n                    polyline.removePoint(update.updatedPoint);\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISABLE: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (polyline) {\r\n                    polyline.enableEdit = false;\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ENABLE: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (polyline) {\r\n                    polyline.enableEdit = true;\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (polyline && polyline.enableEdit) {\r\n                    polyline.moveShape(update.draggedPosition, update.updatedPosition);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE_FINISH: {\r\n                var polyline = this.polylinesManager.get(update.id);\r\n                if (polyline && polyline.enableEdit) {\r\n                    polyline.endMoveShape();\r\n                    this.renderEditLabels(polyline, update);\r\n                }\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    PolylinesEditorComponent.prototype.ngOnDestroy = function () {\r\n        this.polylinesManager.clear();\r\n    };\r\n    PolylinesEditorComponent.prototype.getPointSize = function (point) {\r\n        return point.isVirtualEditPoint() ? point.props.virtualPointPixelSize : point.props.pixelSize;\r\n    };\r\n    PolylinesEditorComponent.prototype.getPointShow = function (point) {\r\n        return point.show && (point.isVirtualEditPoint() ? point.props.showVirtual : point.props.show);\r\n    };\r\n    PolylinesEditorComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'polylines-editor',\r\n                    templateUrl: './polylines-editor.component.html',\r\n                    providers: [CoordinateConverter, PolylinesManagerService]\r\n                },] },\r\n    ];\r\n    PolylinesEditorComponent.ctorParameters = function () { return [\r\n        { type: PolylinesEditorService, },\r\n        { type: CoordinateConverter, },\r\n        { type: MapEventsManagerService, },\r\n        { type: CameraService, },\r\n        { type: PolylinesManagerService, },\r\n    ]; };\r\n    PolylinesEditorComponent.propDecorators = {\r\n        'editPointsLayer': [{ type: ViewChild, args: ['editPointsLayer',] },],\r\n        'editPolylinesLayer': [{ type: ViewChild, args: ['editPolylinesLayer',] },],\r\n        'polylineLabelsLayer': [{ type: ViewChild, args: ['polylineLabelsLayer',] },],\r\n    };\r\n    return PolylinesEditorComponent;\r\n}());\r\nexport { PolylinesEditorComponent };\r\n//# sourceMappingURL=polylines-editor.component.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nimport { EditPoint } from './edit-point';\r\nimport { GeoUtilsService } from '../../angular-cesium/services/geo-utils/geo-utils.service';\r\nimport { defaultLabelProps } from './label-props';\r\nvar EditableHippodrome = (function (_super) {\r\n    __extends(EditableHippodrome, _super);\r\n    function EditableHippodrome(id, pointsLayer, hippodromeLayer, coordinateConverter, editOptions, positions) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = id;\r\n        _this.pointsLayer = pointsLayer;\r\n        _this.hippodromeLayer = hippodromeLayer;\r\n        _this.coordinateConverter = coordinateConverter;\r\n        _this.positions = [];\r\n        _this.done = false;\r\n        _this._enableEdit = true;\r\n        _this._labels = [];\r\n        _this.defaultPointProps = editOptions.pointProps;\r\n        _this.hippodromeProps = editOptions.hippodromeProps;\r\n        if (positions && positions.length === 2) {\r\n            _this.createFromExisting(positions);\r\n        }\r\n        else if (positions) {\r\n            throw new Error('Hippodrome consist of 2 points but provided ' + positions.length);\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EditableHippodrome.prototype, \"labels\", {\r\n        get: function () {\r\n            return this._labels;\r\n        },\r\n        set: function (labels) {\r\n            if (!labels) {\r\n                return;\r\n            }\r\n            var positions = this.getRealPositions();\r\n            this._labels = labels.map(function (label, index) {\r\n                if (!label.position) {\r\n                    label.position = positions[index];\r\n                }\r\n                return Object.assign({}, defaultLabelProps, label);\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableHippodrome.prototype, \"hippodromeProps\", {\r\n        get: function () {\r\n            return this._hippodromeProps;\r\n        },\r\n        set: function (value) {\r\n            this._hippodromeProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableHippodrome.prototype, \"defaultPointProps\", {\r\n        get: function () {\r\n            return this._defaultPointProps;\r\n        },\r\n        set: function (value) {\r\n            this._defaultPointProps = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EditableHippodrome.prototype, \"enableEdit\", {\r\n        get: function () {\r\n            return this._enableEdit;\r\n        },\r\n        set: function (value) {\r\n            var _this = this;\r\n            this._enableEdit = value;\r\n            this.positions.forEach(function (point) {\r\n                point.show = value;\r\n                _this.updatePointsLayer(point);\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EditableHippodrome.prototype.createFromExisting = function (positions) {\r\n        var _this = this;\r\n        positions.forEach(function (position) {\r\n            _this.addPointFromExisting(position);\r\n        });\r\n        this.createHeightEditPoints();\r\n        this.updateHippdromeLayer();\r\n        this.updatePointsLayer.apply(this, this.positions);\r\n        this.done = true;\r\n    };\r\n    EditableHippodrome.prototype.setPointsManually = function (points, widthMeters) {\r\n        var _this = this;\r\n        if (!this.done) {\r\n            throw new Error('Update manually only in edit mode, after polyline is created');\r\n        }\r\n        this.hippodromeProps.width = widthMeters ? widthMeters : this.hippodromeProps.width;\r\n        this.positions.forEach(function (p) { return _this.pointsLayer.remove(p.getId()); });\r\n        this.positions = points;\r\n        this.createHeightEditPoints();\r\n        this.updatePointsLayer.apply(this, points);\r\n        this.updateHippdromeLayer();\r\n    };\r\n    EditableHippodrome.prototype.addPointFromExisting = function (position) {\r\n        var newPoint = new EditPoint(this.id, position, this.defaultPointProps);\r\n        this.positions.push(newPoint);\r\n        this.updatePointsLayer(newPoint);\r\n    };\r\n    EditableHippodrome.prototype.addPoint = function (position) {\r\n        if (this.done) {\r\n            return;\r\n        }\r\n        var isFirstPoint = !this.positions.length;\r\n        if (isFirstPoint) {\r\n            var firstPoint = new EditPoint(this.id, position, this.defaultPointProps);\r\n            this.positions.push(firstPoint);\r\n            this.movingPoint = new EditPoint(this.id, position.clone(), this.defaultPointProps);\r\n            this.positions.push(this.movingPoint);\r\n            this.updatePointsLayer(firstPoint);\r\n        }\r\n        else {\r\n            this.createHeightEditPoints();\r\n            this.updatePointsLayer.apply(this, this.positions);\r\n            this.updateHippdromeLayer();\r\n            this.done = true;\r\n            this.movingPoint = null;\r\n        }\r\n    };\r\n    EditableHippodrome.prototype.createHeightEditPoints = function () {\r\n        var _this = this;\r\n        this.positions\r\n            .filter(function (p) { return p.isVirtualEditPoint(); })\r\n            .forEach(function (p) { return _this.removePosition(p); });\r\n        var firstP = this.getRealPoints()[0];\r\n        var secP = this.getRealPoints()[1];\r\n        var midPointCartesian3 = Cesium.Cartesian3.lerp(firstP.getPosition(), secP.getPosition(), 0.5, new Cesium.Cartesian3());\r\n        var bearingDeg = this.coordinateConverter.bearingToCartesian(firstP.getPosition(), secP.getPosition());\r\n        var upAzimuth = Cesium.Math.toRadians(bearingDeg) - Math.PI / 2;\r\n        this.createMiddleEditablePoint(midPointCartesian3, upAzimuth);\r\n        var downAzimuth = Cesium.Math.toRadians(bearingDeg) + Math.PI / 2;\r\n        this.createMiddleEditablePoint(midPointCartesian3, downAzimuth);\r\n    };\r\n    EditableHippodrome.prototype.createMiddleEditablePoint = function (midPointCartesian3, azimuth) {\r\n        var upEditCartesian3 = GeoUtilsService.pointByLocationDistanceAndAzimuth(midPointCartesian3, this.hippodromeProps.width / 2, azimuth, true);\r\n        var midPoint = new EditPoint(this.id, upEditCartesian3, this.defaultPointProps);\r\n        midPoint.setVirtualEditPoint(true);\r\n        this.positions.push(midPoint);\r\n    };\r\n    EditableHippodrome.prototype.movePoint = function (toPosition, editPoint) {\r\n        if (!editPoint.isVirtualEditPoint()) {\r\n            editPoint.setPosition(toPosition);\r\n            this.updatePointsLayer.apply(this, this.positions);\r\n            this.updateHippdromeLayer();\r\n        }\r\n        else {\r\n            this.changeWidthByNewPoint(toPosition);\r\n        }\r\n    };\r\n    EditableHippodrome.prototype.changeWidthByNewPoint = function (toPosition) {\r\n        var firstP = this.getRealPoints()[0];\r\n        var secP = this.getRealPoints()[1];\r\n        var midPointCartesian3 = Cesium.Cartesian3.lerp(firstP.getPosition(), secP.getPosition(), 0.5, new Cesium.Cartesian3());\r\n        var bearingDeg = this.coordinateConverter.bearingToCartesian(midPointCartesian3, toPosition);\r\n        var normalizedBearingDeb = bearingDeg;\r\n        if (bearingDeg > 270) {\r\n            normalizedBearingDeb = bearingDeg - 270;\r\n        }\r\n        else if (bearingDeg > 180) {\r\n            normalizedBearingDeb = bearingDeg - 180;\r\n        }\r\n        var bearingDegHippodromeDots = this.coordinateConverter.bearingToCartesian(firstP.getPosition(), secP.getPosition());\r\n        if (bearingDegHippodromeDots > 180) {\r\n            bearingDegHippodromeDots = this.coordinateConverter.bearingToCartesian(secP.getPosition(), firstP.getPosition());\r\n        }\r\n        var fixedBearingDeg = bearingDegHippodromeDots > normalizedBearingDeb ?\r\n            bearingDegHippodromeDots - normalizedBearingDeb :\r\n            normalizedBearingDeb - bearingDegHippodromeDots;\r\n        if (bearingDeg > 270) {\r\n            fixedBearingDeg = bearingDeg - bearingDegHippodromeDots;\r\n        }\r\n        var distanceMeters = Math.abs(GeoUtilsService.distance(midPointCartesian3, toPosition));\r\n        var radiusWidth = Math.sin(Cesium.Math.toRadians(fixedBearingDeg)) * distanceMeters;\r\n        this.hippodromeProps.width = Math.abs(radiusWidth) * 2;\r\n        this.createHeightEditPoints();\r\n        this.updatePointsLayer.apply(this, this.positions);\r\n        this.updateHippdromeLayer();\r\n    };\r\n    EditableHippodrome.prototype.moveShape = function (startMovingPosition, draggedToPosition) {\r\n        if (!this.lastDraggedToPosition) {\r\n            this.lastDraggedToPosition = startMovingPosition;\r\n        }\r\n        var delta = GeoUtilsService.getPositionsDelta(this.lastDraggedToPosition, draggedToPosition);\r\n        this.getRealPoints().forEach(function (point) {\r\n            GeoUtilsService.addDeltaToPosition(point.getPosition(), delta, true);\r\n        });\r\n        this.createHeightEditPoints();\r\n        this.updatePointsLayer.apply(this, this.positions);\r\n        this.updateHippdromeLayer();\r\n        this.lastDraggedToPosition = draggedToPosition;\r\n    };\r\n    EditableHippodrome.prototype.endMoveShape = function () {\r\n        var _this = this;\r\n        this.lastDraggedToPosition = undefined;\r\n        this.createHeightEditPoints();\r\n        this.positions.forEach(function (point) { return _this.updatePointsLayer(point); });\r\n        this.updateHippdromeLayer();\r\n    };\r\n    EditableHippodrome.prototype.endMovePoint = function () {\r\n        this.createHeightEditPoints();\r\n        this.updatePointsLayer.apply(this, this.positions);\r\n    };\r\n    EditableHippodrome.prototype.moveTempMovingPoint = function (toPosition) {\r\n        if (this.movingPoint) {\r\n            this.movePoint(toPosition, this.movingPoint);\r\n        }\r\n    };\r\n    EditableHippodrome.prototype.removePoint = function (pointToRemove) {\r\n        var _this = this;\r\n        this.removePosition(pointToRemove);\r\n        this.positions\r\n            .filter(function (p) { return p.isVirtualEditPoint(); })\r\n            .forEach(function (p) { return _this.removePosition(p); });\r\n    };\r\n    EditableHippodrome.prototype.addLastPoint = function (position) {\r\n        this.done = true;\r\n        this.removePosition(this.movingPoint);\r\n        this.movingPoint = null;\r\n    };\r\n    EditableHippodrome.prototype.getRealPositions = function () {\r\n        return this.getRealPoints()\r\n            .map(function (position) { return position.getPosition(); });\r\n    };\r\n    EditableHippodrome.prototype.getRealPoints = function () {\r\n        return this.positions\r\n            .filter(function (position) { return !position.isVirtualEditPoint(); });\r\n    };\r\n    EditableHippodrome.prototype.getWidth = function () {\r\n        return this.hippodromeProps.width;\r\n    };\r\n    EditableHippodrome.prototype.getPositions = function () {\r\n        return this.positions.map(function (position) { return position.getPosition(); });\r\n    };\r\n    EditableHippodrome.prototype.removePosition = function (point) {\r\n        var index = this.positions.findIndex(function (p) { return p === point; });\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this.positions.splice(index, 1);\r\n        this.pointsLayer.remove(point.getId());\r\n    };\r\n    EditableHippodrome.prototype.updatePointsLayer = function () {\r\n        var _this = this;\r\n        var point = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            point[_i] = arguments[_i];\r\n        }\r\n        point.forEach(function (p) { return _this.pointsLayer.update(p, p.getId()); });\r\n    };\r\n    EditableHippodrome.prototype.updateHippdromeLayer = function () {\r\n        this.hippodromeLayer.update(this, this.id);\r\n    };\r\n    EditableHippodrome.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.hippodromeLayer.remove(this.id);\r\n        this.positions.forEach(function (editPoint) {\r\n            _this.pointsLayer.remove(editPoint.getId());\r\n        });\r\n        if (this.movingPoint) {\r\n            this.pointsLayer.remove(this.movingPoint.getId());\r\n            this.movingPoint = undefined;\r\n        }\r\n        this.positions.length = 0;\r\n    };\r\n    EditableHippodrome.prototype.getPointsCount = function () {\r\n        return this.positions.length;\r\n    };\r\n    EditableHippodrome.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return EditableHippodrome;\r\n}(AcEntity));\r\nexport { EditableHippodrome };\r\n//# sourceMappingURL=editable-hippodrome.js.map","import { Injectable } from '@angular/core';\r\nimport { EditableHippodrome } from '../../../models/editable-hippodrome';\r\nvar HippodromeManagerService = (function () {\r\n    function HippodromeManagerService() {\r\n        this.hippodromes = new Map();\r\n    }\r\n    HippodromeManagerService.prototype.createEditableHippodrome = function (id, editHippodromeLayer, editPointsLayer, coordinateConverter, hippodromeEditOptions, positions) {\r\n        var editableHippodrome = new EditableHippodrome(id, editHippodromeLayer, editPointsLayer, coordinateConverter, hippodromeEditOptions, positions);\r\n        this.hippodromes.set(id, editableHippodrome);\r\n    };\r\n    HippodromeManagerService.prototype.get = function (id) {\r\n        return this.hippodromes.get(id);\r\n    };\r\n    HippodromeManagerService.prototype.clear = function () {\r\n        this.hippodromes.forEach(function (hippodrome) { return hippodrome.dispose(); });\r\n        this.hippodromes.clear();\r\n    };\r\n    HippodromeManagerService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    HippodromeManagerService.ctorParameters = function () { return []; };\r\n    return HippodromeManagerService;\r\n}());\r\nexport { HippodromeManagerService };\r\n//# sourceMappingURL=hippodrome-manager.service.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CesiumEvent } from '../../../../angular-cesium/services/map-events-mananger/consts/cesium-event.enum';\r\nimport { PickOptions } from '../../../../angular-cesium/services/map-events-mananger/consts/pickOptions.enum';\r\nimport { EditModes } from '../../../models/edit-mode.enum';\r\nimport { EditActions } from '../../../models/edit-actions.enum';\r\nimport { EditPoint } from '../../../models/edit-point';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { EditableHippodrome } from '../../../models/editable-hippodrome';\r\nexport var DEFAULT_HIPPODROME_OPTIONS = {\r\n    addPointEvent: CesiumEvent.LEFT_CLICK,\r\n    dragPointEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    dragShapeEvent: CesiumEvent.LEFT_CLICK_DRAG,\r\n    allowDrag: true,\r\n    hippodromeProps: {\r\n        material: Cesium.Color.GREEN.withAlpha(0.5),\r\n        width: 200000.0,\r\n        outline: false,\r\n    },\r\n    pointProps: {\r\n        color: Cesium.Color.WHITE,\r\n        outlineColor: Cesium.Color.BLACK,\r\n        outlineWidth: 1,\r\n        pixelSize: 15,\r\n        virtualPointPixelSize: 8,\r\n        show: true,\r\n        showVirtual: true,\r\n    },\r\n};\r\nvar HippodromeEditorService = (function () {\r\n    function HippodromeEditorService() {\r\n        this.updateSubject = new Subject();\r\n        this.updatePublisher = this.updateSubject.publish();\r\n        this.counter = 0;\r\n        this.observablesMap = new Map();\r\n    }\r\n    HippodromeEditorService.prototype.init = function (mapEventsManager, coordinateConverter, cameraService, managerService) {\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.updatePublisher.connect();\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.cameraService = cameraService;\r\n        this.hippodromeManager = managerService;\r\n    };\r\n    HippodromeEditorService.prototype.onUpdate = function () {\r\n        return this.updatePublisher;\r\n    };\r\n    HippodromeEditorService.prototype.create = function (options, eventPriority) {\r\n        var _this = this;\r\n        if (options === void 0) { options = DEFAULT_HIPPODROME_OPTIONS; }\r\n        if (eventPriority === void 0) { eventPriority = 100; }\r\n        var positions = [];\r\n        var id = this.generteId();\r\n        var hippodromeOptions = this.setOptions(options);\r\n        var clientEditSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.CREATE\r\n        });\r\n        var finishedCreate = false;\r\n        this.updateSubject.next({\r\n            id: id,\r\n            positions: positions,\r\n            editMode: EditModes.CREATE,\r\n            editAction: EditActions.INIT,\r\n            hippodromeOptions: hippodromeOptions,\r\n        });\r\n        var mouseMoveRegistration = this.mapEventsManager.register({\r\n            event: CesiumEvent.MOUSE_MOVE,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: eventPriority,\r\n        });\r\n        var addPointRegistration = this.mapEventsManager.register({\r\n            event: hippodromeOptions.addPointEvent,\r\n            pick: PickOptions.NO_PICK,\r\n            priority: eventPriority,\r\n        });\r\n        this.observablesMap.set(id, [mouseMoveRegistration, addPointRegistration]);\r\n        var editorObservable = this.createEditorObservable(clientEditSubject, id);\r\n        mouseMoveRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (position) {\r\n                _this.updateSubject.next({\r\n                    id: id,\r\n                    positions: _this.getPositions(id),\r\n                    editMode: EditModes.CREATE,\r\n                    updatedPosition: position,\r\n                    editAction: EditActions.MOUSE_MOVE,\r\n                });\r\n            }\r\n        });\r\n        addPointRegistration.subscribe(function (_a) {\r\n            var endPosition = _a.movement.endPosition;\r\n            if (finishedCreate) {\r\n                return;\r\n            }\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var allPositions = _this.getPositions(id);\r\n            var isFirstPoint = _this.getPositions(id).length === 0;\r\n            var updateValue = {\r\n                id: id,\r\n                positions: allPositions,\r\n                editMode: EditModes.CREATE,\r\n                updatedPosition: position,\r\n                editAction: EditActions.ADD_POINT,\r\n            };\r\n            _this.updateSubject.next(updateValue);\r\n            clientEditSubject.next(__assign({}, updateValue, { positions: _this.getPositions(id), points: _this.getPoints(id), width: _this.getWidth(id) }));\r\n            if (!isFirstPoint) {\r\n                var changeMode = {\r\n                    id: id,\r\n                    editMode: EditModes.CREATE,\r\n                    editAction: EditActions.CHANGE_TO_EDIT,\r\n                };\r\n                _this.updateSubject.next(changeMode);\r\n                clientEditSubject.next(changeMode);\r\n                if (_this.observablesMap.has(id)) {\r\n                    _this.observablesMap.get(id).forEach(function (registration) { return registration.dispose(); });\r\n                }\r\n                _this.observablesMap.delete(id);\r\n                _this.editHippodrome(id, eventPriority, clientEditSubject, hippodromeOptions, editorObservable);\r\n                finishedCreate = true;\r\n            }\r\n        });\r\n        return editorObservable;\r\n    };\r\n    HippodromeEditorService.prototype.edit = function (positions, options, priority) {\r\n        if (options === void 0) { options = DEFAULT_HIPPODROME_OPTIONS; }\r\n        if (priority === void 0) { priority = 100; }\r\n        if (positions.length !== 2) {\r\n            throw new Error('Hippodrome editor error edit(): polygon should have 2 positions but received ' + positions);\r\n        }\r\n        var id = this.generteId();\r\n        var hippodromeEditOptions = this.setOptions(options);\r\n        var editSubject = new BehaviorSubject({\r\n            id: id,\r\n            editAction: null,\r\n            editMode: EditModes.EDIT\r\n        });\r\n        var update = {\r\n            id: id,\r\n            positions: positions,\r\n            editMode: EditModes.EDIT,\r\n            editAction: EditActions.INIT,\r\n            hippodromeOptions: hippodromeEditOptions,\r\n        };\r\n        this.updateSubject.next(update);\r\n        editSubject.next(__assign({}, update, { positions: this.getPositions(id), points: this.getPoints(id), width: this.getWidth(id) }));\r\n        return this.editHippodrome(id, priority, editSubject, hippodromeEditOptions);\r\n    };\r\n    HippodromeEditorService.prototype.editHippodrome = function (id, priority, editSubject, options, editObservable) {\r\n        var _this = this;\r\n        var shapeDragRegistration;\r\n        if (options.allowDrag) {\r\n            shapeDragRegistration = this.mapEventsManager.register({\r\n                event: options.dragShapeEvent,\r\n                entityType: EditableHippodrome,\r\n                pick: PickOptions.PICK_FIRST,\r\n                priority: priority,\r\n            });\r\n        }\r\n        var pointDragRegistration = this.mapEventsManager.register({\r\n            event: options.dragPointEvent,\r\n            entityType: EditPoint,\r\n            pick: PickOptions.PICK_FIRST,\r\n            priority: priority,\r\n        });\r\n        pointDragRegistration\r\n            .do(function (_a) {\r\n            var drop = _a.movement.drop;\r\n            return _this.cameraService.enableInputs(drop);\r\n        })\r\n            .subscribe(function (_a) {\r\n            var _b = _a.movement, endPosition = _b.endPosition, drop = _b.drop, entities = _a.entities;\r\n            var position = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n            if (!position) {\r\n                return;\r\n            }\r\n            var point = entities[0];\r\n            var update = {\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                updatedPosition: position,\r\n                updatedPoint: point,\r\n                editAction: drop ? EditActions.DRAG_POINT_FINISH : EditActions.DRAG_POINT,\r\n            };\r\n            _this.updateSubject.next(update);\r\n            editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id), width: _this.getWidth(id) }));\r\n        });\r\n        if (shapeDragRegistration) {\r\n            shapeDragRegistration\r\n                .do(function (_a) {\r\n                var drop = _a.movement.drop;\r\n                return _this.cameraService.enableInputs(drop);\r\n            })\r\n                .subscribe(function (_a) {\r\n                var _b = _a.movement, startPosition = _b.startPosition, endPosition = _b.endPosition, drop = _b.drop, entities = _a.entities;\r\n                var endDragPosition = _this.coordinateConverter.screenToCartesian3(endPosition);\r\n                var startDragPosition = _this.coordinateConverter.screenToCartesian3(startPosition);\r\n                if (!endDragPosition) {\r\n                    return;\r\n                }\r\n                var update = {\r\n                    id: id,\r\n                    positions: _this.getPositions(id),\r\n                    editMode: EditModes.EDIT,\r\n                    updatedPosition: endDragPosition,\r\n                    draggedPosition: startDragPosition,\r\n                    editAction: drop ? EditActions.DRAG_SHAPE_FINISH : EditActions.DRAG_SHAPE,\r\n                };\r\n                _this.updateSubject.next(update);\r\n                editSubject.next(__assign({}, update, { positions: _this.getPositions(id), points: _this.getPoints(id), width: _this.getWidth(id) }));\r\n            });\r\n        }\r\n        var observables = [pointDragRegistration];\r\n        if (shapeDragRegistration) {\r\n            observables.push(shapeDragRegistration);\r\n        }\r\n        this.observablesMap.set(id, observables);\r\n        return this.createEditorObservable(editSubject, id);\r\n    };\r\n    HippodromeEditorService.prototype.setOptions = function (options) {\r\n        var defaultClone = JSON.parse(JSON.stringify(DEFAULT_HIPPODROME_OPTIONS));\r\n        var hippodromeOptions = Object.assign(defaultClone, options);\r\n        hippodromeOptions.hippodromeProps = Object.assign({}, DEFAULT_HIPPODROME_OPTIONS.hippodromeProps, options.hippodromeProps);\r\n        hippodromeOptions.pointProps = Object.assign({}, DEFAULT_HIPPODROME_OPTIONS.pointProps, options.pointProps);\r\n        return hippodromeOptions;\r\n    };\r\n    HippodromeEditorService.prototype.createEditorObservable = function (observableToExtend, id) {\r\n        var _this = this;\r\n        observableToExtend.dispose = function () {\r\n            var observables = _this.observablesMap.get(id);\r\n            if (observables) {\r\n                observables.forEach(function (obs) { return obs.dispose(); });\r\n            }\r\n            _this.observablesMap.delete(id);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.DISPOSE,\r\n            });\r\n        };\r\n        observableToExtend.enable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.ENABLE,\r\n            });\r\n        };\r\n        observableToExtend.disable = function () {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                positions: _this.getPositions(id),\r\n                editMode: EditModes.EDIT,\r\n                editAction: EditActions.DISABLE,\r\n            });\r\n        };\r\n        observableToExtend.setManually = function (firstPosition, secondPosition, widthMeters, firstPointProp, secondPointProp) {\r\n            var firstP = new EditPoint(id, firstPosition, firstPointProp ? firstPointProp : DEFAULT_HIPPODROME_OPTIONS.pointProps);\r\n            var secP = new EditPoint(id, secondPosition, secondPointProp ? secondPointProp : DEFAULT_HIPPODROME_OPTIONS.pointProps);\r\n            var hippodrome = _this.hippodromeManager.get(id);\r\n            hippodrome.setPointsManually([firstP, secP], widthMeters);\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_MANUALLY,\r\n            });\r\n        };\r\n        observableToExtend.setLabelsRenderFn = function (callback) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.SET_EDIT_LABELS_RENDER_CALLBACK,\r\n                labelsRenderFn: callback,\r\n            });\r\n        };\r\n        observableToExtend.updateLabels = function (labels) {\r\n            _this.updateSubject.next({\r\n                id: id,\r\n                editMode: EditModes.CREATE_OR_EDIT,\r\n                editAction: EditActions.UPDATE_EDIT_LABELS,\r\n                updateLabels: labels,\r\n            });\r\n        };\r\n        observableToExtend.getCurrentPoints = function () { return _this.getPoints(id); };\r\n        observableToExtend.getEditValue = function () { return observableToExtend.getValue(); };\r\n        observableToExtend.getLabels = function () { return _this.hippodromeManager.get(id).labels; };\r\n        observableToExtend.getCurrentWidth = function () { return _this.getWidth(id); };\r\n        return observableToExtend;\r\n    };\r\n    HippodromeEditorService.prototype.generteId = function () {\r\n        return 'edit-hippodrome-' + this.counter++;\r\n    };\r\n    HippodromeEditorService.prototype.getPositions = function (id) {\r\n        var hippodrome = this.hippodromeManager.get(id);\r\n        return hippodrome.getRealPositions();\r\n    };\r\n    HippodromeEditorService.prototype.getPoints = function (id) {\r\n        var hippodrome = this.hippodromeManager.get(id);\r\n        return hippodrome.getRealPoints();\r\n    };\r\n    HippodromeEditorService.prototype.getWidth = function (id) {\r\n        var hippodrome = this.hippodromeManager.get(id);\r\n        return hippodrome.getWidth();\r\n    };\r\n    HippodromeEditorService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    HippodromeEditorService.ctorParameters = function () { return []; };\r\n    return HippodromeEditorService;\r\n}());\r\nexport { HippodromeEditorService };\r\n//# sourceMappingURL=hippodrome-editor.service.js.map","import { Component, ViewChild } from '@angular/core';\r\nimport { EditModes } from '../../models/edit-mode.enum';\r\nimport { EditActions } from '../../models/edit-actions.enum';\r\nimport { CoordinateConverter } from '../../../angular-cesium/services/coordinate-converter/coordinate-converter.service';\r\nimport { MapEventsManagerService } from '../../../angular-cesium/services/map-events-mananger/map-events-manager';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { CameraService } from '../../../angular-cesium/services/camera/camera.service';\r\nimport { HippodromeManagerService } from '../../services/entity-editors/hippodrome-editor/hippodrome-manager.service';\r\nimport { HippodromeEditorService } from '../../services/entity-editors/hippodrome-editor/hippodrome-editor.service';\r\nvar HippodromeEditorComponent = (function () {\r\n    function HippodromeEditorComponent(hippodromesEditor, coordinateConverter, mapEventsManager, cameraService, hippodromesManager) {\r\n        this.hippodromesEditor = hippodromesEditor;\r\n        this.coordinateConverter = coordinateConverter;\r\n        this.mapEventsManager = mapEventsManager;\r\n        this.cameraService = cameraService;\r\n        this.hippodromesManager = hippodromesManager;\r\n        this.Cesium = Cesium;\r\n        this.editPoints$ = new Subject();\r\n        this.editHippodromes$ = new Subject();\r\n        this.hippodromesEditor.init(this.mapEventsManager, this.coordinateConverter, this.cameraService, hippodromesManager);\r\n        this.startListeningToEditorUpdates();\r\n    }\r\n    HippodromeEditorComponent.prototype.startListeningToEditorUpdates = function () {\r\n        var _this = this;\r\n        this.hippodromesEditor.onUpdate().subscribe(function (update) {\r\n            if (update.editMode === EditModes.CREATE || update.editMode === EditModes.CREATE_OR_EDIT) {\r\n                _this.handleCreateUpdates(update);\r\n            }\r\n            else if (update.editMode === EditModes.EDIT) {\r\n                _this.handleEditUpdates(update);\r\n            }\r\n        });\r\n    };\r\n    HippodromeEditorComponent.prototype.getLabelId = function (element, index) {\r\n        return index.toString();\r\n    };\r\n    HippodromeEditorComponent.prototype.renderEditLabels = function (hippodrome, update, labels) {\r\n        update.positions = hippodrome.getRealPositions();\r\n        update.points = hippodrome.getRealPoints();\r\n        if (labels) {\r\n            hippodrome.labels = labels;\r\n            this.editHippodromesLayer.update(hippodrome, hippodrome.getId());\r\n            return;\r\n        }\r\n        if (!this.editLabelsRenderFn) {\r\n            return;\r\n        }\r\n        hippodrome.labels = this.editLabelsRenderFn(update, hippodrome.labels);\r\n        this.editHippodromesLayer.update(hippodrome, hippodrome.getId());\r\n    };\r\n    HippodromeEditorComponent.prototype.removeEditLabels = function (hippodrome) {\r\n        hippodrome.labels = [];\r\n        this.editHippodromesLayer.update(hippodrome, hippodrome.getId());\r\n    };\r\n    HippodromeEditorComponent.prototype.handleCreateUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                this.hippodromesManager.createEditableHippodrome(update.id, this.editPointsLayer, this.editHippodromesLayer, this.coordinateConverter, update.hippodromeOptions);\r\n                break;\r\n            }\r\n            case EditActions.MOUSE_MOVE: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    hippodrome.moveTempMovingPoint(update.updatedPosition);\r\n                    this.renderEditLabels(hippodrome, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ADD_POINT: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (update.updatedPosition) {\r\n                    hippodrome.addPoint(update.updatedPosition);\r\n                    this.renderEditLabels(hippodrome, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISPOSE: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                hippodrome.dispose();\r\n                this.removeEditLabels(hippodrome);\r\n                break;\r\n            }\r\n            case EditActions.SET_EDIT_LABELS_RENDER_CALLBACK: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                this.editLabelsRenderFn = update.labelsRenderFn;\r\n                this.renderEditLabels(hippodrome, update);\r\n                break;\r\n            }\r\n            case EditActions.UPDATE_EDIT_LABELS: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                this.renderEditLabels(hippodrome, update, update.updateLabels);\r\n                break;\r\n            }\r\n            case EditActions.SET_MANUALLY: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                this.renderEditLabels(hippodrome, update, update.updateLabels);\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    HippodromeEditorComponent.prototype.handleEditUpdates = function (update) {\r\n        switch (update.editAction) {\r\n            case EditActions.INIT: {\r\n                this.hippodromesManager.createEditableHippodrome(update.id, this.editPointsLayer, this.editHippodromesLayer, this.coordinateConverter, update.hippodromeOptions, update.positions);\r\n                break;\r\n            }\r\n            case EditActions.DRAG_POINT: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (hippodrome && hippodrome.enableEdit) {\r\n                    hippodrome.movePoint(update.updatedPosition, update.updatedPoint);\r\n                    this.renderEditLabels(hippodrome, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_POINT_FINISH: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (hippodrome && hippodrome.enableEdit) {\r\n                    hippodrome.endMovePoint();\r\n                    this.renderEditLabels(hippodrome, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DISABLE: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (hippodrome) {\r\n                    hippodrome.enableEdit = false;\r\n                    this.renderEditLabels(hippodrome, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.ENABLE: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (hippodrome) {\r\n                    hippodrome.enableEdit = true;\r\n                    this.renderEditLabels(hippodrome, update);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (hippodrome && hippodrome.enableEdit) {\r\n                    hippodrome.moveShape(update.draggedPosition, update.updatedPosition);\r\n                }\r\n                break;\r\n            }\r\n            case EditActions.DRAG_SHAPE_FINISH: {\r\n                var hippodrome = this.hippodromesManager.get(update.id);\r\n                if (hippodrome && hippodrome.enableEdit) {\r\n                    hippodrome.endMoveShape();\r\n                    this.renderEditLabels(hippodrome, update);\r\n                }\r\n                break;\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    HippodromeEditorComponent.prototype.ngOnDestroy = function () {\r\n        this.hippodromesManager.clear();\r\n    };\r\n    HippodromeEditorComponent.prototype.getPointSize = function (point) {\r\n        return point.isVirtualEditPoint() ? point.props.virtualPointPixelSize : point.props.pixelSize;\r\n    };\r\n    HippodromeEditorComponent.prototype.getPointShow = function (point) {\r\n        return point.show && (point.isVirtualEditPoint() ? point.props.showVirtual : point.props.show);\r\n    };\r\n    HippodromeEditorComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'hippodrome-editor',\r\n                    templateUrl: './hippodrome-editor.component.html',\r\n                    providers: [CoordinateConverter, HippodromeManagerService]\r\n                },] },\r\n    ];\r\n    HippodromeEditorComponent.ctorParameters = function () { return [\r\n        { type: HippodromeEditorService, },\r\n        { type: CoordinateConverter, },\r\n        { type: MapEventsManagerService, },\r\n        { type: CameraService, },\r\n        { type: HippodromeManagerService, },\r\n    ]; };\r\n    HippodromeEditorComponent.propDecorators = {\r\n        'editPointsLayer': [{ type: ViewChild, args: ['editPointsLayer',] },],\r\n        'editHippodromesLayer': [{ type: ViewChild, args: ['editHippodromesLayer',] },],\r\n    };\r\n    return HippodromeEditorComponent;\r\n}());\r\nexport { HippodromeEditorComponent };\r\n//# sourceMappingURL=hippodrome-editor.component.js.map","import { Inject, Injectable } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { MapsManagerService } from '../../angular-cesium/services/maps-manager/maps-manager.service';\r\nvar DraggableToMapService = (function () {\r\n    function DraggableToMapService(document, mapsManager) {\r\n        this.document = document;\r\n        this.mapsManager = mapsManager;\r\n        this.mainSubject = new Subject();\r\n    }\r\n    DraggableToMapService.prototype.setCoordinateConverter = function (coordinateConverter) {\r\n        this.coordinateConverter = coordinateConverter;\r\n    };\r\n    DraggableToMapService.prototype.drag = function (imageSrc, style) {\r\n        var _this = this;\r\n        if (!this.coordinateConverter) {\r\n            var map = this.mapsManager.getMap();\r\n            if (map) {\r\n                this.coordinateConverter = map.getCoordinateConverter();\r\n            }\r\n        }\r\n        this.cancel();\r\n        var imgElement = document.createElement('img');\r\n        imgElement.src = imageSrc;\r\n        imgElement.style.position = 'fixed';\r\n        imgElement.style.visibility = 'hidden';\r\n        imgElement.style.width = '30px';\r\n        imgElement.style.height = '30px';\r\n        imgElement.style['user-drag'] = 'none';\r\n        imgElement.style['user-select'] = 'none';\r\n        imgElement.style['-moz-user-select'] = 'none';\r\n        imgElement.style['-webkit-user-drag'] = 'none';\r\n        imgElement.style['-webkit-user-select'] = 'none';\r\n        imgElement.style['-ms-user-select'] = 'none';\r\n        Object.assign(imgElement.style, style);\r\n        document.body.appendChild(imgElement);\r\n        this.createDragObservable();\r\n        this.dragObservable.subscribe(function (e) {\r\n            imgElement.style.visibility = 'visible';\r\n            imgElement.style.left = e.screenPosition.x - imgElement.clientWidth / 2 + 'px';\r\n            imgElement.style.top = e.screenPosition.y - imgElement.clientHeight / 2 + 'px';\r\n            _this.mainSubject.next(e);\r\n            if (e.drop) {\r\n                imgElement.remove();\r\n            }\r\n        }, function (e) {\r\n            imgElement.remove();\r\n        }, function () {\r\n            imgElement.remove();\r\n        });\r\n    };\r\n    DraggableToMapService.prototype.dragUpdates = function () {\r\n        return this.mainSubject;\r\n    };\r\n    DraggableToMapService.prototype.cancel = function () {\r\n        if (this.stopper) {\r\n            this.stopper.next(true);\r\n            this.stopper = undefined;\r\n            this.dragObservable = undefined;\r\n        }\r\n    };\r\n    DraggableToMapService.prototype.createDragObservable = function () {\r\n        var _this = this;\r\n        var stopper = new Subject();\r\n        var dropSubject = new Subject();\r\n        var pointerUp = Observable.fromEvent(document, 'pointerup');\r\n        var pointerMove = Observable.fromEvent(document, 'pointermove');\r\n        var dragStartPositionX;\r\n        var dragStartPositionY;\r\n        var lastMove;\r\n        var moveObservable = pointerMove.map(function (e) {\r\n            dragStartPositionX = dragStartPositionX ? dragStartPositionX : e.x;\r\n            dragStartPositionY = dragStartPositionY ? dragStartPositionY : e.y;\r\n            lastMove = {\r\n                drop: false,\r\n                initialScreenPosition: {\r\n                    x: dragStartPositionX,\r\n                    y: dragStartPositionY,\r\n                },\r\n                screenPosition: {\r\n                    x: e.x,\r\n                    y: e.y,\r\n                },\r\n                mapPosition: _this.coordinateConverter ?\r\n                    _this.coordinateConverter.screenToCartesian3({ x: e.x, y: e.y }) : undefined,\r\n            };\r\n            return lastMove;\r\n        })\r\n            .takeUntil(pointerUp)\r\n            .do(undefined, undefined, function () {\r\n            if (lastMove) {\r\n                var dropEvent = Object.assign({}, lastMove);\r\n                dropEvent.drop = true;\r\n                dropSubject.next(dropEvent);\r\n            }\r\n        });\r\n        this.dragObservable = moveObservable.merge(dropSubject).takeUntil(stopper);\r\n        this.stopper = stopper;\r\n    };\r\n    DraggableToMapService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    DraggableToMapService.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },\r\n        { type: MapsManagerService, },\r\n    ]; };\r\n    return DraggableToMapService;\r\n}());\r\nexport { DraggableToMapService };\r\n//# sourceMappingURL=draggable-to-map.service.js.map","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\nimport { DraggableToMapService } from '../services/draggable-to-map.service';\r\nvar DraggableToMapDirective = (function () {\r\n    function DraggableToMapDirective(el, iconDragService) {\r\n        this.iconDragService = iconDragService;\r\n        el.nativeElement.style['user-drag'] = 'none';\r\n        el.nativeElement.style['user-select'] = 'none';\r\n        el.nativeElement.style['-moz-user-select'] = 'none';\r\n        el.nativeElement.style['-webkit-user-drag'] = 'none';\r\n        el.nativeElement.style['-webkit-user-select'] = 'none';\r\n        el.nativeElement.style['-ms-user-select'] = 'none';\r\n    }\r\n    DraggableToMapDirective.prototype.ngOnInit = function () {\r\n        if (typeof this.draggableToMap === 'string') {\r\n            this.src = this.draggableToMap;\r\n        }\r\n        else {\r\n            this.src = this.draggableToMap.src;\r\n            this.style = this.draggableToMap.style;\r\n        }\r\n    };\r\n    DraggableToMapDirective.prototype.onMouseDown = function () {\r\n        this.iconDragService.drag(this.src, this.style);\r\n    };\r\n    DraggableToMapDirective.decorators = [\r\n        { type: Directive, args: [{ selector: '[draggableToMap]' },] },\r\n    ];\r\n    DraggableToMapDirective.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: DraggableToMapService, },\r\n    ]; };\r\n    DraggableToMapDirective.propDecorators = {\r\n        'draggableToMap': [{ type: Input },],\r\n        'onMouseDown': [{ type: HostListener, args: ['mousedown',] },],\r\n    };\r\n    return DraggableToMapDirective;\r\n}());\r\nexport { DraggableToMapDirective };\r\n//# sourceMappingURL=draggable-to-map.directive.js.map","import { ChangeDetectionStrategy, Component, ElementRef, Input } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nvar AcToolbarComponent = (function () {\r\n    function AcToolbarComponent(element) {\r\n        this.element = element;\r\n        this.allowDrag = true;\r\n        this.dragStyle = {\r\n            'height.px': 20,\r\n            'width.px': 20,\r\n        };\r\n    }\r\n    AcToolbarComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        if (this.allowDrag) {\r\n            var mouseDown$ = Observable.fromEvent(this.element.nativeElement, 'mousedown');\r\n            var mouseMove$_1 = Observable.fromEvent(document, 'mousemove');\r\n            var mouseUp$_1 = Observable.fromEvent(document, 'mouseup');\r\n            var drag$ = mouseDown$.switchMap(function () { return mouseMove$_1.takeUntil(mouseUp$_1); });\r\n            this.subscription = drag$.subscribe(function (event) {\r\n                _this.element.nativeElement.style.left = event.x + 'px';\r\n                _this.element.nativeElement.style.top = event.y + 'px';\r\n            });\r\n        }\r\n    };\r\n    AcToolbarComponent.prototype.ngOnDestroy = function () {\r\n        this.subscription.unsubscribe();\r\n    };\r\n    AcToolbarComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-toolbar',\r\n                    template: \"\\n        <div class=\\\"{{toolbarClass}}\\\">\\n            <div *ngIf=\\\"allowDrag\\\">\\n                <ac-toolbar-button>\\n                    <ac-drag-icon></ac-drag-icon>\\n                </ac-toolbar-button>\\n            </div>\\n\\n            <ng-content></ng-content>\\n        </div>\\n    \",\r\n                    styles: [\"\\n        :host {\\n            position: absolute;\\n            top: 100px;\\n            left: 20px;\\n            width: 20px;\\n            height: 20px;\\n            -webkit-user-drag: none;\\n        }\\n    \"],\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                },] },\r\n    ];\r\n    AcToolbarComponent.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n    ]; };\r\n    AcToolbarComponent.propDecorators = {\r\n        'toolbarClass': [{ type: Input },],\r\n        'allowDrag': [{ type: Input },],\r\n    };\r\n    return AcToolbarComponent;\r\n}());\r\nexport { AcToolbarComponent };\r\n//# sourceMappingURL=ac-toolbar.component.js.map","import { Component } from '@angular/core';\r\nvar DragIconComponent = (function () {\r\n    function DragIconComponent() {\r\n    }\r\n    DragIconComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-drag-icon',\r\n                    template: \"\\n        <svg version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"  x=\\\"0px\\\" y=\\\"0px\\\"  height=\\\"25\\\"  width=\\\"25\\\"\\n\\t viewBox=\\\"0 0 476.737 476.737\\\" style=\\\"enable-background:new 0 0 476.737 476.737;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<g>\\n\\t\\t<path style=\\\"fill:#010002;\\\" d=\\\"M475.498,232.298l-3.401-5.149l-63.565-63.565c-6.198-6.198-16.304-6.198-22.47,0\\n\\t\\t\\tc-6.198,6.198-6.198,16.273,0,22.47l36.423,36.423H254.26V54.253l36.423,36.423c6.166,6.198,16.273,6.198,22.47,0\\n\\t\\t\\tc6.166-6.198,6.166-16.273,0-22.47L249.588,4.64l-0.159-0.095l-4.99-3.305L238.369,0h-0.064l-6.007,1.24l-4.99,3.305l-0.191,0.095\\n\\t\\t\\tl-63.565,63.565c-6.198,6.198-6.198,16.273,0,22.47s16.273,6.198,22.47,0l36.455-36.423v168.225H54.253l36.423-36.423\\n\\t\\t\\tc6.198-6.198,6.198-16.273,0-22.47s-16.273-6.198-22.47,0L4.64,227.149l-0.095,0.159l-3.305,4.99L0,238.369v0.064l1.24,6.007\\n\\t\\t\\tl3.305,4.958l0.095,0.191l63.565,63.565c6.198,6.198,16.273,6.198,22.47,0c6.198-6.166,6.198-16.273,0-22.47L54.253,254.26\\n\\t\\t\\th168.225v168.225l-36.423-36.423c-6.198-6.166-16.273-6.166-22.47,0c-6.198,6.198-6.198,16.304,0,22.47l63.565,63.565l5.149,3.432\\n\\t\\t\\tl6.007,1.208h0.064l6.07-1.24l5.149-3.401l63.565-63.565c6.166-6.198,6.166-16.304,0-22.47c-6.198-6.198-16.304-6.198-22.47,0\\n\\t\\t\\tl-36.423,36.423V254.26h168.225l-36.423,36.423c-6.166,6.166-6.166,16.273,0,22.47c6.198,6.166,16.304,6.166,22.47,0\\n\\t\\t\\tl63.565-63.565l3.432-5.149l1.208-6.007v-0.064L475.498,232.298z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n<g>\\n</g>\\n</svg>\\n    \",\r\n                },] },\r\n    ];\r\n    DragIconComponent.ctorParameters = function () { return []; };\r\n    return DragIconComponent;\r\n}());\r\nexport { DragIconComponent };\r\n//# sourceMappingURL=drag-icon.component.js.map","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\r\nvar AcToolbarButtonComponent = (function () {\r\n    function AcToolbarButtonComponent() {\r\n        this.onClick = new EventEmitter();\r\n    }\r\n    AcToolbarButtonComponent.prototype.ngOnInit = function () {\r\n    };\r\n    AcToolbarButtonComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'ac-toolbar-button',\r\n                    template: \"\\n        <div (click)=\\\"onClick.emit()\\\" class=\\\"button-container {{buttonClass}}\\\">\\n            <img *ngIf=\\\"iconUrl\\\" [src]=\\\"iconUrl\\\" class=\\\"icon {{iconClass}}\\\"/>\\n            <ng-content></ng-content>\\n        </div>\\n    \",\r\n                    styles: [\"\\n        .button-container {\\n            border-radius: 1px;\\n            background-color: rgba(255, 255, 255, 0.8);\\n            height: 30px;\\n            width: 30px;\\n            padding: 5px;\\n            transition: all 0.2s;\\n            cursor: pointer;\\n            display: flex;\\n            justify-content: center;\\n            align-items: center;\\n            flex-direction: column;\\n        }\\n\\n        .button-container:hover {\\n            background-color: rgba(255, 255, 255, 0.95);\\n        }\\n        \\n        .icon {\\n            height: 30px;\\n            width: 30px;\\n        }\\n    \"],\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                },] },\r\n    ];\r\n    AcToolbarButtonComponent.ctorParameters = function () { return []; };\r\n    AcToolbarButtonComponent.propDecorators = {\r\n        'iconUrl': [{ type: Input },],\r\n        'buttonClass': [{ type: Input },],\r\n        'iconClass': [{ type: Input },],\r\n        'onClick': [{ type: Output },],\r\n    };\r\n    return AcToolbarButtonComponent;\r\n}());\r\nexport { AcToolbarButtonComponent };\r\n//# sourceMappingURL=ac-toolbar-button.component.js.map","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AngularCesiumModule } from '../angular-cesium/angular-cesium.module';\r\nimport { PolygonsEditorComponent } from './components/polygons-editor/polygons-editor.component';\r\nimport { CirclesEditorComponent } from './components/circles-editor/circles-editor.component';\r\nimport { PolylinesEditorComponent } from './components/polylines-editor/polylines-editor.component';\r\nimport { HippodromeEditorComponent } from './components/hippodrome-editor/hippodrome-editor.component';\r\nimport { DraggableToMapDirective } from './directives/draggable-to-map.directive';\r\nimport { DraggableToMapService } from './services/draggable-to-map.service';\r\nimport { AcToolbarComponent } from './components/toolbar/ac-toolbar/ac-toolbar.component';\r\nimport { DragIconComponent } from './components/toolbar/ac-toolbar/drag-icon.component';\r\nimport { AcToolbarButtonComponent } from './components/toolbar/ac-toolbar-button/ac-toolbar-button.component';\r\nvar AngularCesiumWidgetsModule = (function () {\r\n    function AngularCesiumWidgetsModule() {\r\n    }\r\n    AngularCesiumWidgetsModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        AngularCesiumModule,\r\n                    ],\r\n                    declarations: [\r\n                        HippodromeEditorComponent,\r\n                        PolygonsEditorComponent,\r\n                        CirclesEditorComponent,\r\n                        PolylinesEditorComponent,\r\n                        DraggableToMapDirective,\r\n                        DragIconComponent,\r\n                        AcToolbarComponent,\r\n                        AcToolbarButtonComponent,\r\n                    ],\r\n                    exports: [\r\n                        HippodromeEditorComponent,\r\n                        PolygonsEditorComponent,\r\n                        CirclesEditorComponent,\r\n                        PolylinesEditorComponent,\r\n                        DraggableToMapDirective,\r\n                        AcToolbarComponent,\r\n                        AcToolbarButtonComponent,\r\n                    ],\r\n                    providers: [\r\n                        DraggableToMapService,\r\n                    ]\r\n                },] },\r\n    ];\r\n    AngularCesiumWidgetsModule.ctorParameters = function () { return []; };\r\n    return AngularCesiumWidgetsModule;\r\n}());\r\nexport { AngularCesiumWidgetsModule };\r\n//# sourceMappingURL=angular-cesium-widgets.module.js.map"],"names":["this","Injectable","NgZone","Optional","h337.create","__extends","CesiumEvent","Observable","PickOptions","EventEmitter","Subject","KeyboardAction","isNumber","Inject","DOCUMENT","SceneMode","__assign","LatLonVectors","geodesy['LatLonVectors']","LatLonEllipsoidal","Utm","Component","ElementRef","Input","ActionType","EllipsePrimitive","Output","JsonStringMapper","Parse","forwardRef","Pipe","NgModule","CommonModule","MapLayerProviderOptions","Renderer2","ChangeDetectionStrategy","ChangeDetectorRef","Directive","TemplateRef","ViewContainerRef","ViewChild","ContentChild","ComponentFactoryResolver","ContentChildren","Angular2ParseModule","CesiumEventModifier","BehaviorSubject","EditModes","EditActions","HostListener"],"mappings":"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"}