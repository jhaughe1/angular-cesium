{"version":3,"sources":["editable-circle.ts"],"names":[],"mappings":"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","file":"editable-circle.js","sourceRoot":"","sourcesContent":["import { AcEntity } from '../../angular-cesium/models/ac-entity';\r\nimport { EditPoint } from './edit-point';\r\nimport { AcLayerComponent } from '../../angular-cesium/components/ac-layer/ac-layer.component';\r\nimport { Cartesian3 } from '../../angular-cesium/models/cartesian3';\r\nimport { GeoUtilsService } from '../../angular-cesium/services/geo-utils/geo-utils.service';\r\nimport { EditArc } from './edit-arc';\r\nimport { CircleEditOptions, CircleProps } from './circle-edit-options';\r\nimport { PointProps, PolylineProps } from './polyline-edit-options';\r\nimport { defaultLabelProps, LabelProps } from './label-props';\r\n\r\nexport class EditableCircle extends AcEntity {\r\n  private _center: EditPoint;\r\n  private _radiusPoint: EditPoint;\r\n  private _outlineArc: EditArc;\r\n  private doneCreation = false;\r\n  private _enableEdit = true;\r\n  private lastDraggedToPosition: any;\r\n  private _circleProps: CircleProps;\r\n  private _pointProps: PointProps;\r\n  private _polylineProps: PolylineProps;\r\n  private _labels: LabelProps[] = [];\r\n\r\n  constructor(private id: string,\r\n              private circlesLayer: AcLayerComponent,\r\n              private pointsLayer: AcLayerComponent,\r\n              private arcsLayer: AcLayerComponent,\r\n              private options: CircleEditOptions) {\r\n    super();\r\n    this._circleProps = options.circleProps;\r\n    this._pointProps = options.pointProps;\r\n    this._polylineProps = options.polylineProps;\r\n  }\r\n\r\n  get labels(): LabelProps[] {\r\n    return this._labels;\r\n  }\r\n\r\n  set labels(labels: LabelProps[]) {\r\n    if (!labels || !this._center || !this._radiusPoint) {\r\n      return;\r\n    }\r\n    this._labels = labels.map((label, index) => {\r\n      if (!label.position) {\r\n        if (index !== labels.length - 1) {\r\n          label.position = this._center.getPosition();\r\n        }\r\n        else {\r\n          label.position = this._radiusPoint.getPosition();\r\n        }\r\n      }\r\n\r\n\r\n      return Object.assign({}, defaultLabelProps, label);\r\n    });\r\n  }\r\n\r\n  get polylineProps(): PolylineProps {\r\n    return this._polylineProps;\r\n  }\r\n\r\n  set polylineProps(value: PolylineProps) {\r\n    this._polylineProps = value;\r\n  }\r\n\r\n  get pointProps(): PointProps {\r\n    return this._pointProps;\r\n  }\r\n\r\n  set pointProps(value: PointProps) {\r\n    this._pointProps = value;\r\n  }\r\n\r\n  get circleProps(): CircleProps {\r\n    return this._circleProps;\r\n  }\r\n\r\n  set circleProps(value: CircleProps) {\r\n    this._circleProps = value;\r\n  }\r\n\r\n  get center(): EditPoint {\r\n    return this._center;\r\n  }\r\n\r\n  get radiusPoint(): EditPoint {\r\n    return this._radiusPoint;\r\n  }\r\n\r\n  get enableEdit() {\r\n    return this._enableEdit;\r\n  }\r\n\r\n  set enableEdit(value: boolean) {\r\n    this._enableEdit = value;\r\n    this._center.show = value;\r\n    this._radiusPoint.show = value;\r\n    this.updatePointsLayer();\r\n  }\r\n\r\n  setManually(center: Cartesian3, radiusPoint: Cartesian3, centerPointProp = this.pointProps,\r\n              radiusPointProp = this.pointProps, circleProp = this.circleProps) {\r\n    if (!this._center) {\r\n      this._center = new EditPoint(this.id, center, centerPointProp);\r\n    }\r\n    else {\r\n      this._center.setPosition(center);\r\n    }\r\n\r\n    if (!this._radiusPoint) {\r\n      this._radiusPoint = new EditPoint(this.id, radiusPoint, radiusPointProp);\r\n    }\r\n    else {\r\n      this._radiusPoint.setPosition(radiusPoint);\r\n    }\r\n\r\n    if (!this._outlineArc) {\r\n      this.createOutlineArc();\r\n    }\r\n    else {\r\n      this._outlineArc.radius = this.getRadius();\r\n    }\r\n\r\n    this.circleProps = circleProp;\r\n    this.doneCreation = true;\r\n    this.updateArcsLayer();\r\n    this.updatePointsLayer();\r\n    this.updateCirclesLayer();\r\n  }\r\n\r\n  addPoint(position: Cartesian3) {\r\n    if (this.doneCreation) {\r\n      return;\r\n    }\r\n\r\n    if (!this._center) {\r\n      this._center = new EditPoint(this.id, position, this.pointProps);\r\n      this._radiusPoint = new EditPoint(this.id, position.clone(), this.pointProps);\r\n      if (!this._outlineArc) {\r\n        this.createOutlineArc();\r\n      }\r\n    }\r\n\r\n    this.updateArcsLayer();\r\n    this.updatePointsLayer();\r\n    this.updateCirclesLayer();\r\n  }\r\n\r\n  addLastPoint(position: Cartesian3) {\r\n    if (this.doneCreation || !this._center || !this._radiusPoint) {\r\n      return;\r\n    }\r\n\r\n    this._radiusPoint.setPosition(position);\r\n    this.doneCreation = true;\r\n\r\n    this.updatePointsLayer();\r\n    this.updateCirclesLayer();\r\n  }\r\n\r\n  movePoint(toPosition: Cartesian3) {\r\n    if (!this._center || !this._radiusPoint) {\r\n      return;\r\n    }\r\n\r\n    this._radiusPoint.setPosition(toPosition);\r\n    this._outlineArc.radius = this.getRadius();\r\n\r\n    this.updateArcsLayer();\r\n    this.updatePointsLayer();\r\n    this.updateCirclesLayer();\r\n  }\r\n\r\n\r\n  moveCircle(dragStartPosition: Cartesian3, dragEndPosition: Cartesian3) {\r\n    if (!this.doneCreation) {\r\n      return;\r\n    }\r\n    if (!this.lastDraggedToPosition) {\r\n      this.lastDraggedToPosition = dragStartPosition;\r\n    }\r\n\r\n    const radius = this.getRadius();\r\n    const delta = GeoUtilsService.getPositionsDelta(this.lastDraggedToPosition, dragEndPosition);\r\n    GeoUtilsService.addDeltaToPosition(this.getCenter(), delta, true);\r\n    this.radiusPoint.setPosition(\r\n      GeoUtilsService.pointByLocationDistanceAndAzimuth(this.getCenter(), radius, Math.PI / 2, true));\r\n    this._outlineArc.radius = this.getRadius();\r\n    this.updateArcsLayer();\r\n    this.updatePointsLayer();\r\n    this.updateCirclesLayer();\r\n    this.lastDraggedToPosition = dragEndPosition;\r\n  }\r\n\r\n  endMovePolygon() {\r\n    this.lastDraggedToPosition = undefined;\r\n  }\r\n\r\n  getRadius(): number {\r\n    if (!this._center || !this._radiusPoint) {\r\n      return 0;\r\n    }\r\n    return GeoUtilsService.distance(this._center.getPosition(), this._radiusPoint.getPosition());\r\n  }\r\n\r\n  getCenter(): Cartesian3 {\r\n    return this._center ? this._center.getPosition() : undefined;\r\n  }\r\n\r\n  getRadiusPoint(): Cartesian3 {\r\n    return this._radiusPoint ? this._radiusPoint.getPosition() : undefined;\r\n  }\r\n\r\n  dispose() {\r\n    if (this._center) {\r\n      this.pointsLayer.remove(this._center.getId());\r\n    }\r\n\r\n    if (this._radiusPoint) {\r\n      this.pointsLayer.remove(this._radiusPoint.getId());\r\n    }\r\n\r\n    if (this._outlineArc) {\r\n      this.arcsLayer.remove(this._outlineArc.getId());\r\n    }\r\n\r\n    this.circlesLayer.remove(this.id);\r\n  }\r\n\r\n  getId() {\r\n    return this.id;\r\n  }\r\n\r\n  private updateCirclesLayer() {\r\n    this.circlesLayer.update(this, this.id);\r\n  }\r\n\r\n  private updatePointsLayer() {\r\n    if (this._center) {\r\n      this.pointsLayer.update(this._center, this._center.getId());\r\n    }\r\n    if (this._radiusPoint) {\r\n      this.pointsLayer.update(this._radiusPoint, this._radiusPoint.getId());\r\n    }\r\n  }\r\n\r\n  private updateArcsLayer() {\r\n    if (!this._outlineArc) {\r\n      return;\r\n    }\r\n    this.arcsLayer.update(this._outlineArc, this._outlineArc.getId());\r\n  }\r\n\r\n  private createOutlineArc() {\r\n    if (!this._center || !this._radiusPoint) {\r\n      return;\r\n    }\r\n    this._outlineArc = new EditArc(this.id, this.getCenter(), this.getRadius(), Math.PI * 2, 0, this.polylineProps);\r\n  }\r\n}\r\n"]}